define(["require","framework/controllers/Controller","jquery"],function(e){var t=e("framework/controllers/Controller"),n=e("jquery"),r=t.extend({constructor:function(e){return this.base(e),this},_initReferences:function(e){this.base();var t=this._references;t.$mostFiltersContainer=e.find(".js-most-filters")},_initEvents:function(){this.base();var e=this._boundFunctions,t=this._references;e.onMostFilterClick=this._onMostFilterClick.bind(this),t.$mostFiltersContainer.on("click",".js-most-filter",e.onMostFilterClick)},_onMostFilterClick:function(e){e.preventDefault();var t=n(e.currentTarget),r=t.data("filter-id");this.setActiveFilter(r)},setActiveFilter:function(e){var t=this._references.$mostFiltersContainer.find(".js-most-filter"),n=t.filter(".active").data("filter-id");if(e==n){this.setActiveFilter("-_score");return}var r=t.filter("[data-filter-id="+e+"]");t.removeClass("active"),r.addClass("active"),this.trigger("orderChanged",e)},destroy:function(){this.base()}});return r});