define(["require","app/libs/DigitalGreenDataFeed","app/libs/DataModel"],function(e){var t=e("app/libs/DigitalGreenDataFeed"),n=e("app/libs/DataModel"),r=t.extend({_filters:undefined,constructor:function(){this.base("api/partnerFarmers/");var e=this._dataModel.addSubModel("partnerFarmers",!0);this.addInputParam("uid",!1,undefined,!0,e),this.addInputParamCacheClear("language__name",e),this.addInputParam("offset",!1),this.addInputParam("limit",!1),this.getPartnerFarmers()},fetch:function(e,t){e==undefined&&(e=0),t==undefined&&(t=12),this.setInputParam("uid",$(".js-partner-farmers-pages-container").attr("data-partnerID")),this.setInputParam("offset",e,!0),this.setInputParam("limit",t,!0),this.base()},_processData:function(e){this.base(e);var t=this._dataModel,n=t.get("partnerFarmers"),r=e.meta.limit,i=e.meta.offset;t.set("totalCount",e.objects[0].farmer.length);var s=e.objects[0].farmer,o=i*r;return n.addSubset(s,o),s},clearCollectionCache:function(){this._dataModel.get("partnerFarmers").clear()},getTotalCount:function(){return this._dataModel.get("totalCount")},getPartnerFarmers:function(){var e=this.getInputParam("offset"),t=this.getInputParam("limit"),n=this._dataModel.get("partnerFarmers").getSubset(e*t,t);return n?n:(this.fetch(e,t),!1)}});return r});