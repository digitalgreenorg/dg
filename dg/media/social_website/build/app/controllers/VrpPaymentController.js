/*!
 * jQuery blockUI plugin
 * Version 2.66.0-2013.10.09
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */

/*
Copyright 2012 Igor Vaynberg

Version: 3.4.5 Timestamp: Mon Nov  4 08:22:42 PST 2013

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/

/*
 Highcharts JS v4.0.4 (2014-09-02)

 (c) 2009-2014 Torstein Honsi

 License: www.highcharts.com/license
*/

/*! DataTables 1.10.2
 * ©2008-2014 SpryMedia Ltd - datatables.net/license
 */

/**
 * @summary     DataTables
 * @description Paginate, search and order HTML tables
 * @version     1.10.2
 * @file        jquery.dataTables.js
 * @author      SpryMedia Ltd (www.sprymedia.co.uk)
 * @contact     www.sprymedia.co.uk/contact
 * @copyright   Copyright 2008-2014 SpryMedia Ltd.
 *
 * This source file is free software, available under the following license:
 *   MIT license - http://datatables.net/license
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net
 */

/*! TableTools 2.2.2
 * 2009-2014 SpryMedia Ltd - datatables.net/license
 *
 * ZeroClipboard 1.0.4
 * Author: Joseph Huckaby - MIT licensed
 */

/**
 * @summary     TableTools
 * @description Tools and buttons for DataTables
 * @version     2.2.2
 * @file        dataTables.tableTools.js
 * @author      SpryMedia Ltd (www.sprymedia.co.uk)
 * @contact     www.sprymedia.co.uk/contact
 * @copyright   Copyright 2009-2014 SpryMedia Ltd.
 *
 * This source file is free software, available under the following license:
 *   MIT license - http://datatables.net/license/mit
 *
 * This source file is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 *
 * For details please refer to: http://www.datatables.net
 */

/* TableTools
 * 2009-2014 SpryMedia Ltd - datatables.net/license
 */

/*
 * jQuery UI Monthpicker
 *
 * @licensed MIT <see below>
 * @licensed GPL <see below>
 *
 * @author Luciano Costa
 * http://lucianocosta.info/jquery.mtz.monthpicker/
 *
 * Depends:
 *  jquery.ui.core.js
 */

/**
 * MIT License
 * Copyright (c) 2011, Luciano Costa
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy 
 * of this software and associated documentation files (the "Software"), to deal 
 * in the Software without restriction, including without limitation the rights 
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell 
 * copies of the Software, and to permit persons to whom the Software is 
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

/**
 * GPL LIcense
 * Copyright (c) 2011, Luciano Costa
 * 
 * This program is free software: you can redistribute it and/or modify it 
 * under the terms of the GNU General Public License as published by the 
 * Free Software Foundation, either version 3 of the License, or 
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful, but 
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY 
 * or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License 
 * for more details.
 * 
 * You should have received a copy of the GNU General Public License along 
 * with this program. If not, see <http://www.gnu.org/licenses/>.
 */

(function(){function e(e){function a(i,a){var l,h,m=i==window,g=a&&a.message!==undefined?a.message:undefined;a=e.extend({},e.blockUI.defaults,a||{});if(a.ignoreIfBlocked&&e(i).data("blockUI.isBlocked"))return;a.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,a.overlayCSS||{}),l=e.extend({},e.blockUI.defaults.css,a.css||{}),a.onOverlayClick&&(a.overlayCSS.cursor="pointer"),h=e.extend({},e.blockUI.defaults.themedCSS,a.themedCSS||{}),g=g===undefined?a.message:g,m&&o&&f(window,{fadeOut:0});if(g&&typeof g!="string"&&(g.parentNode||g.jquery)){var y=g.jquery?g[0]:g,b={};e(i).data("blockUI.history",b),b.el=y,b.parent=y.parentNode,b.display=y.style.display,b.position=y.style.position,b.parent&&b.parent.removeChild(y)}e(i).data("blockUI.onUnblock",a.onUnblock);var w=a.baseZ,E,S,x,T;n||a.forceIframe?E=e('<iframe class="blockUI" style="z-index:'+w++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+a.iframeSrc+'"></iframe>'):E=e('<div class="blockUI" style="display:none"></div>'),a.theme?S=e('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+w++ +';display:none"></div>'):S=e('<div class="blockUI blockOverlay" style="z-index:'+w++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),a.theme&&m?(T='<div class="blockUI '+a.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(w+10)+';display:none;position:fixed">',a.title&&(T+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(a.title||"&nbsp;")+"</div>"),T+='<div class="ui-widget-content ui-dialog-content"></div>',T+="</div>"):a.theme?(T='<div class="blockUI '+a.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(w+10)+';display:none;position:absolute">',a.title&&(T+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(a.title||"&nbsp;")+"</div>"),T+='<div class="ui-widget-content ui-dialog-content"></div>',T+="</div>"):m?T='<div class="blockUI '+a.blockMsgClass+' blockPage" style="z-index:'+(w+10)+';display:none;position:fixed"></div>':T='<div class="blockUI '+a.blockMsgClass+' blockElement" style="z-index:'+(w+10)+';display:none;position:absolute"></div>',x=e(T),g&&(a.theme?(x.css(h),x.addClass("ui-widget-content")):x.css(l)),a.theme||S.css(a.overlayCSS),S.css("position",m?"fixed":"absolute"),(n||a.forceIframe)&&E.css("opacity",0);var N=[E,S,x],C=m?e("body"):e(i);e.each(N,function(){this.appendTo(C)}),a.theme&&a.draggable&&e.fn.draggable&&x.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var k=s&&(!e.support.boxModel||e("object,embed",m?null:i).length>0);if(r||k){m&&a.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%");if((r||!e.support.boxModel)&&!m)var L=v(i,"borderTopWidth"),A=v(i,"borderLeftWidth"),O=L?"(0 - "+L+")":0,M=A?"(0 - "+A+")":0;e.each(N,function(e,t){var n=t[0].style;n.position="absolute";if(e<2)m?n.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+a.quirksmodeOffsetHack+') + "px"'):n.setExpression("height",'this.parentNode.offsetHeight + "px"'),m?n.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):n.setExpression("width",'this.parentNode.offsetWidth + "px"'),M&&n.setExpression("left",M),O&&n.setExpression("top",O);else if(a.centerY)m&&n.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),n.marginTop=0;else if(!a.centerY&&m){var r=a.css&&a.css.top?parseInt(a.css.top,10):0,i="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+r+') + "px"';n.setExpression("top",i)}})}g&&(a.theme?x.find(".ui-widget-content").append(g):x.append(g),(g.jquery||g.nodeType)&&e(g).show()),(n||a.forceIframe)&&a.showOverlay&&E.show();if(a.fadeIn){var _=a.onBlock?a.onBlock:t,D=a.showOverlay&&!g?_:t,P=g?_:t;a.showOverlay&&S._fadeIn(a.fadeIn,D),g&&x._fadeIn(a.fadeIn,P)}else a.showOverlay&&S.show(),g&&x.show(),a.onBlock&&a.onBlock();c(1,i,a),m?(o=x[0],u=e(a.focusableElements,o),a.focusInput&&setTimeout(p,20)):d(x[0],a.centerX,a.centerY);if(a.timeout){var H=setTimeout(function(){m?e.unblockUI(a):e(i).unblock(a)},a.timeout);e(i).data("blockUI.timeout",H)}}function f(t,n){var r,i=t==window,s=e(t),a=s.data("blockUI.history"),f=s.data("blockUI.timeout");f&&(clearTimeout(f),s.removeData("blockUI.timeout")),n=e.extend({},e.blockUI.defaults,n||{}),c(0,t,n),n.onUnblock===null&&(n.onUnblock=s.data("blockUI.onUnblock"),s.removeData("blockUI.onUnblock"));var h;i?h=e("body").children().filter(".blockUI").add("body > .blockUI"):h=s.find(">.blockUI"),n.cursorReset&&(h.length>1&&(h[1].style.cursor=n.cursorReset),h.length>2&&(h[2].style.cursor=n.cursorReset)),i&&(o=u=null),n.fadeOut?(r=h.length,h.stop().fadeOut(n.fadeOut,function(){--r===0&&l(h,a,n,t)})):l(h,a,n,t)}function l(t,n,r,i){var s=e(i);if(s.data("blockUI.isBlocked"))return;t.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),n&&n.el&&(n.el.style.display=n.display,n.el.style.position=n.position,n.parent&&n.parent.appendChild(n.el),s.removeData("blockUI.history")),s.data("blockUI.static")&&s.css("position","static"),typeof r.onUnblock=="function"&&r.onUnblock(i,r);var o=e(document.body),u=o.width(),a=o[0].style.width;o.width(u-1).width(u),o[0].style.width=a}function c(t,n,r){var i=n==window,s=e(n);if(!t&&(i&&!o||!i&&!s.data("blockUI.isBlocked")))return;s.data("blockUI.isBlocked",t);if(!i||!r.bindEvents||t&&!r.showOverlay)return;var u="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(u,r,h):e(document).unbind(u,h)}function h(t){if(t.type==="keydown"&&t.keyCode&&t.keyCode==9&&o&&t.data.constrainTabKey){var n=u,r=!t.shiftKey&&t.target===n[n.length-1],i=t.shiftKey&&t.target===n[0];if(r||i)return setTimeout(function(){p(i)},10),!1}var s=t.data,a=e(t.target);return a.hasClass("blockOverlay")&&s.onOverlayClick&&s.onOverlayClick(t),a.parents("div."+s.blockMsgClass).length>0?!0:a.parents().children().filter("div.blockUI").length===0}function p(e){if(!u)return;var t=u[e===!0?u.length-1:0];t&&t.focus()}function d(e,t,n){var r=e.parentNode,i=e.style,s=(r.offsetWidth-e.offsetWidth)/2-v(r,"borderLeftWidth"),o=(r.offsetHeight-e.offsetHeight)/2-v(r,"borderTopWidth");t&&(i.left=s>0?s+"px":"0"),n&&(i.top=o>0?o+"px":"0")}function v(t,n){return parseInt(e.css(t,n),10)||0}e.fn._fadeIn=e.fn.fadeIn;var t=e.noop||function(){},n=/MSIE/.test(navigator.userAgent),r=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),i=document.documentMode||0,s=e.isFunction(document.createElement("div").style.setExpression);e.blockUI=function(e){a(window,e)},e.unblockUI=function(e){f(window,e)},e.growlUI=function(t,n,r,i){var s=e('<div class="growlUI"></div>');t&&s.append("<h1>"+t+"</h1>"),n&&s.append("<h2>"+n+"</h2>"),r===undefined&&(r=3e3);var o=function(t){t=t||{},e.blockUI({message:s,fadeIn:typeof t.fadeIn!="undefined"?t.fadeIn:700,fadeOut:typeof t.fadeOut!="undefined"?t.fadeOut:1e3,timeout:typeof t.timeout!="undefined"?t.timeout:r,centerY:!1,showOverlay:!1,onUnblock:i,css:e.blockUI.defaults.growlCSS})};o();var u=s.css("opacity");s.mouseover(function(){o({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop(),t.fadeTo(300,1)}).mouseout(function(){e(".blockMsg").fadeOut(1e3)})},e.fn.block=function(t){if(this[0]===window)return e.blockUI(t),this;var n=e.extend({},e.blockUI.defaults,t||{});return this.each(function(){var t=e(this);if(n.ignoreIfBlocked&&t.data("blockUI.isBlocked"))return;t.unblock({fadeOut:0})}),this.each(function(){e.css(this,"position")=="static"&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,a(this,t)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){f(this,t)})},e.blockUI.version=2.66,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var o=null,u=[]}typeof define=="function"&&define.amd&&define.amd.jQuery?define("libs/external/jquery.blockUI",["jquery"],e):e(jQuery)})(),function(e){typeof e.fn.each2=="undefined"&&e.extend(e.fn,{each2:function(t){var n=e([0]),r=-1,i=this.length;while(++r<i&&(n.context=n[0]=this[r])&&t.call(n[0],r,n)!==!1);return this}})}(jQuery),function(e,t){function p(e){var t,n,r,i;if(!e||e.length<1)return e;t="";for(n=0,r=e.length;n<r;n++)i=e.charAt(n),t+=h[i]||i;return t}function d(e,t){var n=0,r=t.length;for(;n<r;n+=1)if(m(e,t[n]))return n;return-1}function v(){var t=e(c);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function m(e,n){return e===n?!0:e===t||n===t?!1:e===null||n===null?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function g(t,n){var r,i,s;if(t===null||t.length<1)return[];r=t.split(n);for(i=0,s=r.length;i<s;i+=1)r[i]=e.trim(r[i]);return r}function y(e){return e.outerWidth(!1)-e.width()}function b(n){var r="keyup-change-value";n.on("keydown",function(){e.data(n,r)===t&&e.data(n,r,n.val())}),n.on("keyup",function(){var i=e.data(n,r);i!==t&&n.val()!==i&&(e.removeData(n,r),n.trigger("keyup-change"))})}function w(n){n.on("mousemove",function(n){var r=a;(r===t||r.x!==n.pageX||r.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function E(e,n,r){r=r||t;var i;return function(){var t=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,t)},e)}}function S(e){var t=!1,n;return function(){return t===!1&&(n=e(),t=!0),n}}function x(e,t){var n=E(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){d(e.target,t.get())>=0&&n(e)})}function T(e){if(e[0]===document.activeElement)return;window.setTimeout(function(){var t=e[0],n=e.val().length,r;e.focus(),e.is(":visible")&&t===document.activeElement&&(t.setSelectionRange?t.setSelectionRange(n,n):t.createTextRange&&(r=t.createTextRange(),r.collapse(!1),r.select()))},0)}function N(t){t=e(t)[0];var n=0,r=0;if("selectionStart"in t)n=t.selectionStart,r=t.selectionEnd-n;else if("selection"in document){t.focus();var i=document.selection.createRange();r=document.selection.createRange().text.length,i.moveStart("character",-t.value.length),n=i.text.length-r}return{offset:n,length:r}}function C(e){e.preventDefault(),e.stopPropagation()}function k(e){e.preventDefault(),e.stopImmediatePropagation()}function L(t){if(!u){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);u=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),u.attr("class","select2-sizer"),e("body").append(u)}return u.text(t.val()),u.width()}function A(t,n,r){var i,s=[],o;i=t.attr("class"),i&&(i=""+i,e(i.split(" ")).each2(function(){this.indexOf("select2-")===0&&s.push(this)})),i=n.attr("class"),i&&(i=""+i,e(i.split(" ")).each2(function(){this.indexOf("select2-")!==0&&(o=r(this),o&&s.push(o))})),t.attr("class",s.join(" "))}function O(e,t,n,r){var i=p(e.toUpperCase()).indexOf(p(t.toUpperCase())),s=t.length;if(i<0){n.push(r(e));return}n.push(r(e.substring(0,i))),n.push("<span class='select2-match'>"),n.push(r(e.substring(i,i+s))),n.push("</span>"),n.push(r(e.substring(i+s,e.length)))}function M(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function _(n){var r,i=null,s=n.quietMillis||100,o=n.url,u=this;return function(a){window.clearTimeout(r),r=window.setTimeout(function(){var r=n.data,s=o,f=n.transport||e.fn.select2.ajaxDefaults.transport,l={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},c=e.extend({},e.fn.select2.ajaxDefaults.params,l);r=r?r.call(u,a.term,a.page,a.context):null,s=typeof s=="function"?s.call(u,a.term,a.page,a.context):s,i&&i.abort(),n.params&&(e.isFunction(n.params)?e.extend(c,n.params.call(u)):e.extend(c,n.params)),e.extend(c,{url:s,dataType:n.dataType,data:r,success:function(e){var t=n.results(e,a.page);a.callback(t)}}),i=f.call(u,c)},s)}}function D(t){var n=t,r,i,s=function(e){return""+e.text};e.isArray(n)&&(i=n,n={results:i}),e.isFunction(n)===!1&&(i=n,n=function(){return i});var o=n();return o.text&&(s=o.text,e.isFunction(s)||(r=o.text,s=function(e){return e[r]})),function(t){var r=t.term,i={results:[]},o;if(r===""){t.callback(n());return}o=function(n,i){var u,a;n=n[0];if(n.children){u={};for(a in n)n.hasOwnProperty(a)&&(u[a]=n[a]);u.children=[],e(n.children).each2(function(e,t){o(t,u.children)}),(u.children.length||t.matcher(r,s(u),n))&&i.push(u)}else t.matcher(r,s(n),n)&&i.push(n)},e(n().results).each2(function(e,t){o(t,i.results)}),t.callback(i)}}function P(n){var r=e.isFunction(n);return function(i){var s=i.term,o={results:[]};e(r?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(s===""||i.matcher(s,n))&&o.results.push(e?this:{id:this,text:this})}),i.callback(o)}}function H(t,n){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error(n+" must be a function or a falsy value")}function B(t){return e.isFunction(t)?t():t}function j(t){var n=0;return e.each(t,function(e,t){t.children?n+=j(t.children):n++}),n}function F(e,n,r,i){var s=e,o=!1,u,a,f,l,c;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){a=-1;for(f=0,l=i.tokenSeparators.length;f<l;f++){c=i.tokenSeparators[f],a=e.indexOf(c);if(a>=0)break}if(a<0)break;u=e.substring(0,a),e=e.substring(a+c.length);if(u.length>0){u=i.createSearchChoice.call(this,u,n);if(u!==t&&u!==null&&i.id(u)!==t&&i.id(u)!==null){o=!1;for(f=0,l=n.length;f<l;f++)if(m(i.id(u),i.id(n[f]))){o=!0;break}o||r(u)}}}if(s!==e)return e}function I(t,n){var r=function(){};return r.prototype=new t,r.prototype.constructor=r,r.prototype.parent=t.prototype,r.prototype=e.extend(r.prototype,n),r}if(window.Select2!==t)return;var n,r,i,s,o,u,a={x:0,y:0},f,l,n={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){e=e.which?e.which:e;switch(e){case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case n.SHIFT:case n.CTRL:case n.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&e<=123}},c="<div class='select2-measure-scrollbar'></div>",h={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"};f=e(document),o=function(){var e=1;return function(){return e++}}(),f.on("mousemove",function(e){a.x=e.pageX,a.y=e.pageY}),r=I(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var r,i,s=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&n.element.data("select2")!==null&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+o()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=S(function(){return n.element.closest("body")}),A(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(B(n.containerCss)),this.container.addClass(B(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",C),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),A(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(B(n.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",C),this.results=r=this.container.find(s),this.search=i=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",C),w(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",s,this.bind(this.highlightUnderEvent)),x(80,this.results),this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var s=r.scrollTop();i>0&&s-i<=0?(r.scrollTop(0),C(e)):i<0&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),C(e))}),b(i),i.on("keyup-change input paste",this.bind(this.updateResults)),i.on("focus",function(){i.addClass("select2-focused")}),i.on("blur",function(){i.removeClass("select2-focused")}),this.dropdown.on("mouseup",s,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),n.maximumInputLength!==null&&this.search.attr("maxlength",n.maximumInputLength);var u=n.element.prop("disabled");u===t&&(u=!1),this.enable(!u);var a=n.element.prop("readonly");a===t&&(a=!1),this.readonly(a),l=l||v(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=t},destroy:function(){var e=this.opts.element,n=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==t&&(n.container.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){if(e.is("option"))return{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:m(e.attr("locked"),"locked")||m(e.data("locked"),!0)};if(e.is("optgroup"))return{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}},prepareOpts:function(n){var r,i,s,o,u=this;r=n.element,r.get(0).tagName.toLowerCase()==="select"&&(this.select=i=n.element),i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(r,i,s){var o,a=this.opts.id;o=function(r,i,f){var l,c,h,p,d,v,m,g,y,b;r=n.sortResults(r,i,s);for(l=0,c=r.length;l<c;l+=1)h=r[l],d=h.disabled===!0,p=!d&&a(h)!==t,v=h.children&&h.children.length>0,m=e("<li></li>"),m.addClass("select2-results-dept-"+f),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),d&&m.addClass("select2-disabled"),v&&m.addClass("select2-result-with-children"),m.addClass(u.opts.formatResultCssClass(h)),g=e(document.createElement("div")),g.addClass("select2-result-label"),b=n.formatResult(h,g,s,u.opts.escapeMarkup),b!==t&&g.html(b),m.append(g),v&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),o(h.children,y,f+1),m.append(y)),m.data("select2-data",h),i.append(m)},o(i,r,0)}},e.fn.select2.defaults,n),typeof n.id!="function"&&(s=n.id,n.id=function(e){return e[s]});if(e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}i?(n.query=this.bind(function(e){var n={results:[],more:!1},i=e.term,s,o,a;a=function(t,n){var r;t.is("option")?e.matcher(i,t.text(),t)&&n.push(u.optionToData(t)):t.is("optgroup")&&(r=u.optionToData(t),t.children().each2(function(e,t){a(t,r.children)}),r.children.length>0&&n.push(r))},s=r.children(),this.getPlaceholder()!==t&&s.length>0&&(o=this.getPlaceholderOption(),o&&(s=s.not(o))),s.each2(function(e,t){a(t,n.results)}),e.callback(n)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(o=n.element.data("ajax-url"),o&&o.length>0&&(n.ajax.url=o),n.query=_.call(n.element,n.ajax)):"data"in n?n.query=D(n.data):"tags"in n&&(n.query=P(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,r){var i=[];e(g(t.val(),n.separator)).each(function(){var t={id:this,text:this},r=n.tags;e.isFunction(r)&&(r=r()),e(r).each(function(){if(m(this.id,t.id))return t=this,!1}),i.push(t)}),r(i)})));if(typeof n.query!="function")throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e=this.opts.element,n,r;e.on("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),n=this.bind(function(){var n=e.prop("disabled");n===t&&(n=!1),this.enable(!n);var r=e.prop("readonly");r===t&&(r=!1),this.readonly(r),A(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(B(this.opts.containerCssClass)),A(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(B(this.opts.dropdownCssClass))}),e.on("propertychange.select2",n),this.mutationCallback===t&&(this.mutationCallback=function(e){e.forEach(n)}),r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,r!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new r(this.mutationCallback),this.propertyObserver.observe(e.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0);if(this._enabled===e)return;this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface()},disable:function(){this.enable(!1)},readonly:function(e){return e===t&&(e=!1),this._readonly===e?!1:(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t=this.dropdown,n=this.container.offset(),r=this.container.outerHeight(!1),i=this.container.outerWidth(!1),s=t.outerHeight(!1),o=e(window),u=o.width(),a=o.height(),f=o.scrollLeft()+u,c=o.scrollTop()+a,h=n.top+r,p=n.left,d=h+s<=c,v=n.top-s>=this.body().scrollTop(),m=t.outerWidth(!1),g=p+m<=f,y=t.hasClass("select2-drop-above"),b,w,E,S,x;y?(w=!0,!v&&d&&(E=!0,w=!1)):(w=!1,!d&&v&&(E=!0,w=!0)),E&&(t.hide(),n=this.container.offset(),r=this.container.outerHeight(!1),i=this.container.outerWidth(!1),s=t.outerHeight(!1),f=o.scrollLeft()+u,c=o.scrollTop()+a,h=n.top+r,p=n.left,m=t.outerWidth(!1),g=p+m<=f,t.show()),this.opts.dropdownAutoWidth?(x=e(".select2-results",t)[0],t.addClass("select2-drop-auto-width"),t.css("width",""),m=t.outerWidth(!1)+(x.scrollHeight===x.clientHeight?0:l.width),m>i?i=m:m=i,g=p+m<=f):this.container.removeClass("select2-drop-auto-width"),this.body().css("position")!=="static"&&(b=this.body().offset(),h-=b.top,p-=b.left),g||(p=n.left+i-m),S={left:p,width:i},w?(S.bottom=a-n.top,S.top="auto",this.container.addClass("select2-drop-above"),t.addClass("select2-drop-above")):(S.top=h,S.bottom="auto",this.container.removeClass("select2-drop-above"),t.removeClass("select2-drop-above")),S=e.extend(S,B(this.opts.dropdownCss)),t.css(S)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var t=this.containerId,n="scroll."+t,r="resize."+t,i="orientationchange."+t,s;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),s=e("#select2-drop-mask"),s.length==0&&(s=e(document.createElement("div")),s.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),s.hide(),s.appendTo(this.body()),s.on("mousedown touchstart click",function(t){var n=e("#select2-drop"),r;n.length>0&&(r=n.data("select2"),r.opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close({focus:!0}),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==s[0]&&this.dropdown.before(s),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),s.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var o=this;this.container.parents().add(window).each(function(){e(this).on(r+" "+n+" "+i,function(e){o.positionDropdown()})})},close:function(){if(!this.opened())return;var t=this.containerId,n="scroll."+t,r="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(r).off(i)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return B(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t=this.results,n,r,i,s,o,u,a;r=this.highlight();if(r<0)return;if(r==0){t.scrollTop(0);return}n=this.findHighlightableChoices().find(".select2-result-label"),i=e(n[r]),s=i.offset().top+i.outerHeight(!0),r===n.length-1&&(a=t.find("li.select2-more-results"),a.length>0&&(s=a.offset().top+a.outerHeight(!0))),o=t.offset().top+t.outerHeight(!0),s>o&&t.scrollTop(t.scrollTop()+(s-o)),u=i.offset().top-t.offset().top,u<0&&i.css("display")!="none"&&t.scrollTop(t.scrollTop()+u)},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(t){var n=this.findHighlightableChoices(),r=this.highlight();while(r>-1&&r<n.length){r+=t;var i=e(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(r);break}}},highlight:function(t){var n=this.findHighlightableChoices(),r,i;if(arguments.length===0)return d(n.filter(".select2-highlighted")[0],n.get());t>=n.length&&(t=n.length-1),t<0&&(t=0),this.removeHighlight(),r=e(n[t]),r.addClass("select2-highlighted"),this.ensureHighlightVisible(),i=r.data("select2-data"),i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.findHighlightableChoices();this.highlight(r.index(n))}else n.length==0&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),n,r=this.resultsPage+1,i=this,s=this.search.val(),o=this.context;if(t.length===0)return;n=t.offset().top-e.offset().top-e.height(),n<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:r,context:o,matcher:this.opts.matcher,callback:this.bind(function(n){if(!i.opened())return;i.opts.populateResults.call(this,e,n.results,{term:s,page:r,context:o}),i.postprocessResults(n,!1,!1),n.more===!0?(t.detach().appendTo(e).text(i.opts.formatLoadMore(r+1)),window.setTimeout(function(){i.loadMoreIfNeeded()},10)):t.remove(),i.positionDropdown(),i.resultsPage=r,i.context=n.context,this.opts.element.trigger({type:"select2-loaded",items:n})})}))},tokenize:function(){},updateResults:function(n){function h(){r.removeClass("select2-active"),u.positionDropdown()}function p(e){i.html(e),h()}var r=this.search,i=this.results,s=this.opts,o,u=this,a,f=r.val(),l=e.data(this.container,"select2-last-term"),c;if(n!==!0&&l&&m(f,l))return;e.data(this.container,"select2-last-term",f);if(n!==!0&&(this.showSearchInput===!1||!this.opened()))return;c=++this.queryCount;var d=this.getMaximumSelectionSize();if(d>=1){o=this.data();if(e.isArray(o)&&o.length>=d&&H(s.formatSelectionTooBig,"formatSelectionTooBig")){p("<li class='select2-selection-limit'>"+s.formatSelectionTooBig(d)+"</li>");return}}if(r.val().length<s.minimumInputLength){H(s.formatInputTooShort,"formatInputTooShort")?p("<li class='select2-no-results'>"+s.formatInputTooShort(r.val(),s.minimumInputLength)+"</li>"):p(""),n&&this.showSearch&&this.showSearch(!0);return}if(s.maximumInputLength&&r.val().length>s.maximumInputLength){H(s.formatInputTooLong,"formatInputTooLong")?p("<li class='select2-no-results'>"+s.formatInputTooLong(r.val(),s.maximumInputLength)+"</li>"):p("");return}s.formatSearching&&this.findHighlightableChoices().length===0&&p("<li class='select2-searching'>"+s.formatSearching()+"</li>"),r.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=t&&a!=null&&r.val(a),this.resultsPage=1,s.query({element:s.element,term:r.val(),page:this.resultsPage,context:null,matcher:s.matcher,callback:this.bind(function(o){var a;if(c!=this.queryCount)return;if(!this.opened()){this.search.removeClass("select2-active");return}this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&r.val()!==""&&(a=this.opts.createSearchChoice.call(u,r.val(),o.results),a!==t&&a!==null&&u.id(a)!==t&&u.id(a)!==null&&e(o.results).filter(function(){return m(u.id(this),u.id(a))}).length===0&&o.results.unshift(a));if(o.results.length===0&&H(s.formatNoMatches,"formatNoMatches")){p("<li class='select2-no-results'>"+s.formatNoMatches(r.val())+"</li>");return}i.empty(),u.opts.populateResults.call(this,i,o.results,{term:r.val(),page:this.resultsPage,context:null}),o.more===!0&&H(s.formatLoadMore,"formatLoadMore")&&(i.append("<li class='select2-more-results'>"+u.opts.escapeMarkup(s.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),h(),this.opts.element.trigger({type:"select2-loaded",items:o})})})},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){T(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),r=n.closest(".select2-result").data("select2-data");r?(this.highlight(t),this.onSelect(r,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children("option").first();if(this.opts.placeholderOption!==t)return this.opts.placeholderOption==="first"&&e||typeof this.opts.placeholderOption=="function"&&this.opts.placeholderOption(this.select);if(e.text()===""&&e.val()==="")return e}},initContainerWidth:function(){function n(){var n,r,i,s,o,u;if(this.opts.width==="off")return null;if(this.opts.width==="element")return this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px";if(this.opts.width==="copy"||this.opts.width==="resolve"){n=this.opts.element.attr("style");if(n!==t){r=n.split(";");for(s=0,o=r.length;s<o;s+=1){u=r[s].replace(/\s/g,""),i=u.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);if(i!==null&&i.length>=1)return i[1]}}return this.opts.width==="resolve"?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var r=n.call(this);r!==null&&this.container.css("width",r)}}),i=I(r,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,r,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),n=this.search.get(0),n.createTextRange?(r=n.createTextRange(),r.collapse(!1),r.select()):n.setSelectionRange&&(i=this.search.val().length,n.setSelectionRange(i,i)),this.search.val()===""&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(e){if(!this.opened())return;this.parent.close.apply(this,arguments),e=e||{focus:!0},this.focusser.removeAttr("disabled"),e.focus&&this.focusser.focus()},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,r=this.container,i=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=r.find(".select2-choice"),this.focusser=r.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+o()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;if(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN){C(e);return}switch(e.which){case n.UP:case n.DOWN:this.moveHighlight(e.which===n.UP?-1:1),C(e);return;case n.ENTER:this.selectHighlighted(),C(e);return;case n.TAB:this.selectHighlighted({noFocus:!0});return;case n.ESC:this.cancel(e),C(e);return}})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.ESC)return;if(this.opts.openOnEnter===!1&&e.which===n.ENTER){C(e);return}if(e.which==n.DOWN||e.which==n.UP||e.which==n.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;this.open(),C(e);return}if(e.which==n.DELETE||e.which==n.BACKSPACE){this.opts.allowClear&&this.clear(),C(e);return}})),b(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){e.stopPropagation();if(this.opened())return;this.open()}})),t.on("mousedown","abbr",this.bind(function(e){if(!this.isInterfaceEnabled())return;this.clear(),k(e),this.close(),this.selection.focus()})),t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),C(t)})),i.on("mousedown",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(e){C(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var r=e.Event("select2-clearing");this.opts.element.trigger(r);if(r.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){var e;if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==t&&e!==null&&(n.updateSelection(e),n.close(),n.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()?(e=this.getPlaceholderOption())!==t&&e.prop("selected")||this.opts.element.val()===""||this.opts.element.val()===t||this.opts.element.val()===null:!1},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(e,t){var r=e.find("option").filter(function(){return this.selected});t(n.optionToData(r))}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=n.val(),s=null;t.query({matcher:function(e,n,r){var o=m(i,t.id(r));return o&&(s=r),o},callback:e.isFunction(r)?function(){r(s)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var r=0,i=this,s=!0;this.findHighlightableChoices().each2(function(e,t){if(m(i.id(t.data("select2-data")),i.opts.element.val()))return r=e,!1}),n!==!1&&(t===!0&&r>=0?this.highlight(r):this.highlight(0));if(t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(j(e.results)>=o)}},showSearch:function(t){if(this.showSearchInput===t)return;this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t)},onSelect:function(e,t){if(!this.triggerSelect(e))return;var n=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),(!t||!t.noFocus)&&this.focusser.focus(),m(n,this.id(e))||this.triggerChange({added:e,removed:r})},updateSelection:function(e){var n=this.selection.find(".select2-chosen"),r,i;this.selection.data("select2-data",e),n.empty(),e!==null&&(r=this.opts.formatSelection(e,n,this.opts.escapeMarkup)),r!==t&&n.append(r),i=this.opts.formatSelectionCssClass(e,n),i!==t&&n.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,r=null,i=this,s=this.data();if(arguments.length===0)return this.opts.element.val();e=arguments[0],arguments.length>1&&(n=arguments[1]);if(this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return r=i.optionToData(t),!1}),this.updateSelection(r),this.setPlaceholder(),n&&this.triggerChange({added:r,removed:s});else{if(!e&&e!==0){this.clear(n);return}if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder(),n&&i.triggerChange({added:e,removed:s})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,r=!1;if(arguments.length===0)return n=this.selection.data("select2-data"),n==t&&(n=null),n;arguments.length>1&&(r=arguments[1]),e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),r&&this.triggerChange({added:e,removed:n})):this.clear(r)}}),s=I(r,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(e,t){var r=[];e.find("option").filter(function(){return this.selected}).each2(function(e,t){r.push(n.optionToData(t))}),t(r)}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=g(n.val(),t.separator),s=[];t.query({matcher:function(n,r,o){var u=e.grep(i,function(e){return m(e,t.id(o))}).length;return u&&s.push(o),u},callback:e.isFunction(r)?function(){var e=[];for(var n=0;n<i.length;n++){var o=i[n];for(var u=0;u<s.length;u++){var a=s[u];if(m(o,t.id(a))){e.push(a),s.splice(u,1);break}}}r(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");if(!t.length||!e||e[0]!=t[0])t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t=".select2-choices",r;this.searchContainer=this.container.find(".select2-search-field"),this.selection=r=this.container.find(t);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(t){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+o()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){if(!this.isInterfaceEnabled())return;this.opened()||this.open()})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;++this.keydowns;var t=r.find(".select2-search-choice-focus"),i=t.prev(".select2-search-choice:not(.select2-locked)"),s=t.next(".select2-search-choice:not(.select2-locked)"),o=N(this.search);if(!(!t.length||e.which!=n.LEFT&&e.which!=n.RIGHT&&e.which!=n.BACKSPACE&&e.which!=n.DELETE&&e.which!=n.ENTER)){var u=t;e.which==n.LEFT&&i.length?u=i:e.which==n.RIGHT?u=s.length?s:null:e.which===n.BACKSPACE?(this.unselect(t.first()),this.search.width(10),u=i.length?i:s):e.which==n.DELETE?(this.unselect(t.first()),this.search.width(10),u=s.length?s:null):e.which==n.ENTER&&(u=null),this.selectChoice(u),C(e),(!u||!u.length)&&this.open();return}if((e.which===n.BACKSPACE&&this.keydowns==1||e.which==n.LEFT)&&o.offset==0&&!o.length){this.selectChoice(r.find(".select2-search-choice:not(.select2-locked)").last()),C(e);return}this.selectChoice(null);if(this.opened())switch(e.which){case n.UP:case n.DOWN:this.moveHighlight(e.which===n.UP?-1:1),C(e);return;case n.ENTER:this.selectHighlighted(),C(e);return;case n.TAB:this.selectHighlighted({noFocus:!0}),this.close();return;case n.ESC:this.cancel(e),C(e);return}if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.BACKSPACE||e.which===n.ESC)return;if(e.which===n.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN)&&C(e),e.which===n.ENTER&&C(e)})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",t,this.bind(function(t){if(!this.isInterfaceEnabled())return;if(e(t.target).closest(".select2-search-choice").length>0)return;this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()})),this.container.on("focus",t,this.bind(function(){if(!this.isInterfaceEnabled())return;this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder()})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){var e;this.opts.element.val()===""&&this.opts.element.text()===""&&(this.updateSelection([]),this.close(),this.clearSearch());if(this.select||this.opts.element.val()!==""){var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==t&&e!==null&&(n.updateSelection(e),n.close(),n.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&this.getVal().length===0&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],r=[],i=this;e(t).each(function(){d(i.id(this),n)<0&&(n.push(i.id(this)),r.push(this))}),t=r,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){i.addSelectedChoice(this)}),i.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),e!=null&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){if(!this.triggerSelect(e))return;this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),(!t||!t.noFocus)&&this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var r=!n.locked,i=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),o=r?i:s,u=this.id(n),a=this.getVal(),f,l;f=this.opts.formatSelection(n,o.find("div"),this.opts.escapeMarkup),f!=t&&o.find("div").replaceWith("<div>"+f+"</div>"),l=this.opts.formatSelectionCssClass(n,o.find("div")),l!=t&&o.addClass(l),r&&o.find(".select2-search-choice-close").on("mousedown",C).on("click dblclick",this.bind(function(t){if(!this.isInterfaceEnabled())return;e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),C(t)})).on("focus",this.bind(function(){if(!this.isInterfaceEnabled())return;this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active")})),o.data("select2-data",n),o.insertBefore(this.searchContainer),a.push(u),this.setVal(a)},unselect:function(t){var n=this.getVal(),r,i;t=t.closest(".select2-search-choice");if(t.length===0)throw"Invalid argument: "+t+". Must be .select2-search-choice";r=t.data("select2-data");if(!r)return;while((i=d(this.id(r),n))>=0)n.splice(i,1),this.setVal(n),this.select&&this.postprocessResults();var s=e.Event("select2-removing");s.val=this.id(r),s.choice=r,this.opts.element.trigger(s);if(s.isDefaultPrevented())return;t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(r),choice:r}),this.triggerChange({removed:r})},postprocessResults:function(e,t,n){var r=this.getVal(),i=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),o=this;i.each2(function(e,t){var n=o.id(t.data("select2-data"));d(n,r)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(e,t){!t.is(".select2-result-selectable")&&t.find(".select2-result-selectable:not(.select2-selected)").length===0&&t.addClass("select2-selected")}),this.highlight()==-1&&n!==!1&&o.highlight(0),!this.opts.createSearchChoice&&!i.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&this.results.find(".select2-no-results").length===0)&&H(o.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+o.opts.formatNoMatches(o.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-y(this.search)},resizeSearch:function(){var e,t,n,r,i,s=y(this.search);e=L(this.search)+10,t=this.search.offset().left,n=this.selection.width(),r=this.selection.offset().left,i=n-(t-r)-s,i<e&&(i=n-s),i<40&&(i=n-s),i<=0&&(i=e),this.search.width(Math.floor(i))},getVal:function(){var e;return this.select?(e=this.select.val(),e===null?[]:e):(e=this.opts.element.val(),g(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){d(this,n)<0&&n.push(this)}),this.opts.element.val(n.length===0?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){var t=t.slice(0),e=e.slice(0);for(var n=0;n<t.length;n++)for(var r=0;r<e.length;r++)m(this.opts.id(t[n]),this.opts.id(e[r]))&&(t.splice(n,1),n>0&&n--,e.splice(r,1),r--);return{added:t,removed:e}},val:function(n,r){var i,s=this;if(arguments.length===0)return this.getVal();i=this.data(),i.length||(i=[]);if(!n&&n!==0){this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),r&&this.triggerChange({added:this.data(),removed:i});return}this.setVal(n);if(this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,s.id);s.setVal(n),s.updateSelection(t),s.clearSearch(),r&&s.triggerChange(s.buildChangeDetails(i,s.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var r=this,i,s;if(arguments.length===0)return this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get();s=this.data(),t||(t=[]),i=e.map(t,function(e){return r.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(s,this.data()))}}),e.fn.select2=function(){var n=Array.prototype.slice.call(arguments,0),r,o,u,a,f,l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],h=["val","data"],p={search:"externalSearch"};return this.each(function(){if(n.length===0||typeof n[0]=="object")r=n.length===0?{}:e.extend({},n[0]),r.element=e(this),r.element.get(0).tagName.toLowerCase()==="select"?f=r.element.prop("multiple"):(f=r.multiple||!1,"tags"in r&&(r.multiple=f=!0)),o=f?new s:new i,o.init(r);else{if(typeof n[0]!="string")throw"Invalid arguments to select2 plugin: "+n;if(d(n[0],l)<0)throw"Unknown method: "+n[0];a=t,o=e(this).data("select2");if(o===t)return;u=n[0],u==="container"?a=o.container:u==="dropdown"?a=o.dropdown:(p[u]&&(u=p[u]),a=o[u].apply(o,n.slice(1)));if(d(n[0],c)>=0||d(n[0],h)&&n.length==1)return!1}}),a===t?this:a},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,r){var i=[];return O(e.text,n.term,i,r),i.join("")},formatSelection:function(e,n,r){return e?r(e.text):t},sortResults:function(e,t,n){return e},formatResultCssClass:function(e){return t},formatSelectionCssClass:function(e,n){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(n==1?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(n==1?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(e==1?"":"s")},formatLoadMore:function(e){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return p(""+t).toUpperCase().indexOf(p(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:F,escapeMarkup:M,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,n){return t}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:_,local:D,tags:P},util:{debounce:E,markMatch:O,escapeMarkup:M,stripDiacritics:p},"class":{"abstract":r,single:i,multi:s}}}(jQuery),define("libs/external/select2",function(){}),function(){function e(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e}function t(){var e,t=arguments,n,r={},i=function(e,t){var n,r;typeof e!="object"&&(e={});for(r in t)t.hasOwnProperty(r)&&(n=t[r],e[r]=n&&typeof n=="object"&&Object.prototype.toString.call(n)!=="[object Array]"&&r!=="renderTo"&&typeof n.nodeType!="number"?i(e[r]||{},n):t[r]);return e};t[0]===!0&&(r=t[1],t=Array.prototype.slice.call(t,2)),n=t.length;for(e=0;e<n;e++)r=i(r,t[e]);return r}function n(e,t){return parseInt(e,t||10)}function r(e){return typeof e=="string"}function i(e){return e&&typeof e=="object"}function s(e){return Object.prototype.toString.call(e)==="[object Array]"}function o(e){return typeof e=="number"}function u(e){return I.log(e)/I.LN10}function a(e){return I.pow(10,e)}function f(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function l(e){return e!==B&&e!==null}function c(e,t,n){var s,o;if(r(t))l(n)?e.setAttribute(t,n):e&&e.getAttribute&&(o=e.getAttribute(t));else if(l(t)&&i(t))for(s in t)e.setAttribute(s,t[s]);return o}function h(e){return s(e)?e:[e]}function p(){var e=arguments,t,n,r=e.length;for(t=0;t<r;t++)if(n=e[t],n!==B&&n!==null)return n}function d(t,n){Y&&!it&&n&&n.opacity!==B&&(n.filter="alpha(opacity="+n.opacity*100+")"),e(t.style,n)}function v(t,n,r,i,s){return t=j.createElement(t),n&&e(t,n),s&&d(t,{padding:0,border:St,margin:0}),r&&d(t,r),i&&i.appendChild(t),t}function m(t,n){var r=function(){return B};return r.prototype=new t,e(r.prototype,n),r}function g(e,t,r,i){var s=qt.numberFormat,o=ht.lang,u=+e||0,a=t===-1?(u.toString().split(".")[1]||"").length:isNaN(t=X(t))?2:t,f=r===void 0?o.decimalPoint:r,o=i===void 0?o.thousandsSep:i,l=u<0?"-":"",c=String(n(u=X(u).toFixed(a))),h=c.length>3?c.length%3:0;return s!==g?s(e,t,r,i):l+(h?c.substr(0,h)+o:"")+c.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+o)+(a?f+X(u-c).toFixed(a).slice(2):"")}function y(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function b(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(r),n.apply(this,e)}}function w(e,t){for(var n="{",r=!1,i,s,o,u,a,f=[];(n=e.indexOf(n))!==-1;){i=e.slice(0,n);if(r){s=i.split(":"),o=s.shift().split("."),a=o.length,i=t;for(u=0;u<a;u++)i=i[o[u]];s.length&&(s=s.join(":"),o=/\.([0-9])/,u=ht.lang,a=void 0,/f$/.test(s)?(a=(a=s.match(o))?a[1]:-1,i!==null&&(i=g(i,a,u.decimalPoint,s.indexOf(",")>-1?u.thousandsSep:""))):i=pt(s,i))}f.push(i),e=e.slice(n+1),n=(r=!r)?"}":"{"}return f.push(e),f.join("")}function E(e){return I.pow(10,R(I.log(e)/I.LN10))}function S(e,t,n,r){var i,n=p(n,1);i=e/n,t||(t=[1,2,2.5,5,10],r===!1&&(n===1?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(r=0;r<t.length;r++)if(e=t[r],i<=(t[r]+(t[r+1]||t[r]))/2)break;return e*=n,e}function x(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){return r=t(e,n),r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function T(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function N(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function C(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function k(e){ct||(ct=v(Et)),e&&ct.appendChild(e),ct.innerHTML=""}function L(e){return parseFloat(e.toPrecision(14))}function A(e,t){dt=p(e,t.animation)}function O(){var e=ht.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";Nt=ht.global.Date||window.Date,kt=(e&&ht.global.timezoneOffset||0)*6e4,Ct=e?Nt.UTC:function(e,t,n,r,i,s){return(new Nt(e,t,p(n,1),p(r,0),p(i,0),p(s,0))).getTime()},Lt=t+"Minutes",At=t+"Hours",Ot=t+"Day",Mt=t+"Date",_t=t+"Month",Dt=t+"FullYear",Pt=n+"Minutes",Ht=n+"Hours",Bt=n+"Date",jt=n+"Month",Ft=n+"FullYear"}function M(){}function _(e,t,n,r){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!r&&this.addLabel()}function D(){this.init.apply(this,arguments)}function P(){this.init.apply(this,arguments)}function H(e,t,n,r,i){var s=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.total=null,this.points={},this.stack=i,this.alignOptions={align:t.align||(s?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":n?"bottom":"top"),y:p(t.y,s?4:n?14:-6),x:p(t.x,s?n?-6:6:0)},this.textAlign=t.textAlign||(s?n?"right":"left":"center")}var B,j=document,F=window,I=Math,q=I.round,R=I.floor,U=I.ceil,z=I.max,W=I.min,X=I.abs,V=I.cos,$=I.sin,J=I.PI,K=J*2/360,Q=navigator.userAgent,G=F.opera,Y=/msie/i.test(Q)&&!G,Z=j.documentMode===8,et=/AppleWebKit/.test(Q),tt=/Firefox/.test(Q),nt=/(Mobile|Android|Windows Phone)/.test(Q),rt="http://www.w3.org/2000/svg",it=!!j.createElementNS&&!!j.createElementNS(rt,"svg").createSVGRect,st=tt&&parseInt(Q.split("Firefox/")[1],10)<4,ot=!it&&!Y&&!!j.createElement("canvas").getContext,ut,at,ft={},lt=0,ct,ht,pt,dt,vt,mt,gt,yt=function(){return B},bt=[],wt=0,Et="div",St="none",xt=/^[0-9]+$/,Tt="stroke-width",Nt,Ct,kt,Lt,At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt,Ft,It={},qt;F.Highcharts?gt(16,!0):qt=F.Highcharts={},pt=function(t,n,r){if(!l(n)||isNaN(n))return"Invalid date";var t=p(t,"%Y-%m-%d %H:%M:%S"),i=new Nt(n-kt),s,o=i[At](),u=i[Ot](),a=i[Mt](),f=i[_t](),c=i[Dt](),h=ht.lang,d=h.weekdays,i=e({a:d[u].substr(0,3),A:d[u],d:y(a),e:a,b:h.shortMonths[f],B:h.months[f],m:y(f+1),y:c.toString().substr(2,2),Y:c,H:y(o),I:y(o%12||12),l:o%12||12,M:y(i[Lt]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:y(i.getSeconds()),L:y(q(n%1e3),3)},qt.dateFormats);for(s in i)for(;t.indexOf("%"+s)!==-1;)t=t.replace("%"+s,typeof i[s]=="function"?i[s](n):i[s]);return r?t.substr(0,1).toUpperCase()+t.substr(1):t},gt=function(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;F.console&&console.log(n)},mt={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31556952e3},vt={init:function(e,t,n){var t=t||"",r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,t=t.split(" "),n=[].concat(n),u,a,f=function(e){for(o=e.length;o--;)e[o]==="M"&&e.splice(o+1,0,e[o+1],e[o+2],e[o+1],e[o+2])};i&&(f(t),f(n)),e.isArea&&(u=t.splice(t.length-6,6),a=n.splice(n.length-6,6));if(r<=n.length/s&&t.length===n.length)for(;r--;)n=[].concat(n).splice(0,s).concat(n);e.shift=0;if(t.length)for(e=n.length;t.length<e;)r=[].concat(t).splice(t.length-s,s),i&&(r[s-6]=r[s-2],r[s-5]=r[s-1]),t=t.concat(r);return u&&(t=t.concat(u),n=n.concat(a)),[t,n]},step:function(e,t,n,r){var i=[],s=e.length;if(n===1)i=r;else if(s===t.length&&n<1)for(;s--;)r=parseFloat(e[s]),i[s]=isNaN(r)?e[s]:n*parseFloat(t[s]-r)+r;else i=t;return i}},function(t){F.HighchartsAdapter=F.HighchartsAdapter||t&&{init:function(e){var n=t.fx;t.extend(t.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}}),t.each(["cur","_default","width","height","opacity"],function(e,r){var i=n.step,s;r==="cur"?i=n.prototype:r==="_default"&&t.Tween&&(i=t.Tween.propHooks[r],r="set"),(s=i[r])&&(i[r]=function(t){var n,t=e?t:this;if(t.prop!=="align")return n=t.elem,n.attr?n.attr(t.prop,r==="cur"?B:t.now):s.apply(this,arguments)})}),b(t.cssHooks.opacity,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}),this.addAnimSetter("d",function(t){var n=t.elem,r;t.started||(r=e.init(n,n.d,n.toD),t.start=r[0],t.end=r[1],t.started=!0),n.attr("d",e.step(t.start,t.end,t.pos,n.toD))}),this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n},t.fn.highcharts=function(){var e="Chart",t=arguments,n,i;return this[0]&&(r(t[0])&&(e=t[0],t=Array.prototype.slice.call(t,1)),n=t[0],n!==B&&(n.chart=n.chart||{},n.chart.renderTo=this[0],new qt[e](n,t[1]),i=this),n===B&&(i=bt[c(this[0],"data-highcharts-chart")])),i}},addAnimSetter:function(e,n){t.Tween?t.Tween.propHooks[e]={set:n}:t.fx.step[e]=n},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,n){return t(e)[n]()},grep:t.grep,map:function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},offset:function(e){return t(e).offset()},addEvent:function(e,n,r){t(e).bind(n,r)},removeEvent:function(e,n,r){var i=j.removeEventListener?"removeEventListener":"detachEvent";j[i]&&e&&!e[i]&&(e[i]=function(){}),t(e).unbind(n,r)},fireEvent:function(n,r,i,s){var o=t.Event(r),u="detached"+r,a;!Y&&i&&(delete i.layerX,delete i.layerY,delete i.returnValue),e(o,i),n[r]&&(n[u]=n[r],n[r]=null),t.each(["preventDefault","stopPropagation"],function(e,t){var n=o[t];o[t]=function(){try{n.call(o)}catch(e){t==="preventDefault"&&(a=!0)}}}),t(n).trigger(o),n[u]&&(n[r]=n[u],n[u]=null),s&&!o.isDefaultPrevented()&&!a&&s(o)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===B&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(e,n,r){var i=t(e);e.style||(e.style={}),n.d&&(e.toD=n.d,n.d=1),i.stop(),n.opacity!==B&&e.attr&&(n.opacity+="px"),e.hasAnim=1,i.animate(n,r)},stop:function(e){e.hasAnim&&t(e).stop()}}}(F.jQuery);var Rt=F.HighchartsAdapter,Ut=Rt||{};Rt&&Rt.init.call(Rt,vt);var zt=Ut.adapterRun,Wt=Ut.getScript,Xt=Ut.inArray,Vt=Ut.each,$t=Ut.grep,Jt=Ut.offset,Kt=Ut.map,Qt=Ut.addEvent,Gt=Ut.removeEvent,Yt=Ut.fireEvent,Zt=Ut.washMouseEvent,en=Ut.animate,tn=Ut.stop,Ut={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};ht={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#8085e8,#8d4653,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:t(Ut,{align:"center",enabled:!1,formatter:function(){return this.y===null?"":g(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:it,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:nt?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var nn=ht.plotOptions,Rt=nn.line;O();var rn=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,sn=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,on=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,un=function(e){var r=[],i,s;return function(e){e&&e.stops?s=Kt(e.stops,function(e){return un(e[1])}):(i=rn.exec(e))?r=[n(i[1]),n(i[2]),n(i[3]),parseFloat(i[4],10)]:(i=sn.exec(e))?r=[n(i[1],16),n(i[2],16),n(i[3],16),1]:(i=on.exec(e))&&(r=[n(i[1]),n(i[2]),n(i[3]),1])}(e),{get:function(n){var i;return s?(i=t(e),i.stops=[].concat(i.stops),Vt(s,function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]})):i=r&&!isNaN(r[0])?n==="rgb"?"rgb("+r[0]+","+r[1]+","+r[2]+")":n==="a"?r[3]:"rgba("+r.join(",")+")":e,i},brighten:function(e){if(s)Vt(s,function(t){t.brighten(e)});else if(o(e)&&e!==0){var t;for(t=0;t<3;t++)r[t]+=n(e*255),r[t]<0&&(r[t]=0),r[t]>255&&(r[t]=255)}return this},rgba:r,setOpacity:function(e){return r[3]=e,this}}};M.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow,HcTextStroke".split(","),init:function(e,t){this.element=t==="span"?v(t):j.createElementNS(rt,t),this.renderer=e},animate:function(e,n,r){return n=p(n,dt,!0),tn(this),n?(n=t(n,{}),r&&(n.complete=r),en(this,e,n)):(this.attr(e),r&&r()),this},colorGradient:function(e,n,r){var i=this.renderer,o,u,a,f,c,h,p,d,v,m,g=[];e.linearGradient?u="linearGradient":e.radialGradient&&(u="radialGradient");if(u){a=e[u],f=i.gradients,h=e.stops,v=r.radialReference,s(a)&&(e[u]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),u==="radialGradient"&&v&&!l(a.gradientUnits)&&(a=t(a,{cx:v[0]-v[2]/2+a.cx*v[2],cy:v[1]-v[2]/2+a.cy*v[2],r:a.r*v[2],gradientUnits:"userSpaceOnUse"}));for(m in a)m!=="id"&&g.push(m,a[m]);for(m in h)g.push(h[m]);g=g.join(","),f[g]?e=f[g].attr("id"):(a.id=e="highcharts-"+lt++,f[g]=c=i.createElement(u).attr(a).add(i.defs),c.stops=[],Vt(h,function(e){e[1].indexOf("rgba")===0?(o=un(e[1]),p=o.get("rgb"),d=o.get("a")):(p=e[1],d=1),e=i.createElement("stop").attr({offset:e[0],"stop-color":p,"stop-opacity":d}).add(c),c.stops.push(e)})),r.setAttribute(n,"url("+i.url+"#"+e+")")}},attr:function(e,t){var n,r,i=this.element,s,o=this,u;typeof e=="string"&&t!==B&&(n=e,e={},e[n]=t);if(typeof e=="string")o=(this[e+"Getter"]||this._defaultGetter).call(this,e,i);else{for(n in e)r=e[n],u=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(s||(this.symbolAttr(e),s=!0),u=!0),this.rotation&&(n==="x"||n==="y")&&(this.doTransform=!0),u||(this[n+"Setter"]||this._defaultSetter).call(this,r,n,i),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,r);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return o},updateShadows:function(e,t){for(var n=this.shadows,r=n.length;r--;)n[r].setAttribute(e,e==="height"?z(t-(n[r].cutHeight||0),0):e==="d"?this.d:t)},addClass:function(e){var t=this.element,n=c(t,"class")||"";return n.indexOf(e)===-1&&c(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;Vt("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){t[n]=p(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":St)},crisp:function(e){var t,n={},r,i=e.strokeWidth||this.strokeWidth||0;r=q(i)%2/2,e.x=R(e.x||this.x||0)+r,e.y=R(e.y||this.y||0)+r,e.width=R((e.width||this.width||0)-2*r),e.height=R((e.height||this.height||0)-2*r),e.strokeWidth=i;for(t in e)this[t]!==e[t]&&(this[t]=n[t]=e[t]);return n},css:function(t){var r=this.styles,i={},s=this.element,o,u,a="";o=!r,t&&t.color&&(t.fill=t.color);if(r)for(u in t)t[u]!==r[u]&&(i[u]=t[u],o=!0);if(o){o=this.textWidth=t&&t.width&&s.nodeName.toLowerCase()==="text"&&n(t.width),r&&(t=e(r,i)),this.styles=t,o&&(ot||!it&&this.renderer.forExport)&&delete t.width;if(Y&&!it)d(this.element,t);else{r=function(e,t){return"-"+t.toLowerCase()};for(u in t)a+=u.replace(/([A-Z])/g,r)+":"+t[u]+";";c(s,"style",a)}o&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var n=this,r=n.element;return at&&e==="click"?(r.ontouchstart=function(e){n.touchEventFired=Nt.now(),e.preventDefault(),t.call(r,e)},r.onclick=function(e){(Q.indexOf("Android")===-1||Nt.now()-(n.touchEventFired||0)>1100)&&t.call(r,e)}):r["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,r=this.scaleY,i=this.inverted,s=this.rotation,o=this.element;i&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],i?e.push("rotate(90) scale(-1,1)"):s&&e.push("rotate("+s+" "+(o.getAttribute("x")||0)+" "+(o.getAttribute("y")||0)+")"),(l(n)||l(r))&&e.push("scale("+p(n,1)+" "+p(r,1)+")"),e.length&&o.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var i,s,o,u,a={};s=this.renderer,o=s.alignedObjects;if(e){if(this.alignOptions=e,this.alignByTranslate=t,!n||r(n))this.alignTo=i=n||"renderer",f(o,this),o.push(this),n=null}else e=this.alignOptions,t=this.alignByTranslate,i=this.alignTo;n=p(n,s[i],s),i=e.align,s=e.verticalAlign,o=(n.x||0)+(e.x||0),u=(n.y||0)+(e.y||0);if(i==="right"||i==="center")o+=(n.width-(e.width||0))/{right:1,center:2}[i];a[t?"translateX":"x"]=q(o);if(s==="bottom"||s==="middle")u+=(n.height-(e.height||0))/({bottom:1,middle:2}[s]||1);return a[t?"translateY":"y"]=q(u),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(){var t=this.bBox,n=this.renderer,r,i,s=this.rotation;r=this.element;var o=this.styles,u=s*K;i=this.textStr;var a;if(i===""||xt.test(i))a="num."+i.toString().length+(o?"|"+o.fontSize+"|"+o.fontFamily:"");a&&(t=n.cache[a]);if(!t){if(r.namespaceURI===rt||n.forExport){try{t=r.getBBox?e({},r.getBBox()):{width:r.offsetWidth,height:r.offsetHeight}}catch(f){}if(!t||t.width<0)t={width:0,height:0}}else t=this.htmlGetBBox();n.isSVG&&(r=t.width,i=t.height,Y&&o&&o.fontSize==="11px"&&i.toPrecision(3)==="16.9"&&(t.height=i=14),s&&(t.width=X(i*$(u))+X(r*V(u)),t.height=X(i*V(u))+X(r*$(u)))),this.bBox=t,a&&(n.cache[a]=t)}return t},show:function(e){return e&&this.element.namespaceURI===rt?this.element.removeAttribute("visibility"):this.attr({visibility:e?"inherit":"visible"}),this},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t=this.renderer,r=e||t,i=r.element||t.box,s=this.element,o=this.zIndex,u,a;e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,this.textStr!==void 0&&t.buildText(this),o&&(r.handleZ=!0,o=n(o));if(r.handleZ){e=i.childNodes;for(u=0;u<e.length;u++)if(t=e[u],r=c(t,"zIndex"),t!==s&&(n(r)>o||!l(o)&&l(r))){i.insertBefore(s,t),a=!0;break}}return a||i.appendChild(s),this.added=!0,this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r=e.renderer.isSVG&&t.nodeName==="SPAN"&&e.parentGroup,i,s;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,tn(e),e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(s=0;s<e.stops.length;s++)e.stops[s]=e.stops[s].destroy();e.stops=null}e.safeRemoveChild(t);for(n&&Vt(n,function(t){e.safeRemoveChild(t)});r&&r.div&&r.div.childNodes.length===0;)t=r.parentGroup,e.safeRemoveChild(r.div),delete r.div,r=t;e.alignTo&&f(e.renderer.alignedObjects,e);for(i in e)delete e[i];return null},shadow:function(e,t,n){var r=[],i,s,o=this.element,u,a,f,l;if(e){a=p(e.width,3),f=(e.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+p(e.offsetX,1)+", "+p(e.offsetY,1)+")";for(i=1;i<=a;i++)s=o.cloneNode(0),u=a*2+1-2*i,c(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":f*i,"stroke-width":u,transform:"translate"+l,fill:St}),n&&(c(s,"height",z(c(s,"height")-u,0)),s.cutHeight=u),t?t.element.appendChild(s):o.parentNode.insertBefore(s,o),r.push(s);this.shadows=r}return this},xGetter:function(e){return this.element.nodeName==="circle"&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){return e=p(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),n.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var t;if(e=e&&e.toLowerCase()){e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(t=e.length;t--;)e[t]=n(e[t])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e,n.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=j.createElementNS(rt,"title"),this.element.appendChild(t)),t.textContent=p(e,"").replace(/<[^>]*>/g,"")},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){typeof e=="string"?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},zIndexSetter:function(e,t,n){n.setAttribute(t,e),this[t]=e},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}},M.prototype.yGetter=M.prototype.xGetter,M.prototype.translateXSetter=M.prototype.translateYSetter=M.prototype.rotationSetter=M.prototype.verticalAlignSetter=M.prototype.scaleXSetter=M.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},M.prototype["stroke-widthSetter"]=M.prototype.strokeSetter=function(e,t,n){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],M.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):t==="stroke-width"&&e===0&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var an=function(){this.init.apply(this,arguments)};an.prototype={Element:M,init:function(e,t,n,r,i){var s=location,o,r=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(r));o=r.element,e.appendChild(o),e.innerHTML.indexOf("xmlns")===-1&&c(o,"xmlns",rt),this.isSVG=!0,this.box=o,this.boxWrapper=r,this.alignedObjects=[],this.url=(tt||et)&&j.getElementsByTagName("base").length?s.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(j.createTextNode("Created with Highcharts 4.0.4")),this.defs=this.createElement("defs").add(),this.forExport=i,this.gradients={},this.cache={},this.setSize(t,n,!1);var u;tt&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){d(e,{left:0,top:0}),u=e.getBoundingClientRect(),d(e,{left:U(u.left)-u.left+"px",top:U(u.top)-u.top+"px"})},t(),Qt(F,"resize",t))},getStyle:function(t){return this.style=e({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),C(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&Gt(F,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){for(var t=e.element,r=this,i=r.forExport,s=p(e.textStr,"").toString(),o=s.indexOf("<")!==-1,u=t.childNodes,a,f,l=c(t,"x"),h=e.styles,v=e.textWidth,m=h&&h.lineHeight,g=h&&h.HcTextStroke,y=u.length,b=function(e){return m?n(m):r.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:h&&h.fontSize||r.style.fontSize||12,e).h};y--;)t.removeChild(u[y]);!o&&!g&&s.indexOf(" ")===-1?t.appendChild(j.createTextNode(s)):(a=/<.*style="([^"]+)".*>/,f=/<.*href="(http[^"]+)".*>/,v&&!e.added&&this.box.appendChild(t),s=o?s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[s],s[s.length-1]===""&&s.pop(),Vt(s,function(n,s){var o,u=0,n=n.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");o=n.split("|||"),Vt(o,function(n){if(n!==""||o.length===1){var p={},m=j.createElementNS(rt,"tspan"),g;a.test(n)&&(g=n.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),c(m,"style",g)),f.test(n)&&!i&&(c(m,"onclick",'location.href="'+n.match(f)[1]+'"'),d(m,{cursor:"pointer"})),n=(n.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(n!==" "){m.appendChild(j.createTextNode(n)),u?p.dx=0:s&&l!==null&&(p.x=l),c(m,p),t.appendChild(m),!u&&s&&(!it&&i&&d(m,{display:"block"}),c(m,"dy",b(m)));if(v)for(var n=n.replace(/([^\^])-/g,"$1- ").split(" "),p=o.length>1||n.length>1&&h.whiteSpace!=="nowrap",y,w,E=h.HcHeight,S=[],x=b(m),T=1;p&&(n.length||S.length);)delete e.bBox,y=e.getBBox(),w=y.width,!it&&r.forExport&&(w=r.measureSpanWidth(m.firstChild.data,e.styles)),y=w>v,!y||n.length===1?(n=S,S=[],n.length&&(T++,E&&T*x>E?(n=["..."],e.attr("title",e.textStr)):(m=j.createElementNS(rt,"tspan"),c(m,{dy:x,x:l}),g&&c(m,"style",g),t.appendChild(m))),w>v&&(v=w)):(m.removeChild(m.firstChild),S.unshift(n.pop())),n.length&&m.appendChild(j.createTextNode(n.join(" ").replace(/- /g,"-")));u++}}})}))},button:function(n,r,i,s,o,u,a,f,l){var c=this.label(n,r,i,l,null,null,null,null,"button"),h=0,p,d,v,m,g,y,n={x1:0,y1:0,x2:0,y2:1},o=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:n,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o);return v=o.style,delete o.style,u=t(o,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#FFF"],[1,"#ACF"]]}},u),m=u.style,delete u.style,a=t(o,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),g=a.style,delete a.style,f=t(o,{style:{color:"#CCC"}},f),y=f.style,delete f.style,Qt(c.element,Y?"mouseover":"mouseenter",function(){h!==3&&c.attr(u).css(m)}),Qt(c.element,Y?"mouseout":"mouseleave",function(){h!==3&&(p=[o,u,a][h],d=[v,m,g][h],c.attr(p).css(d))}),c.setState=function(e){(c.state=h=e)?e===2?c.attr(a).css(g):e===3&&c.attr(f).css(y):c.attr(o).css(v)},c.on("click",function(){h!==3&&s.call(c)}).attr(o).css(e({cursor:"default"},v))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=q(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=q(e[2])+t%2/2),e},path:function(t){var n={fill:St};return s(t)?n.d=t:i(t)&&e(n,t),this.createElement("path").attr(n)},circle:function(e,t,n){return e=i(e)?e:{x:e,y:t,r:n},t=this.createElement("circle"),t.xSetter=function(e){this.element.setAttribute("cx",e)},t.ySetter=function(e){this.element.setAttribute("cy",e)},t.attr(e)},arc:function(e,t,n,r,s,o){return i(e)&&(t=e.y,n=e.r,r=e.innerR,s=e.start,o=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:s||0,end:o||0}),e.r=n,e},rect:function(e,t,n,r,s,o){var s=i(e)?e.r:s,u=this.createElement("rect"),e=i(e)?e:e===B?{}:{x:e,y:t,width:z(n,0),height:z(r,0)};return o!==B&&(e.strokeWidth=o,e=u.crisp(e)),s&&(e.r=s),u.rSetter=function(e){c(this.element,{rx:e,ry:e})},u.attr(e)},setSize:function(e,t,n){var r=this.alignedObjects,i=r.length;this.width=e,this.height=t;for(this.boxWrapper[p(n,!0)?"animate":"attr"]({width:e,height:t});i--;)r[i].align()},g:function(e){var t=this.createElement("g");return l(e)?t.attr({"class":"highcharts-"+e}):t},image:function(t,n,r,i,s){var o={preserveAspectRatio:St};return arguments.length>1&&e(o,{x:n,y:r,width:i,height:s}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,n,r,i,s,o){var u,a=this.symbols[t],a=a&&a(q(n),q(r),i,s,o),f=/^url\((.*?)\)$/,l,c;return a?(u=this.path(a),e(u,{symbolName:t,x:n,y:r,width:i,height:s}),o&&e(u,o)):f.test(t)&&(c=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(q((i-t[0])/2),q((s-t[1])/2)))},l=t.match(f)[1],t=ft[l]||o&&o.width&&o.height&&[o.width,o.height],u=this.image(l).attr({x:n,y:r}),u.isImg=!0,t?c(u,t):(u.attr({width:0,height:0}),v("img",{onload:function(){c(u,ft[l]=[this.width,this.height])},src:l}))),u},symbols:{circle:function(e,t,n,r){var i=.166*n;return["M",e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,n=i.r||n||r,o=i.end-.001,r=i.innerR,u=i.open,a=V(s),f=$(s),l=V(o),o=$(o),i=i.end-s<J?0:1;return["M",e+n*a,t+n*f,"A",n,n,0,i,1,e+n*l,t+n*o,u?"M":"L",e+r*l,t+r*o,"A",r,r,0,i,0,e+r*a,t+r*f,u?"":"Z"]},callout:function(e,t,n,r,i){var s=W(i&&i.r||0,n,r),o=s+6,u=i&&i.anchorX,a=i&&i.anchorY,i=q(i.strokeWidth||0)%2/2;return e+=i,t+=i,i=["M",e+s,t,"L",e+n-s,t,"C",e+n,t,e+n,t,e+n,t+s,"L",e+n,t+r-s,"C",e+n,t+r,e+n,t+r,e+n-s,t+r,"L",e+s,t+r,"C",e,t+r,e,t+r,e,t+r-s,"L",e,t+s,"C",e,t,e,t,e+s,t],u&&u>n&&a>t+o&&a<t+r-o?i.splice(13,3,"L",e+n,a-6,e+n+6,a,e+n,a+6,e+n,t+r-s):u&&u<0&&a>t+o&&a<t+r-o?i.splice(33,3,"L",e,a+6,e-6,a,e,a-6,e,t+s):a&&a>r&&u>e+o&&u<e+n-o?i.splice(23,3,"L",u+6,t+r,u,t+r+6,u-6,t+r,e+s,t+r):a&&a<0&&u>e+o&&u<e+n-o&&i.splice(3,3,"L",u-6,t,u,t-6,u+6,t,n-s,t),i}},clipRect:function(e,t,n,r){var i="highcharts-"+lt++,s=this.createElement("clipPath").attr({id:i}).add(this.defs),e=this.rect(e,t,n,r,0).add(s);return e.id=i,e.clipPath=s,e},text:function(e,t,n,r){var i=ot||!it&&this.forExport,s={};if(r&&!this.forExport)return this.html(e,t,n);s.x=Math.round(t||0),n&&(s.y=Math.round(n));if(e||e===0)s.text=e;return e=this.createElement("text").attr(s),i&&e.css({position:"absolute"}),r||(e.xSetter=function(e,t,n){var r=n.getElementsByTagName("tspan"),i,s=n.getAttribute(t),o;for(o=0;o<r.length;o++)i=r[o],i.getAttribute(t)===s&&i.setAttribute(t,e);n.setAttribute(t,e)}),e},fontMetrics:function(e,t){e=e||this.style.fontSize,t&&F.getComputedStyle&&(t=t.element||t,e=F.getComputedStyle(t,"").fontSize);var e=/px/.test(e)?n(e):/em/.test(e)?parseFloat(e)*12:12,r=e<24?e+4:q(e*1.2),i=q(r*.8);return{h:r,b:i,f:e}},label:function(n,r,i,s,o,u,a,f,c){function h(){var t,n;t=g.element.style,b=(x===void 0||T===void 0||m.styles.textAlign)&&g.textStr&&g.getBBox(),m.width=(x||b.width||0)+2*E+S,m.height=(T||b.height||0)+2*E,A=E+v.fontMetrics(t&&t.fontSize,g).b,O&&(y||(t=q(-w*E),n=f?-A:0,m.box=y=s?v.symbol(s,t,n,m.width,m.height,L):v.rect(t,n,m.width,m.height,0,L[Tt]),y.attr("fill",St).add(m)),y.isImg||y.attr(e({width:q(m.width),height:q(m.height)},L)),L=null)}function p(){var e=m.styles,e=e&&e.textAlign,t=S+E*(1-w),n;n=f?0:A,l(x)&&b&&(e==="center"||e==="right")&&(t+={center:.5,right:1}[e]*(x-b.width));if(t!==g.x||n!==g.y)g.attr("x",t),n!==B&&g.attr("y",n);g.x=t,g.y=n}function d(e,t){y?y.attr(e,t):L[e]=t}var v=this,m=v.g(c),g=v.text("",0,0,a).attr({zIndex:1}),y,b,w=0,E=3,S=0,x,T,N,C,k=0,L={},A,O;m.onAdd=function(){g.add(m),m.attr({text:n||n===0?n:"",x:r,y:i}),y&&l(o)&&m.attr({anchorX:o,anchorY:u})},m.widthSetter=function(e){x=e},m.heightSetter=function(e){T=e},m.paddingSetter=function(e){l(e)&&e!==E&&(E=e,p())},m.paddingLeftSetter=function(e){l(e)&&e!==S&&(S=e,p())},m.alignSetter=function(e){w={left:0,center:.5,right:1}[e]},m.textSetter=function(e){e!==B&&g.textSetter(e),h(),p()},m["stroke-widthSetter"]=function(e,t){e&&(O=!0),k=e%2/2,d(t,e)},m.strokeSetter=m.fillSetter=m.rSetter=function(e,t){t==="fill"&&e&&(O=!0),d(t,e)},m.anchorXSetter=function(e,t){o=e,d(t,e+k-N)},m.anchorYSetter=function(e,t){u=e,d(t,e-C)},m.xSetter=function(e){m.x=e,w&&(e-=w*((x||b.width)+E)),N=q(e),m.attr("translateX",N)},m.ySetter=function(e){C=m.y=q(e),m.attr("translateY",C)};var _=m.css;return e(m,{css:function(e){if(e){var n={},e=t(e);Vt(m.textProps,function(t){e[t]!==B&&(n[t]=e[t],delete e[t])}),g.css(n)}return _.call(m,e)},getBBox:function(){return{width:b.width+2*E,height:b.height+2*E,x:b.x-E,y:b.y-E}},shadow:function(e){return y&&y.shadow(e),m},destroy:function(){Gt(m.element,"mouseenter"),Gt(m.element,"mouseleave"),g&&(g=g.destroy()),y&&(y=y.destroy()),M.prototype.destroy.call(m),m=v=h=p=d=null}})}},ut=an,e(M.prototype,{htmlCss:function(t){var n=this.element;if(n=t&&n.tagName==="SPAN"&&t.width)delete t.width,this.textWidth=n,this.updateTransform();return this.styles=e(this.styles,t),d(this.element,t),this},htmlGetBBox:function(){var e=this.element,t=this.bBox;return t||(e.nodeName==="text"&&(e.style.position="absolute"),t=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),t},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,r=this.translateX||0,i=this.translateY||0,s=this.x||0,o=this.y||0,u=this.textAlign||"left",a={left:0,center:.5,right:1}[u],f=this.shadows;d(t,{marginLeft:r,marginTop:i}),f&&Vt(f,function(e){d(e,{marginLeft:r+1,marginTop:i+1})}),this.inverted&&Vt(t.childNodes,function(n){e.invertChild(n,t)});if(t.tagName==="SPAN"){var c=this.rotation,h,v=n(this.textWidth),m=[c,u,t.innerHTML,this.textWidth].join(",");m!==this.cTT&&(h=e.fontMetrics(t.style.fontSize).b,l(c)&&this.setSpanRotation(c,a,h),f=p(this.elemWidth,t.offsetWidth),f>v&&/[ \-]/.test(t.textContent||t.innerText)&&(d(t,{width:v+"px",display:"block",whiteSpace:"normal"}),f=v),this.getSpanCorrection(f,h,a,c,u)),d(t,{left:s+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"}),et&&(h=t.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var r={},i=Y?"-ms-transform":et?"-webkit-transform":tt?"MozTransform":G?"-o-transform":"";r[i]=r.transform="rotate("+e+"deg)",r[i+(tt?"Origin":"-origin")]=r.transformOrigin=t*100+"% "+n+"px",d(this.element,r)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),e(an.prototype,{html:function(t,n,r){var i=this.createElement("span"),s=i.element,o=i.renderer;return i.textSetter=function(e){e!==s.innerHTML&&delete this.bBox,s.innerHTML=this.textStr=e},i.xSetter=i.ySetter=i.alignSetter=i.rotationSetter=function(e,t){t==="align"&&(t="textAlign"),i[t]=e,i.htmlUpdateTransform()},i.attr({text:t,x:q(n),y:q(r)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),i.css=i.htmlCss,o.isSVG&&(i.add=function(t){var n,r=o.box.parentNode,u=[];if(this.parentGroup=t){if(n=t.div,!n){for(;t;)u.push(t),t=t.parentGroup;Vt(u.reverse(),function(t){var i;n=t.div=t.div||v(Et,{className:c(t.element,"class")},{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},n||r),i=n.style,e(t,{translateXSetter:function(e,n){i.left=e+"px",t[n]=e,t.doTransform=!0},translateYSetter:function(e,n){i.top=e+"px",t[n]=e,t.doTransform=!0},visibilitySetter:function(e,t){i[t]=e}})})}}else n=r;return n.appendChild(s),i.added=!0,i.alignOnAdd&&i.htmlUpdateTransform(),i}),i}});var fn;if(!it&&!ot){fn={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],r=["position: ","absolute",";"],i=t===Et;(t==="shape"||i)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",i?"hidden":"visible"),n.push(' style="',r.join(""),'"/>'),t&&(n=i||t==="span"||t==="img"?n.join(""):e.prepVML(n),this.element=v(n)),this.renderer=e},add:function(e){var t=this.renderer,n=this.element,r=t.box,r=e?e.element||e:r;return e&&e.inverted&&t.invertChild(n,r),r.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:M.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=V(e*K),n=$(e*K);d(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):St})},getSpanCorrection:function(e,t,n,r,i){var s=r?V(r*K):1,o=r?$(r*K):0,u=p(this.elemHeight,this.element.offsetHeight),a;this.xCorr=s<0&&-e,this.yCorr=o<0&&-u,a=s*o<0,this.xCorr+=o*t*(a?1-n:n),this.yCorr-=s*t*(r?a?n:1-n:1),i&&i!=="left"&&(this.xCorr-=e*n*(s<0?-1:1),r&&(this.yCorr-=u*n*(o<0?-1:1)),d(this.element,{textAlign:i}))},pathToVML:function(e){for(var t=e.length,n=[];t--;)if(o(e[t]))n[t]=q(e[t]*10)-5;else if(e[t]==="Z")n[t]="x";else if(n[t]=e[t],e.isArc&&(e[t]==="wa"||e[t]==="at"))n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1);return n.join(" ")||"x"},clip:function(e){var t=this,n;return e?(n=e.members,f(n,t),n.push(t),t.destroyClip=function(){f(n,t)},e=e.getCSS(t)):(t.destroyClip&&t.destroyClip(),e={clip:Z?"inherit":"rect(auto)"}),t.css(e)},css:M.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&k(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),M.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=F.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var r,e=e.split(/[ ,]/);r=e.length;if(r===9||r===11)e[r-4]=e[r-2]=n(e[r-2])-10*t;return e.join(" ")},shadow:function(e,t,r){var i=[],s,o=this.element,u=this.renderer,a,f=o.style,l,c=o.path,h,d,m,g;c&&typeof c.value!="string"&&(c="x"),d=c;if(e){m=p(e.width,3),g=(e.opacity||.15)/m;for(s=1;s<=3;s++)h=m*2+1-2*s,r&&(d=this.cutOffPath(c.value,h+.5)),l=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',d,'" coordsize="10 10" style="',o.style.cssText,'" />'],a=v(u.prepVML(l),null,{left:n(f.left)+p(e.offsetX,1),top:n(f.top)+p(e.offsetY,1)}),r&&(a.cutOff=h+1),l=['<stroke color="',e.color||"black",'" opacity="',g*s,'"/>'],v(u.prepVML(l),null,null,a),t?t.element.appendChild(a):o.parentNode.insertBefore(a,o),i.push(a);this.shadows=i}return this},updateShadows:yt,setAttr:function(e,t){Z?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){(n.getElementsByTagName("stroke")[0]||v(this.renderer.prepVML(["<stroke/>"]),null,null,n))[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var r=this.shadows,e=e||[];this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e);if(r)for(n=r.length;n--;)r[n].path=r[n].cutOff?this.cutOffPath(e,r[n].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,n){var r=n.nodeName;r==="SPAN"?n.style.color=e:r!=="IMG"&&(n.filled=e!==St,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},opacitySetter:yt,rotationSetter:function(e,t,n){n=n.style,this[t]=n[t]=e,n.left=-q($(e*K)+1)+"px",n.top=q(V(e*K))+"px"},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,this[t]=e,o(e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){e==="inherit"&&(e="visible"),this.shadows&&Vt(this.shadows,function(n){n.style[t]=e}),n.nodeName==="DIV"&&(e=e==="hidden"?"-999em":0,Z||(n.style[t]=e?"visible":"hidden"),t="top"),n.style[t]=e},xSetter:function(e,t,n){this[t]=e,t==="x"?t="left":t==="y"&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},qt.VMLElement=fn=m(M,fn),fn.prototype.ySetter=fn.prototype.widthSetter=fn.prototype.heightSetter=fn.prototype.xSetter;var ln={Element:fn,isIE8:Q.indexOf("MSIE 8.0")>-1,init:function(t,n,r,i){var s;this.alignedObjects=[],i=this.createElement(Et).css(e(this.getStyle(i),{position:"relative"})),s=i.element,t.appendChild(i.element),this.isVML=!0,this.box=s,this.boxWrapper=i,this.cache={},this.setSize(n,r,!1);if(!j.namespaces.hcv){j.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{j.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(o){j.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,n,r,s){var o=this.createElement(),u=i(t);return e(o,{members:[],left:(u?t.x:t)+1,top:(u?t.y:n)+1,width:(u?t.width:r)-1,height:(u?t.height:s)-1,getCSS:function(t){var n=t.element,r=n.nodeName,t=t.inverted,i=this.top-(r==="shape"?n.offsetTop:0),s=this.left,n=s+this.width,o=i+this.height,i={clip:"rect("+q(t?s:i)+"px,"+q(t?o:n)+"px,"+q(t?n:o)+"px,"+q(t?i:s)+"px)"};return!t&&Z&&r==="DIV"&&e(i,{width:n+"px",height:o+"px"}),i},updateClipping:function(){Vt(o.members,function(e){e.element&&e.css(o.getCSS(e))})}})},color:function(e,t,n,r){var i=this,s,o=/^rgba/,u,a,f=St;e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern");if(a){var l,c,h=e.linearGradient||e.radialGradient,p,d,m,g,y,b="",e=e.stops,w,E=[],S=function(){u=['<fill colors="'+E.join(",")+'" opacity="',m,'" o:opacity2="',d,'" type="',a,'" ',b,'focus="100%" method="any" />'],v(i.prepVML(u),null,null,t)};p=e[0],w=e[e.length-1],p[0]>0&&e.unshift([0,p[1]]),w[0]<1&&e.push([1,w[1]]),Vt(e,function(e,t){o.test(e[1])?(s=un(e[1]),l=s.get("rgb"),c=s.get("a")):(l=e[1],c=1),E.push(e[0]*100+"% "+l),t?(m=c,g=l):(d=c,y=l)});if(n==="fill")if(a==="gradient")n=h.x1||h[0]||0,e=h.y1||h[1]||0,p=h.x2||h[2]||0,h=h.y2||h[3]||0,b='angle="'+(90-I.atan((h-e)/(p-n))*180/J)+'"',S();else{var f=h.r,x=f*2,T=f*2,N=h.cx,C=h.cy,k=t.radialReference,L,f=function(){k&&(L=r.getBBox(),N+=(k[0]-L.x)/L.width-.5,C+=(k[1]-L.y)/L.height-.5,x*=k[2]/L.width,T*=k[2]/L.height),b='src="'+ht.global.VMLRadialGradientURL+'" size="'+x+","+T+'" origin="0.5,0.5" position="'+N+","+C+'" color2="'+y+'" ',S()};r.added?f():r.onAdd=f,f=g}else f=l}else o.test(e)&&t.tagName!=="IMG"?(s=un(e),u=["<",n,' opacity="',s.get("a"),'"/>'],v(this.prepVML(u),null,null,t),f=s.get("rgb")):(f=t.getElementsByTagName(n),f.length&&(f[0].opacity=1,f[0].type="solid"),f=e);return f},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=e.indexOf('style="')===-1?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:an.prototype.html,path:function(t){var n={coordsize:"10 10"};return s(t)?n.d=t:i(t)&&e(n,t),this.createElement("shape").attr(n)},circle:function(e,t,n){var r=this.symbol("circle");return i(e)&&(n=e.r,t=e.y,e=e.x),r.isCircle=!0,r.r=n,r.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e}),this.createElement(Et).attr(t)},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.attr({x:t,y:n,width:r,height:i}),s},createElement:function(e){return e==="rect"?this.symbol(e):an.prototype.createElement.call(this,e)},invertChild:function(e,t){var r=this,i=t.style,s=e.tagName==="IMG"&&e.style;d(e,{flip:"x",left:n(i.width)-(s?n(s.top):1),top:n(i.height)-(s?n(s.left):1),rotation:-90}),Vt(e.childNodes,function(t){r.invertChild(t,e)})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,n=i.innerR,r=V(s),a=$(s),f=V(o),l=$(o);return o-s===0?["x"]:(s=["wa",e-u,t-u,e+u,t+u,e+u*r,t+u*a,e+u*f,t+u*l],i.open&&!n&&s.push("e","M",e,t),s.push("at",e-n,t-n,e+n,t+n,e+n*f,t+n*l,e+n*r,t+n*a,"x","e"),s.isArc=!0,s)},circle:function(e,t,n,r,i){return i&&(n=r=2*i.r),i&&i.isCircle&&(e-=n/2,t-=r/2),["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){return an.prototype.symbols[!l(i)||!i.r?"square":"callout"].call(0,e,t,n,r,i)}}};qt.VMLRenderer=fn=function(){this.init.apply(this,arguments)},fn.prototype=t(an.prototype,ln),ut=fn}an.prototype.measureSpanWidth=function(e,t){var n=j.createElement("span"),r;return r=j.createTextNode(e),n.appendChild(r),d(n,t),this.box.appendChild(n),r=n.offsetWidth,k(n),r};var cn;ot&&(qt.CanVGRenderer=fn=function(){rt="http://www.w3.org/1999/xhtml"},fn.prototype.symbols={},cn=function(){function e(){var e=t.length,n;for(n=0;n<e;n++)t[n]();t=[]}var t=[];return{push:function(n,r){t.length===0&&Wt(r,e),t.push(n)}}}(),ut=fn),_.prototype={addLabel:function(){var t=this.axis,n=t.options,r=t.chart,i=t.horiz,s=t.categories,u=t.names,f=this.pos,c=n.labels,h=c.rotation,d=t.tickPositions,i=i&&s&&!c.step&&!c.staggerLines&&!c.rotation&&r.plotWidth/d.length||!i&&(r.margin[3]||r.chartWidth*.33),v=f===d[0],m=f===d[d.length-1],g,u=s?p(s[f],u[f],f):f,s=this.label,y=d.info;t.isDatetimeAxis&&y&&(g=n.dateTimeLabelFormats[y.higherRanks[f]||y.unitName]),this.isFirst=v,this.isLast=m,n=t.labelFormatter.call({axis:t,chart:r,isFirst:v,isLast:m,dateTimeLabelFormat:g,value:t.isLog?L(a(u)):u}),f=i&&{width:z(1,q(i-2*(c.padding||10)))+"px"},l(s)?s&&s.attr({text:n}).css(f):(g={align:t.labelAlign},o(h)&&(g.rotation=h),i&&c.ellipsis&&(f.HcHeight=t.len/d.length),this.label=s=l(n)&&c.enabled?r.renderer.text(n,0,0,c.useHTML).attr(g).css(e(f,c.style)).add(t.labelGroup):null,t.tickBaseline=r.renderer.fontMetrics(c.style.fontSize,s).b,h&&t.side===2&&(t.tickBaseline*=V(h*K))),this.yOffset=s?p(c.y,t.tickBaseline+(t.side===2?8:-(s.getBBox().height/2))):0},getLabelSize:function(){var e=this.label,t=this.axis;return e?e.getBBox()[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.label.getBBox(),t=this.axis,n=t.horiz,r=t.options.labels,e=n?e.width:e.height,t=n?r.x-e*{left:0,center:.5,right:1}[t.labelAlign]:0;return[t,n?e+t:e]},handleOverflow:function(e,t){var n=!0,r=this.axis,i=this.isFirst,s=this.isLast,o=r.horiz?t.x:t.y,u=r.reversed,a=r.tickPositions,f=this.getLabelSides(),l=f[0],f=f[1],c,h,p,d=this.label.line;c=d||0,h=r.labelEdge,p=r.justifyLabels&&(i||s),h[c]===B||o+l>h[c]?h[c]=o+f:p||(n=!1);if(p){c=(h=r.justifyToPlot)?r.pos:0,h=h?c+r.len:r.chart.chartWidth;do e+=i?1:-1,p=r.ticks[a[e]];while(a[e]&&(!p||!p.label||p.label.line!==d));r=p&&p.label.xy&&p.label.xy.x+p.getLabelSides()[i?0:1],i&&!u||s&&u?o+l<c&&(o=c-l,p&&o+f>r&&(n=!1)):o+f>h&&(o=h-f,p&&o+l<r&&(n=!1)),t.x=o}return n},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,s,o,u){var a=this.axis,f=a.transA,l=a.reversed,c=a.staggerLines,e=e+i.x-(s&&r?s*f*(l?-1:1):0),t=t+this.yOffset-(s&&!r?s*f*(l?1:-1):0);return c&&(n.line=o/(u||1)%c,t+=n.line*(a.labelOffset/c)),{x:e,y:t}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine(["M",e,t,"L",e+(i?0:-n),t+(i?n:0)],r)},render:function(e,t,n){var r=this.axis,i=r.options,s=r.chart.renderer,o=r.horiz,u=this.type,a=this.label,f=this.pos,l=i.labels,c=this.gridLine,h=u?u+"Grid":"grid",d=u?u+"Tick":"tick",v=i[h+"LineWidth"],m=i[h+"LineColor"],g=i[h+"LineDashStyle"],y=i[d+"Length"],h=i[d+"Width"]||0,b=i[d+"Color"],w=i[d+"Position"],d=this.mark,E=l.step,S=!0,x=r.tickmarkOffset,T=this.getPosition(o,f,x,t),N=T.x,T=T.y,C=o&&N===r.pos+r.len||!o&&T===r.pos?-1:1,n=p(n,1);this.isActive=!0,v&&(f=r.getPlotLinePath(f+x,v*C,t,!0),c===B&&(c={stroke:m,"stroke-width":v},g&&(c.dashstyle=g),u||(c.zIndex=1),t&&(c.opacity=0),this.gridLine=c=v?s.path(f).attr(c).add(r.gridGroup):null),!t&&c&&f&&c[this.isNew?"attr":"animate"]({d:f,opacity:n})),h&&y&&(w==="inside"&&(y=-y),r.opposite&&(y=-y),u=this.getMarkPath(N,T,y,h*C,o,s),d?d.animate({d:u,opacity:n}):this.mark=s.path(u).attr({stroke:b,"stroke-width":h,opacity:n}).add(r.axisGroup)),a&&!isNaN(N)&&(a.xy=T=this.getLabelPosition(N,T,a,o,l,x,e,E),this.isFirst&&!this.isLast&&!p(i.showFirstLabel,1)||this.isLast&&!this.isFirst&&!p(i.showLastLabel,1)?S=!1:!r.isRadial&&!l.step&&!l.rotation&&!t&&n!==0&&(S=this.handleOverflow(e,T)),E&&e%E&&(S=!1),S&&!isNaN(T.y)?(T.opacity=n,a[this.isNew?"attr":"animate"](T),this.isNew=!1):a.attr("y",-9999))},destroy:function(){C(this,this.axis)}},qt.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},qt.PlotLineOrBand.prototype={render:function(){var e=this,n=e.axis,r=n.horiz,i=(n.pointRange||0)/2,s=e.options,o=s.label,a=e.label,f=s.width,c=s.to,h=s.from,p=l(h)&&l(c),d=s.value,v=s.dashStyle,m=e.svgElem,g=[],y,b=s.color,w=s.zIndex,E=s.events,S={},x=n.chart.renderer;n.isLog&&(h=u(h),c=u(c),d=u(d));if(f){if(g=n.getPlotLinePath(d,f),S={stroke:b,"stroke-width":f},v)S.dashstyle=v}else{if(!p)return;h=z(h,n.min-i),c=W(c,n.max+i),g=n.getPlotBandPath(h,c,s),b&&(S.fill=b),s.borderWidth&&(S.stroke=s.borderColor,S["stroke-width"]=s.borderWidth)}l(w)&&(S.zIndex=w);if(m){if(g)m.animate({d:g},null,m.onGetPath);else if(m.hide(),m.onGetPath=function(){m.show()},a)e.label=a=a.destroy()}else if(g&&g.length&&(e.svgElem=m=x.path(g).attr(S).add(),E))for(y in i=function(t){m.on(t,function(n){E[t].apply(e,[n])})},E)i(y);return o&&l(o.text)&&g&&g.length&&n.width>0&&n.height>0?(o=t({align:r&&p&&"center",x:r?!p&&4:10,verticalAlign:!r&&p&&"middle",y:r?p?16:10:p?6:-4,rotation:r&&!p&&90},o),a||(S={align:o.textAlign||o.align,rotation:o.rotation},l(w)&&(S.zIndex=w),e.label=a=x.text(o.text,0,0,o.useHTML).attr(S).css(o.style).add()),n=[g[1],g[4],p?g[6]:g[1]],p=[g[2],g[5],p?g[7]:g[2]],g=T(n),r=T(p),a.align(o,!1,{x:g,y:r,width:N(n)-g,height:N(p)-r}),a.show()):a&&a.hide(),e},destroy:function(){f(this.axis.plotLinesAndBands,this),delete this.axis,C(this)}},D.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Ut,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return g(this.total,-1)},style:Ut.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(e,t){var n=t.isX;this.horiz=e.inverted?!n:n,this.coll=(this.isXAxis=n)?"xAxis":"yAxis",this.opposite=t.opposite,this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var r=this.options,i=r.type;this.labelFormatter=r.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.chart=e,this.reversed=r.reversed,this.zoomEnabled=r.zoomEnabled!==!1,this.categories=r.categories||i==="category",this.names=[],this.isLog=i==="logarithmic",this.isDatetimeAxis=i==="datetime",this.isLinked=l(r.linkedTo),this.tickmarkOffset=this.categories&&r.tickmarkPlacement==="between"&&p(r.tickInterval,1)===1?.5:0,this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=r.minRange||r.maxZoom,this.range=r.range,this.offset=r.offset||0,this.stacks={},this.oldStacks={},this.min=this.max=null,this.crosshair=p(r.crosshair,h(e.options.tooltip.crosshairs)[n?0:1],!1);var s,r=this.options.events;Xt(this,e.axes)===-1&&(n&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&n&&this.reversed===B&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(s in r)Qt(this,s,r[s]);this.isLog&&(this.val2lin=u,this.lin2val=a)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(ht[this.coll],e))},defaultLabelFormatter:function(){var e=this.axis,t=this.value,n=e.categories,r=this.dateTimeLabelFormat,i=ht.lang.numericSymbols,s=i&&i.length,o,u=e.options.labels.format,e=e.isLog?t:e.tickInterval;if(u)o=w(u,this);else if(n)o=t;else if(r)o=pt(r,t);else if(s&&e>=1e3)for(;s--&&o===B;)n=Math.pow(1e3,s+1),e>=n&&i[s]!==null&&(o=g(t/n,-1)+i[s]);return o===B&&(o=X(t)>=1e4?g(t,0):g(t,-1,B,"")),o},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.ignoreMinPadding=e.ignoreMaxPadding=null,e.buildStacks&&e.buildStacks(),Vt(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var r;r=n.options.threshold;var i;e.hasVisibleSeries=!0,e.isLog&&r<=0&&(r=null);if(e.isXAxis){if(r=n.xData,r.length)e.dataMin=W(p(e.dataMin,r[0]),T(r)),e.dataMax=z(p(e.dataMax,r[0]),N(r))}else n.getExtremes(),i=n.dataMax,n=n.dataMin,l(n)&&l(i)&&(e.dataMin=W(p(e.dataMin,n),n),e.dataMax=z(p(e.dataMax,i),i)),l(r)&&(e.dataMin>=r?(e.dataMin=r,e.ignoreMinPadding=!0):e.dataMax<r&&(e.dataMax=r,e.ignoreMaxPadding=!0))}})},translate:function(e,t,n,r,i,s){var u=1,a=0,f=r?this.oldTransA:this.transA,r=r?this.oldMin:this.min,l=this.minPixelPadding,i=(this.options.ordinal||this.isLog&&i)&&this.lin2val;return f||(f=this.transA),n&&(u*=-1,a=this.len),this.reversed&&(u*=-1,a-=u*(this.sector||this.len)),t?(e=e*u+a,e-=l,e=e/f+r,i&&(e=this.lin2val(e))):(i&&(e=this.val2lin(e)),s==="between"&&(s=.5),e=u*(e-r)*f+a+u*l+(o(s)?f*s*this.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r,i){var s=this.chart,o=this.left,u=this.top,a,f,l=n&&s.oldChartHeight||s.chartHeight,c=n&&s.oldChartWidth||s.chartWidth,h;a=this.transB,i=p(i,this.translate(e,null,null,n)),e=n=q(i+a),a=f=q(l-i-a);if(isNaN(i))h=!0;else if(this.horiz){if(a=u,f=l-this.bottom,e<o||e>o+this.width)h=!0}else if(e=o,n=c-this.right,a<u||a>u+this.height)h=!0;return h&&!r?null:s.renderer.crispLine(["M",e,a,"L",n,f],t||1)},getLinearTickPositions:function(e,t,n){var r,i=L(R(t/e)*e),s=L(U(n/e)*e),u=[];if(t===n&&o(t))return[t];for(t=i;t<=s;){u.push(t),t=L(t+e);if(t===r)break;r=t}return u},getMinorTickPositions:function(){var e=this.options,t=this.tickPositions,n=this.minorTickInterval,r=[],i;if(this.isLog){i=t.length;for(e=1;e<i;e++)r=r.concat(this.getLogTickPositions(n,t[e-1],t[e],!0))}else if(this.isDatetimeAxis&&e.minorTickInterval==="auto")r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),this.min,this.max,e.startOfWeek)),r[0]<this.min&&r.shift();else for(t=this.min+(t[0]-this.min)%n;t<=this.max;t+=n)r.push(t);return r},adjustForMinRange:function(){var e=this.options,t=this.min,n=this.max,r,i=this.dataMax-this.dataMin>=this.minRange,s,o,u,a,f;this.isXAxis&&this.minRange===B&&!this.isLog&&(l(e.min)||l(e.max)?this.minRange=null:(Vt(this.series,function(e){a=e.xData;for(o=f=e.xIncrement?1:a.length-1;o>0;o--)if(u=a[o]-a[o-1],s===B||u<s)s=u}),this.minRange=W(s*5,this.dataMax-this.dataMin)));if(n-t<this.minRange){var c=this.minRange;r=(c-n+t)/2,r=[t-r,p(e.min,t-r)],i&&(r[2]=this.dataMin),t=N(r),n=[t+c,p(e.max,t+c)],i&&(n[2]=this.dataMax),n=T(n),n-t<c&&(r[0]=n-c,r[1]=p(e.min,n-c),t=N(r))}this.min=t,this.max=n},setAxisTranslation:function(e){var t=this,n=t.max-t.min,i=t.axisPointRange||0,s,o=0,u=0,a=t.linkedParent,f=!!t.categories,c=t.transA;if(t.isXAxis||f||i)a?(o=a.minPointOffset,u=a.pointRangePadding):Vt(t.series,function(e){var a=f?1:t.isXAxis?e.pointRange:t.axisPointRange||0,c=e.options.pointPlacement,h=e.closestPointRange;a>n&&(a=0),i=z(i,a),o=z(o,r(c)?0:a/2),u=z(u,c==="on"?0:a),!e.noSharedTooltip&&l(h)&&(s=l(s)?W(s,h):h)}),a=t.ordinalSlope&&s?t.ordinalSlope/s:1,t.minPointOffset=o*=a,t.pointRangePadding=u*=a,t.pointRange=W(i,n),t.closestPointRange=s;e&&(t.oldTransA=c),t.translationSlope=t.transA=c=t.len/(n+u||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=c*o},setTickPositions:function(e){var t=this,n=t.chart,r=t.options,i=r.startOnTick,s=r.endOnTick,a=t.isLog,f=t.isDatetimeAxis,c=t.isXAxis,h=t.isLinked,d=t.options.tickPositioner,v=r.maxPadding,m=r.minPadding,g=r.tickInterval,y=r.minTickInterval,b=r.tickPixelInterval,w,x=t.categories;h?(t.linkedParent=n[t.coll][r.linkedTo],n=t.linkedParent.getExtremes(),t.min=p(n.min,n.dataMin),t.max=p(n.max,n.dataMax),r.type!==t.linkedParent.options.type&&gt(11,1)):(t.min=p(t.userMin,r.min,t.dataMin),t.max=p(t.userMax,r.max,t.dataMax)),a&&(!e&&W(t.min,p(t.dataMin,t.min))<=0&&gt(10,1),t.min=L(u(t.min)),t.max=L(u(t.max))),t.range&&l(t.max)&&(t.userMin=t.min=z(t.min,t.max-t.range),t.userMax=t.max,t.range=null),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),!x&&!t.axisPointRange&&!t.usePercentage&&!h&&l(t.min)&&l(t.max)&&(n=t.max-t.min)&&(!l(r.min)&&!l(t.userMin)&&m&&(t.dataMin<0||!t.ignoreMinPadding)&&(t.min-=n*m),!l(r.max)&&!l(t.userMax)&&v&&(t.dataMax>0||!t.ignoreMaxPadding)&&(t.max+=n*v)),o(r.floor)&&(t.min=z(t.min,r.floor)),o(r.ceiling)&&(t.max=W(t.max,r.ceiling)),t.min===t.max||t.min===void 0||t.max===void 0?t.tickInterval=1:h&&!g&&b===t.linkedParent.options.tickPixelInterval?t.tickInterval=t.linkedParent.tickInterval:(t.tickInterval=p(g,x?1:(t.max-t.min)*b/z(t.len,b)),!l(g)&&t.len<b&&!this.isRadial&&!this.isLog&&!x&&i&&s&&(w=!0,t.tickInterval/=4)),c&&!e&&Vt(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),t.pointRange&&(t.tickInterval=z(t.pointRange,t.tickInterval)),!g&&t.tickInterval<y&&(t.tickInterval=y),!f&&!a&&!g&&(t.tickInterval=S(t.tickInterval,null,E(t.tickInterval),p(r.allowDecimals,!(t.tickInterval>1&&t.tickInterval<5&&t.max>1e3&&t.max<9999)))),t.minorTickInterval=r.minorTickInterval==="auto"&&t.tickInterval?t.tickInterval/5:r.minorTickInterval,t.tickPositions=e=r.tickPositions?[].concat(r.tickPositions):d&&d.apply(t,[t.min,t.max]),e||(!t.ordinalPositions&&(t.max-t.min)/t.tickInterval>z(2*t.len,200)&&gt(19,!0),e=f?t.getTimeTicks(t.normalizeTimeTickInterval(t.tickInterval,r.units),t.min,t.max,r.startOfWeek,t.ordinalPositions,t.closestPointRange,!0):a?t.getLogTickPositions(t.tickInterval,t.min,t.max):t.getLinearTickPositions(t.tickInterval,t.min,t.max),w&&e.splice(1,e.length-2),t.tickPositions=e),h||(r=e[0],a=e[e.length-1],f=t.minPointOffset||0,i?t.min=r:t.min-f>r&&e.shift(),s?t.max=a:t.max+f<a&&e.pop(),e.length===0&&l(r)&&e.push((a+r)/2),e.length===1&&(i=X(t.max)>1e13?1:.001,t.min-=i,t.max+=i))},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},n=this.tickPositions,r=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(t[r]||0)&&this.options.alignTicks!==!1&&(t[r]=n.length),e.maxTicks=t},adjustTickAmount:function(){var e=this._maxTicksKey,t=this.tickPositions,n=this.chart.maxTicks;if(n&&n[e]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1&&this.min!==B){var r=this.tickAmount,i=t.length;this.tickAmount=e=n[e];if(i<e){for(;t.length<e;)t.push(L(t[t.length-1]+this.tickInterval));this.transA*=(i-1)/(e-1),this.max=t[t.length-1]}l(r)&&e!==r&&(this.isDirty=!0)}},setScale:function(){var e=this.stacks,t,n,r,i;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),i=this.len!==this.oldAxisLength,Vt(this.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty)r=!0});if(i||r||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(t in e)for(n in e[t])e[t][n].total=null,e[t][n].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=i||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(e=this.stacks=this.oldStacks);for(t in e)for(n in e[t])e[t][n].cum=e[t][n].total}this.setMaxTicks()},setExtremes:function(t,n,r,i,s){var o=this,u=o.chart,r=p(r,!0),s=e(s,{min:t,max:n});Yt(o,"setExtremes",s,function(){o.userMin=t,o.userMax=n,o.eventArgs=s,o.isDirtyExtremes=!0,r&&u.redraw(i)})},zoom:function(e,t){var n=this.dataMin,r=this.dataMax,i=this.options;return this.allowZoomOutside||(l(n)&&e<=W(n,p(i.min,n))&&(e=B),l(r)&&t>=z(r,p(i.max,r))&&(t=B)),this.displayBtn=e!==B||t!==B,this.setExtremes(e,t,!1,B,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=this.horiz,i=p(t.width,e.plotWidth-n+(t.offsetRight||0)),s=p(t.height,e.plotHeight),o=p(t.top,e.plotTop),t=p(t.left,e.plotLeft+n),n=/%$/;n.test(s)&&(s=parseInt(s,10)/100*e.plotHeight),n.test(o)&&(o=parseInt(o,10)/100*e.plotHeight+e.plotTop),this.left=t,this.top=o,this.width=i,this.height=s,this.bottom=e.chartHeight-s-o,this.right=e.chartWidth-i-t,this.len=z(r?i:s,0),this.pos=r?t:o},getExtremes:function(){var e=this.isLog;return{min:e?L(a(this.min)):this.min,max:e?L(a(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=t?a(this.min):this.min,t=t?a(this.max):this.max;return n>e||e===null?e=n:t<e&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(p(e,0)-this.side*90+720)%360,e>15&&e<165?"right":e>195&&e<345?"left":"center"},getOffset:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.tickPositions,s=e.ticks,o=e.horiz,u=e.side,a=t.inverted?[1,0,3,2][u]:u,f,c,h=0,d,v=0,m=r.title,g=r.labels,y=0,b=t.axisOffset,t=t.clipOffset,w=[-1,1,1,-1][u],E,S=1,x=p(g.maxStaggerLines,5),T,N,C,k,L;e.hasData=f=e.hasVisibleSeries||l(e.min)&&l(e.max)&&!!i,e.showAxis=c=f||p(r.showEmpty,!0),e.staggerLines=e.horiz&&g.staggerLines,e.axisGroup||(e.gridGroup=n.g("grid").attr({zIndex:r.gridZIndex||1}).add(),e.axisGroup=n.g("axis").attr({zIndex:r.zIndex||2}).add(),e.labelGroup=n.g("axis-labels").attr({zIndex:g.zIndex||7}).addClass("highcharts-"+e.coll.toLowerCase()+"-labels").add());if(f||e.isLinked){e.labelAlign=p(g.align||e.autoLabelAlign(g.rotation)),Vt(i,function(t){s[t]?s[t].addLabel():s[t]=new _(e,t)});if(e.horiz&&!e.staggerLines&&x&&!g.rotation){for(f=e.reversed?[].concat(i).reverse():i;S<x;){T=[],N=!1;for(E=0;E<f.length;E++)C=f[E],k=(k=s[C].label&&s[C].label.getBBox())?k.width:0,L=E%S,k&&(C=e.translate(C),T[L]!==B&&C<T[L]&&(N=!0),T[L]=C+k);if(!N)break;S++}S>1&&(e.staggerLines=S)}Vt(i,function(t){if(u===0||u===2||{1:"left",3:"right"}[u]===e.labelAlign)y=z(s[t].getLabelSize(),y)}),e.staggerLines&&(y*=e.staggerLines,e.labelOffset=y)}else for(E in s)s[E].destroy(),delete s[E];m&&m.text&&m.enabled!==!1&&(e.axisTitle||(e.axisTitle=n.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:"left",middle:"center",high:"right"}[m.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(m.style).add(e.axisGroup),e.axisTitle.isNew=!0),c&&(h=e.axisTitle.getBBox()[o?"height":"width"],d=m.offset,v=l(d)?0:p(m.margin,o?5:10)),e.axisTitle[c?"show":"hide"]()),e.offset=w*p(r.offset,b[u]),n=u===2?e.tickBaseline:0,o=y+v+(y&&w*(o?p(g.y,e.tickBaseline+8):g.x)-n),e.axisTitleMargin=p(d,o),b[u]=z(b[u],e.axisTitleMargin+h+w*e.offset,o),t[a]=z(t[a],R(r.lineWidth/2)*2)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,r=t.chartHeight-this.bottom-(n?this.height:0)+r;return n&&(e*=-1),t.renderer.crispLine(["M",i?this.left:s,i?r:this.top,"L",i?t.chartWidth-this.right:s,i?r:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,r=this.top,i=this.len,s=this.options.title,o=e?t:r,u=this.opposite,a=this.offset,f=n(s.style.fontSize||12),i={low:o+(e?0:i),middle:o+i/2,high:o+(e?i:0)}[s.align],t=(e?r+this.height:t)+(e?1:-1)*(u?-1:1)*this.axisTitleMargin+(this.side===2?f:0);return{x:e?i:t+(u?this.width:0)+a+(s.x||0),y:e?t-(u?this.height:0)+a:i+(s.y||0)}},render:function(){var e=this,t=e.horiz,n=e.reversed,r=e.chart,i=r.renderer,s=e.options,o=e.isLog,u=e.isLinked,f=e.tickPositions,c,h=e.axisTitle,p=e.ticks,d=e.minorTicks,v=e.alternateBands,m=s.stackLabels,g=s.alternateGridColor,y=e.tickmarkOffset,b=s.lineWidth,w=r.hasRendered&&l(e.oldMin)&&!isNaN(e.oldMin),E=e.hasData,S=e.showAxis,x,T=s.labels.overflow,N=e.justifyLabels=t&&T!==!1,C;e.labelEdge.length=0,e.justifyToPlot=T==="justify",Vt([p,d,v],function(e){for(var t in e)e[t].isActive=!1});if(E||u)if(e.minorTickInterval&&!e.categories&&Vt(e.getMinorTickPositions(),function(t){d[t]||(d[t]=new _(e,t,"minor")),w&&d[t].isNew&&d[t].render(null,!0),d[t].render(null,!1,1)}),f.length&&(c=f.slice(),(t&&n||!t&&!n)&&c.reverse(),N&&(c=c.slice(1).concat([c[0]])),Vt(c,function(t,n){N&&(n=n===c.length-1?0:n+1);if(!u||t>=e.min&&t<=e.max)p[t]||(p[t]=new _(e,t)),w&&p[t].isNew&&p[t].render(n,!0,.1),p[t].render(n)}),y&&e.min===0&&(p[-1]||(p[-1]=new _(e,-1,null,!0)),p[-1].render(-1))),g&&Vt(f,function(t,n){n%2===0&&t<e.max&&(v[t]||(v[t]=new qt.PlotLineOrBand(e)),x=t+y,C=f[n+1]!==B?f[n+1]+y:e.max,v[t].options={from:o?a(x):x,to:o?a(C):C,color:g},v[t].render(),v[t].isActive=!0)}),!e._addedPlotLB)Vt((s.plotLines||[]).concat(s.plotBands||[]),function(t){e.addPlotBandOrLine(t)}),e._addedPlotLB=!0;Vt([p,d,v],function(e){var t,n,i=[],s=dt?dt.duration||500:0,o=function(){for(n=i.length;n--;)e[i[n]]&&!e[i[n]].isActive&&(e[i[n]].destroy(),delete e[i[n]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,i.push(t));e===v||!r.hasRendered||!s?o():s&&setTimeout(o,s)}),b&&(t=e.getLinePath(b),e.axisLine?e.axisLine.animate({d:t}):e.axisLine=i.path(t).attr({stroke:s.lineColor,"stroke-width":b,zIndex:7}).add(e.axisGroup),e.axisLine[S?"show":"hide"]()),h&&S&&(h[h.isNew?"attr":"animate"](e.getTitlePosition()),h.isNew=!1),m&&m.enabled&&e.renderStackTotals(),e.isDirty=!1},redraw:function(){this.render(),Vt(this.plotLinesAndBands,function(e){e.render()}),Vt(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t=this,n=t.stacks,r,i=t.plotLinesAndBands;e||Gt(t);for(r in n)C(n[r]),n[r]=null;Vt([t.ticks,t.minorTicks,t.alternateBands],function(e){C(e)});for(e=i.length;e--;)i[e].destroy();Vt("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(e){t[e]&&(t[e]=t[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){if(this.crosshair)if((l(t)||!p(this.crosshair.snap,!0))===!1)this.hideCrosshair();else{var n,r=this.crosshair,i=r.animation;p(r.snap,!0)?l(t)&&(n=this.chart.inverted!=this.horiz?t.plotX:this.len-t.plotY):n=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,n=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:p(t.stackY,t.y)):this.getPlotLinePath(null,null,null,null,n),n===null?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[i?"animate":"attr"]({d:n},i):(i={"stroke-width":r.width||1,stroke:r.color||"#C0C0C0",zIndex:r.zIndex||2},r.dashStyle&&(i.dashstyle=r.dashStyle),this.cross=this.chart.renderer.path(n).attr(i).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},e(D.prototype,{getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),r=this.getPlotLinePath(e);return r&&n?r.push(n[4],n[5],n[1],n[2]):r=null,r},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=(new qt.PlotLineOrBand(this,e)).render(),r=this.userOptions;return n&&(t&&(r[t]=r[t]||[],r[t].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=t.length;i--;)t[i].id===e&&t[i].destroy();Vt([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){for(i=t.length;i--;)t[i].id===e&&f(t,t[i])})}}),D.prototype.getTimeTicks=function(t,n,r,i){var s=[],o={},u=ht.global.useUTC,a,f=new Nt(n-kt),c=t.unitRange,h=t.count;if(l(n)){c>=mt.second&&(f.setMilliseconds(0),f.setSeconds(c>=mt.minute?0:h*R(f.getSeconds()/h))),c>=mt.minute&&f[Pt](c>=mt.hour?0:h*R(f[Lt]()/h)),c>=mt.hour&&f[Ht](c>=mt.day?0:h*R(f[At]()/h)),c>=mt.day&&f[Bt](c>=mt.month?1:h*R(f[Mt]()/h)),c>=mt.month&&(f[jt](c>=mt.year?0:h*R(f[_t]()/h)),a=f[Dt]()),c>=mt.year&&(a-=a%h,f[Ft](a)),c===mt.week&&f[Bt](f[Mt]()-f[Ot]()+p(i,1)),n=1,kt&&(f=new Nt(f.getTime()+kt)),a=f[Dt]();for(var i=f.getTime(),d=f[_t](),v=f[Mt](),m=(mt.day+(u?kt:f.getTimezoneOffset()*6e4))%mt.day;i<r;)s.push(i),c===mt.year?i=Ct(a+n*h,0):c===mt.month?i=Ct(a,d+n*h):!!u||c!==mt.day&&c!==mt.week?i+=c*h:i=Ct(a,d,v+n*h*(c===mt.day?1:7)),n++;s.push(i),Vt($t(s,function(e){return c<=mt.hour&&e%mt.day===m}),function(e){o[e]="day"})}return s.info=e(t,{higherRanks:o,totalRange:c*h}),s},D.prototype.normalizeTimeTickInterval=function(e,t){var n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],i=mt[r[0]],s=r[1],o;for(o=0;o<n.length;o++)if(r=n[o],i=mt[r[0]],s=r[1],n[o+1]&&e<=(i*s[s.length-1]+mt[n[o+1][0]])/2)break;return i===mt.year&&e<5*i&&(s=[1,2,5]),n=S(e/i,s,r[0]==="year"?z(E(e/i),1):1),{unitRange:i,count:n,unitName:r[0]}},D.prototype.getLogTickPositions=function(e,t,n,r){var i=this.options,s=this.len,o=[];r||(this._minorAutoInterval=null);if(e>=.5)e=q(e),o=this.getLinearTickPositions(e,t,n);else if(e>=.08)for(var s=R(t),f,l,c,h,d,i=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];s<n+1&&!d;s++){l=i.length;for(f=0;f<l&&!d;f++)c=u(a(s)*i[f]),c>t&&(!r||h<=n)&&h!==B&&o.push(h),h>n&&(d=!0),h=c}else if(t=a(t),n=a(n),e=i[r?"minorTickInterval":"tickInterval"],e=p(e==="auto"?null:e,this._minorAutoInterval,(n-t)*(i.tickPixelInterval/(r?5:1))/((r?s/this.tickPositions.length:s)||1)),e=S(e,null,E(e)),o=Kt(this.getLinearTickPositions(e,t,n),u),!r)this._minorAutoInterval=e/5;return r||(this.tickInterval=e),o};var hn=qt.Tooltip=function(){this.init.apply(this,arguments)};hn.prototype={init:function(e,t){var r=t.borderWidth,i=t.style,s=n(i.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:s,fill:t.backgroundColor,"stroke-width":r,r:t.borderRadius,zIndex:8}).css(i).css({padding:0}).add().attr({y:-9999}),ot||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,n,r,i){var s=this,o=s.now,u=s.options.animation!==!1&&!s.isHidden&&(X(t-o.x)>1||X(n-o.y)>1),a=s.followPointer||s.len>1;e(o,{x:u?(2*o.x+t)/3:t,y:u?(o.y+n)/2:n,anchorX:a?B:u?(2*o.anchorX+r)/3:r,anchorY:a?B:u?(o.anchorY+i)/2:i}),s.label.attr(o),u&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,n,r,i)},32))},hide:function(e){var t=this,n;clearTimeout(this.hideTimer),this.isHidden||(n=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){t.label.fadeOut(),t.isHidden=!0},p(e,this.options.hideDelay,500)),n&&Vt(n,function(e){e.setState()}),this.chart.hoverPoints=null)},getAnchor:function(e,t){var n,r=this.chart,i=r.inverted,s=r.plotTop,o=0,u=0,a,e=h(e);return n=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===B&&(t=r.pointer.normalize(t)),n=[t.chartX-r.plotLeft,t.chartY-s]),n||(Vt(e,function(e){a=e.series.yAxis,o+=e.plotX,u+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!i&&a?a.top-s:0)}),o/=e.length,u/=e.length,n=[i?r.plotWidth-u:o,this.shared&&!i&&e.length>1&&t?t.chartY-s:i?r.plotHeight-o:u]),Kt(n,q)},getPosition:function(e,t,n){var r=this.chart,i=this.distance,s={},o,u=["y",r.chartHeight,t,n.plotY+r.plotTop],a=["x",r.chartWidth,e,n.plotX+r.plotLeft],f=n.ttBelow||r.inverted&&!n.negative||!r.inverted&&n.negative,l=function(e,t,n,r){var o=n<r-i,t=r+i+n<t,n=r-i-n;r+=i;if(f&&t)s[e]=r;else if(!f&&o)s[e]=n;else if(o)s[e]=n;else{if(!t)return!1;s[e]=r}},c=function(e,t,n,r){if(r<i||r>t-i)return!1;s[e]=r<n/2?1:r>t-n/2?t-n-2:r-n/2},h=function(e){var t=u;u=a,a=t,o=e},p=function(){l.apply(0,u)!==!1?c.apply(0,a)===!1&&!o&&(h(!0),p()):o?s.x=s.y=0:(h(!0),p())};return(r.inverted||this.len>1)&&h(),p(),s},defaultFormatter:function(e){var t=this.points||h(this),n=t[0].series,r;return r=[e.tooltipHeaderFormatter(t[0])],Vt(t,function(e){n=e.series,r.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),r.push(e.options.footerFormat||""),r.join("")},refresh:function(e,t){var n=this.chart,r=this.label,i=this.options,s,o,u={},a,f=[];a=i.formatter||this.defaultFormatter;var u=n.hoverPoints,l,c=this.shared;clearTimeout(this.hideTimer),this.followPointer=h(e)[0].series.tooltipOptions.followPointer,o=this.getAnchor(e,t),s=o[0],o=o[1],c&&(!e.series||!e.series.noSharedTooltip)?(n.hoverPoints=e,u&&Vt(u,function(e){e.setState()}),Vt(e,function(e){e.setState("hover"),f.push(e.getLabelConfig())}),u={x:e[0].category,y:e[0].y},u.points=f,this.len=f.length,e=e[0]):u=e.getLabelConfig(),a=a.call(u,this),u=e.series,this.distance=p(u.tooltipOptions.distance,16),a===!1?this.hide():(this.isHidden&&(tn(r),r.attr("opacity",1).show()),r.attr({text:a}),l=i.borderColor||e.color||u.color||"#606060",r.attr({stroke:l}),this.updatePosition({plotX:s,plotY:o,negative:e.negative,ttBelow:e.ttBelow}),this.isHidden=!1),Yt(n,"tooltipRefresh",{text:a,x:s+n.plotLeft,y:o+n.plotTop,borderColor:l})},updatePosition:function(e){var t=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(q(n.x),q(n.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)},tooltipHeaderFormatter:function(e){var t=e.series,n=t.tooltipOptions,r=n.dateTimeLabelFormats,i=n.xDateFormat,s=t.xAxis,u=s&&s.options.type==="datetime"&&o(e.key),n=n.headerFormat,s=s&&s.closestPointRange,a;if(u&&!i){if(s){for(a in mt)if(mt[a]>=s||mt[a]<=mt.day&&e.key%mt[a]>0){i=r[a];break}}else i=r.day;i=i||r.year}return u&&i&&(n=n.replace("{point.key}","{point.key:"+i+"}")),w(n,{point:e,series:t})}};var pn;at=j.documentElement.ontouchstart!==B;var dn=qt.Pointer=function(e,t){this.init(e,t)};dn.prototype={init:function(e,t){var n=t.chart,r=n.events,i=ot?"":n.zoomType,n=e.inverted,s;this.options=t,this.chart=e,this.zoomX=s=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=s&&!n||i&&n,this.zoomVert=i&&!n||s&&n,this.hasZoom=s||i,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},qt.Tooltip&&t.tooltip.enabled&&(e.tooltip=new hn(e,t.tooltip),this.followTouchMove=t.tooltip.followTouchMove),this.setDOMEvents()},normalize:function(t,n){var r,i,t=t||window.event,t=Zt(t);return t.target||(t.target=t.srcElement),i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,n||(this.chartPosition=n=Jt(this.chart.container)),i.pageX===B?(r=z(t.x,t.clientX-n.left),i=t.y):(r=i.pageX-n.left,i=i.pageY-n.top),e(t,{chartX:q(r),chartY:q(i)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return Vt(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var t=this.chart,n=t.series,r=t.tooltip,i,s,o=t.hoverPoint,u=t.hoverSeries,a,f,l=t.chartWidth,c=this.getIndex(e);if(r&&this.options.tooltip.shared&&(!u||!u.noSharedTooltip)){s=[],a=n.length;for(f=0;f<a;f++)n[f].visible&&n[f].options.enableMouseTracking!==!1&&!n[f].noSharedTooltip&&n[f].singularTooltips!==!0&&n[f].tooltipPoints.length&&(i=n[f].tooltipPoints[c])&&i.series&&(i._dist=X(c-i.clientX),l=W(l,i._dist),s.push(i));for(a=s.length;a--;)s[a]._dist>l&&s.splice(a,1);s.length&&s[0].clientX!==this.hoverX&&(r.refresh(s,e),this.hoverX=s[0].clientX)}n=u&&u.tooltipOptions.followPointer,u&&u.tracker&&!n?(i=u.tooltipPoints[c])&&i!==o&&i.onMouseOver(e):r&&n&&!r.isHidden&&(u=r.getAnchor([{}],e),r.updatePosition({plotX:u[0],plotY:u[1]})),r&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(e){bt[pn]&&bt[pn].pointer.onDocumentMouseMove(e)},Qt(j,"mousemove",this._onDocumentMouseMove)),Vt(t.axes,function(t){t.drawCrosshair(e,p(i,o))})},reset:function(e,t){var n=this.chart,r=n.hoverSeries,i=n.hoverPoint,s=n.tooltip,o=s&&s.shared?n.hoverPoints:i;(e=e&&s&&o)&&h(o)[0].plotX===B&&(e=!1),e?(s.refresh(o),i&&i.setState(i.state,!0)):(i&&i.onMouseOut(),r&&r.onMouseOut(),s&&s.hide(t),this._onDocumentMouseMove&&(Gt(j,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Vt(n.axes,function(e){e.hideCrosshair()}),this.hoverX=null)},scaleGroups:function(e,t){var n=this.chart,r;Vt(n.series,function(i){r=e||i.getPlotBox(),i.xAxis&&i.xAxis.zoomEnabled&&(i.group.attr(r),i.markerGroup&&(i.markerGroup.attr(r),i.markerGroup.clip(t?n.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(r))}),n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,n=t.options.chart,r=e.chartX,i=e.chartY,s=this.zoomHor,o=this.zoomVert,u=t.plotLeft,a=t.plotTop,f=t.plotWidth,l=t.plotHeight,c,h=this.mouseDownX,p=this.mouseDownY,d=n.panKey&&e[n.panKey+"Key"];r<u?r=u:r>u+f&&(r=u+f),i<a?i=a:i>a+l&&(i=a+l),this.hasDragged=Math.sqrt(Math.pow(h-r,2)+Math.pow(p-i,2)),this.hasDragged>10&&(c=t.isInsidePlot(h-u,p-a),t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&c&&!d&&!this.selectionMarker&&(this.selectionMarker=t.renderer.rect(u,a,s?1:f,o?1:l,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&s&&(r-=h,this.selectionMarker.attr({width:X(r),x:(r>0?0:r)+h})),this.selectionMarker&&o&&(r=i-p,this.selectionMarker.attr({height:X(r),y:(r>0?0:r)+p})),c&&!this.selectionMarker&&n.panning&&t.pan(e,n.panning))},drop:function(t){var n=this.chart,r=this.hasPinched;if(this.selectionMarker){var i={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},s=this.selectionMarker,o=s.attr?s.attr("x"):s.x,u=s.attr?s.attr("y"):s.y,a=s.attr?s.attr("width"):s.width,f=s.attr?s.attr("height"):s.height,l;if(this.hasDragged||r)Vt(n.axes,function(e){if(e.zoomEnabled){var n=e.horiz,r=t.type==="touchend"?e.minPixelPadding:0,s=e.toValue((n?o:u)+r),n=e.toValue((n?o+a:u+f)-r);!isNaN(s)&&!isNaN(n)&&(i[e.coll].push({axis:e,min:W(s,n),max:z(s,n)}),l=!0)}}),l&&Yt(n,"selection",i,function(t){n.zoom(e(t,r?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy(),r&&this.scaleGroups()}n&&(d(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){bt[pn]&&bt[pn].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,r=t.hoverSeries,e=this.normalize(e,n);n&&r&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=bt[pn];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;pn=t.index,e=this.normalize(e),e.returnValue=!1,t.mouseIsDown==="mousedown"&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=c(e,"class")){if(n.indexOf(t)!==-1)return!0;if(n.indexOf("highcharts-container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,n=(e=e.relatedTarget||e.toElement)&&e.point&&e.point.series;t&&!t.options.stickyTracking&&!this.inClass(e,"highcharts-tooltip")&&n!==t&&t.onMouseOut()},onContainerClick:function(t){var n=this.chart,r=n.hoverPoint,i=n.plotLeft,s=n.plotTop,t=this.normalize(t);t.cancelBubble=!0,n.cancelClick||(r&&this.inClass(t.target,"highcharts-tracker")?(Yt(r.series,"click",e(t,{point:r})),n.hoverPoint&&r.firePointEvent("click",t)):(e(t,this.getCoordinates(t)),n.isInsidePlot(t.chartX-i,t.chartY-s)&&Yt(n,"click",t)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},Qt(t,"mouseleave",e.onContainerMouseLeave),wt===1&&Qt(j,"mouseup",e.onDocumentMouseUp),at&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},wt===1&&Qt(j,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;Gt(this.chart.container,"mouseleave",this.onContainerMouseLeave),wt||(Gt(j,"mouseup",this.onDocumentMouseUp),Gt(j,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},e(qt.Pointer.prototype,{pinchTranslate:function(e,t,n,r,i,s){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,r,i,s),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,r,i,s)},pinchTranslateDirection:function(e,t,n,r,i,s,o,u){var a=this.chart,f=e?"x":"y",l=e?"X":"Y",c="chart"+l,h=e?"width":"height",p=a["plot"+(e?"Left":"Top")],d,v,m=u||1,g=a.inverted,y=a.bounds[e?"h":"v"],b=t.length===1,w=t[0][c],E=n[0][c],S=!b&&t[1][c],x=!b&&n[1][c],T,n=function(){!b&&X(w-S)>20&&(m=u||X(E-x)/X(w-S)),v=(p-E)/m+w,d=a["plot"+(e?"Width":"Height")]/m};n(),t=v,t<y.min?(t=y.min,T=!0):t+d>y.max&&(t=y.max-d,T=!0),T?(E-=.8*(E-o[f][0]),b||(x-=.8*(x-o[f][1])),n()):o[f]=[E,x],g||(s[f]=v-p,s[h]=d),s=g?1/m:m,i[h]=d,i[f]=t,r[g?e?"scaleY":"scaleX":"scale"+l]=m,r["translate"+l]=s*p+(E-s*w)},pinch:function(t){var n=this,r=n.chart,i=n.pinchDown,s=n.followTouchMove,o=t.touches,u=o.length,a=n.lastValidTouch,f=n.hasZoom,l=n.selectionMarker,c={},h=u===1&&(n.inClass(t.target,"highcharts-tracker")&&r.runTrackerClick||n.runChartClick),d={};(f||s)&&!h&&t.preventDefault(),Kt(o,function(e){return n.normalize(e)}),t.type==="touchstart"?(Vt(o,function(e,t){i[t]={chartX:e.chartX,chartY:e.chartY}}),a.x=[i[0].chartX,i[1]&&i[1].chartX],a.y=[i[0].chartY,i[1]&&i[1].chartY],Vt(r.axes,function(e){if(e.zoomEnabled){var t=r.bounds[e.horiz?"h":"v"],n=e.minPixelPadding,i=e.toPixels(p(e.options.min,e.dataMin)),s=e.toPixels(p(e.options.max,e.dataMax)),o=W(i,s),i=z(i,s);t.min=W(e.pos,o-n),t.max=z(e.pos+e.len,i+n)}}),n.res=!0):i.length&&(l||(n.selectionMarker=l=e({destroy:yt},r.plotBox)),n.pinchTranslate(i,o,c,l,d,a),n.hasPinched=f,n.scaleGroups(c,d),!f&&s&&u===1?this.runPointActions(n.normalize(t)):n.res&&(n.res=!1,this.reset(!1,0)))},onContainerTouchStart:function(e){var t=this.chart;pn=t.index,e.touches.length===1?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)?(this.runPointActions(e),this.pinch(e)):this.reset()):e.touches.length===2&&this.pinch(e)},onContainerTouchMove:function(e){(e.touches.length===1||e.touches.length===2)&&this.pinch(e)},onDocumentTouchEnd:function(e){bt[pn]&&bt[pn].pointer.drop(e)}});if(F.PointerEvent||F.MSPointerEvent){var vn={},mn=!!F.PointerEvent,gn=function(){var e,t=[];t.item=function(e){return this[e]};for(e in vn)vn.hasOwnProperty(e)&&t.push({pageX:vn[e].pageX,pageY:vn[e].pageY,target:vn[e].target});return t},yn=function(e,t,n,r){e=e.originalEvent||e,(e.pointerType==="touch"||e.pointerType===e.MSPOINTER_TYPE_TOUCH)&&bt[pn]&&(r(e),r=bt[pn].pointer,r[t]({type:n,target:e.currentTarget,preventDefault:yt,touches:gn()}))};e(dn.prototype,{onContainerPointerDown:function(e){yn(e,"onContainerTouchStart","touchstart",function(e){vn[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){yn(e,"onContainerTouchMove","touchmove",function(e){vn[e.pointerId]={pageX:e.pageX,pageY:e.pageY},vn[e.pointerId].target||(vn[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){yn(e,"onContainerTouchEnd","touchend",function(e){delete vn[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,mn?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,mn?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(j,mn?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),b(dn.prototype,"init",function(e,t,n){e.call(this,t,n),(this.hasZoom||this.followTouchMove)&&d(t.container,{"-ms-touch-action":St,"touch-action":St})}),b(dn.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Qt)}),b(dn.prototype,"destroy",function(e){this.batchMSEvents(Gt),e.call(this)})}var bn=qt.Legend=function(e,t){this.init(e,t)};bn.prototype={init:function(e,n){var r=this,i=n.itemStyle,s=p(n.padding,8),o=n.itemMarginTop||0;this.options=n,n.enabled&&(r.itemStyle=i,r.itemHiddenStyle=t(i,n.itemHiddenStyle),r.itemMarginTop=o,r.padding=s,r.initialItemX=s,r.initialItemY=s-5,r.maxItemWidth=0,r.chart=e,r.itemHeight=0,r.lastLineHeight=0,r.symbolWidth=p(n.symbolWidth,16),r.pages=[],r.render(),Qt(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(e,t){var n=this.options,r=e.legendItem,i=e.legendLine,s=e.legendSymbol,o=this.itemHiddenStyle.color,n=t?n.itemStyle.color:o,u=t?e.legendColor||e.color||"#CCC":o,o=e.options&&e.options.marker,a={fill:u},f;r&&r.css({fill:n,color:n}),i&&i.attr({stroke:u});if(s){if(o&&s.isMarker)for(f in a.stroke=u,o=e.convertAttribs(o),o)r=o[f],r!==B&&(a[f]=r);s.attr(a)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,r=e._legendItemPos,i=r[0],r=r[1],s=e.checkbox;e.legendGroup&&e.legendGroup.translate(t?i:this.legendWidth-i-2*n-4,r),s&&(s.x=i,s.y=r)},destroyItem:function(e){var t=e.checkbox;Vt(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&k(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;t&&(n=t.translateY,Vt(this.allItems,function(i){var s=i.checkbox,o;s&&(o=n+s.y+(e||0)+3,d(s,{left:t.translateX+i.checkboxOffset+s.x-20+"px",top:o+"px",display:o>n-6&&o<n+r-6?"":St}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,n=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),n=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},renderItem:function(e){var n=this.chart,r=n.renderer,i=this.options,s=i.layout==="horizontal",o=this.symbolWidth,u=i.symbolPadding,a=this.itemStyle,f=this.itemHiddenStyle,l=this.padding,c=s?p(i.itemDistance,20):0,h=!i.rtl,d=i.width,v=i.itemMarginBottom||0,m=this.itemMarginTop,g=this.initialItemX,y=e.legendItem,b=e.series&&e.series.drawLegendSymbol?e.series:e,E=b.options,E=this.createCheckboxForItem&&E&&E.showCheckbox,S=i.useHTML;y||(e.legendGroup=r.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),e.legendItem=y=r.text(i.labelFormat?w(i.labelFormat,e):i.labelFormatter.call(e),h?o+u:-u,this.baseline||0,S).css(t(e.visible?a:f)).attr({align:h?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.baseline=r.fontMetrics(a.fontSize,y).f+3+m,y.attr("y",this.baseline)),b.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,y,S,a,f),this.colorizeItem(e,e.visible),E&&this.createCheckboxForItem(e)),r=y.getBBox(),o=e.checkboxOffset=i.itemWidth||e.legendItemWidth||o+u+r.width+c+(E?20:0),this.itemHeight=u=q(e.legendItemHeight||r.height),s&&this.itemX-g+o>(d||n.chartWidth-2*l-g-i.x)&&(this.itemX=g,this.itemY+=m+this.lastLineHeight+v,this.lastLineHeight=0),this.maxItemWidth=z(this.maxItemWidth,o),this.lastItemY=m+this.itemY+v,this.lastLineHeight=z(u,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],s?this.itemX+=o:(this.itemY+=m+u+v,this.lastLineHeight=u),this.offsetWidth=d||z((s?this.itemX-g-c:o)+l,this.offsetWidth)},getAllItems:function(){var e=[];return Vt(this.chart.series,function(t){var n=t.options;p(n.showInLegend,l(n.linkedTo)?!1:B,!0)&&(e=e.concat(t.legendItems||(n.legendType==="point"?t.data:t)))}),e},render:function(){var t=this,n=t.chart,r=n.renderer,i=t.group,s,o,u,a,f=t.box,l=t.options,c=t.padding,h=l.borderWidth,p=l.backgroundColor;t.itemX=t.initialItemX,t.itemY=t.initialItemY,t.offsetWidth=0,t.lastItemY=0,i||(t.group=i=r.g("legend").attr({zIndex:7}).add(),t.contentGroup=r.g().attr({zIndex:1}).add(i),t.scrollGroup=r.g().add(t.contentGroup)),t.renderTitle(),s=t.getAllItems(),x(s,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),l.reversed&&s.reverse(),t.allItems=s,t.display=o=!!s.length,Vt(s,function(e){t.renderItem(e)}),u=l.width||t.offsetWidth,a=t.lastItemY+t.lastLineHeight+t.titleHeight,a=t.handleOverflow(a);if(h||p)u+=c,a+=c,f?u>0&&a>0&&(f[f.isNew?"attr":"animate"](f.crisp({width:u,height:a})),f.isNew=!1):(t.box=f=r.rect(0,0,u,a,l.borderRadius,h||0).attr({stroke:l.borderColor,"stroke-width":h||0,fill:p||St}).add(i).shadow(l.shadow),f.isNew=!0),f[o?"show":"hide"]();t.legendWidth=u,t.legendHeight=a,Vt(s,function(e){t.positionItem(e)}),o&&i.align(e({width:u,height:a},l),!0,"spacingBox"),n.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,i=this.options,s=i.y,s=n.spacingBox.height+(i.verticalAlign==="top"?-s:s)-this.padding,o=i.maxHeight,u,a=this.clipRect,f=i.navigation,l=p(f.animation,!0),c=f.arrowSize||12,h=this.nav,d=this.pages,v,m=this.allItems;return i.layout==="horizontal"&&(s/=2),o&&(s=W(s,o)),d.length=0,e>s&&!i.useHTML?(this.clipHeight=u=z(s-20-this.titleHeight-this.padding,0),this.currentPage=p(this.currentPage,1),this.fullHeight=e,Vt(m,function(e,t){var n=e._legendItemPos[1],r=q(e.legendItem.getBBox().height),i=d.length;if(!i||n-d[i-1]>u&&(v||n)!==d[i-1])d.push(v||n),i++;t===m.length-1&&n+r-d[i-1]>u&&d.push(n),n!==v&&(v=n)}),a||(a=t.clipRect=r.clipRect(0,this.padding,9999,0),t.contentGroup.clip(a)),a.attr({height:u}),h||(this.nav=h=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,c,c).on("click",function(){t.scroll(-1,l)}).add(h),this.pager=r.text("",15,10).css(f.style).add(h),this.down=r.symbol("triangle-down",0,0,c,c).on("click",function(){t.scroll(1,l)}).add(h)),t.scroll(0),e=s):h&&(a.attr({height:n.chartHeight}),h.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n=this.pages,r=n.length,i=this.currentPage+e,s=this.clipHeight,o=this.options.navigation,u=o.activeColor,o=o.inactiveColor,a=this.pager,f=this.padding;i>r&&(i=r),i>0&&(t!==B&&A(t,this.chart),this.nav.attr({translateX:f,translateY:s+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:i===1?o:u}).css({cursor:i===1?"default":"pointer"}),a.attr({text:i+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===r?o:u}).css({cursor:i===r?"default":"pointer"}),n=-n[i-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=i,this.positionCheckboxes(n))}},Ut=qt.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||12;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-5-n/2,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t=this.options,n=t.marker,r;r=e.symbolWidth;var i=this.chart.renderer,s=this.legendGroup,e=e.baseline-q(i.fontMetrics(e.options.itemStyle.fontSize,this.legendItem).b*.3),o;t.lineWidth&&(o={"stroke-width":t.lineWidth},t.dashStyle&&(o.dashstyle=t.dashStyle),this.legendLine=i.path(["M",0,e,"L",r,e]).attr(o).add(s)),n&&n.enabled!==!1&&(t=n.radius,this.legendSymbol=r=i.symbol(this.symbol,r/2-t,e-t,2*t,2*t).add(s),r.isMarker=!0)}},(/Trident\/7\.0/.test(Q)||tt)&&b(bn.prototype,"positionItem",function(e,t){var n=this,r=function(){t._legendItemPos&&e.call(n,t)};r(),setTimeout(r)}),P.prototype={init:function(e,n){var r,i=e.series;e.series=null,r=t(ht,e),r.series=e.series=i,this.userOptions=e,i=r.chart,this.margin=this.splashArray("margin",i),this.spacing=this.splashArray("spacing",i);var s=i.events;this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var o=this,u;o.index=bt.length,bt.push(o),wt++,i.reflow!==!1&&Qt(o,"load",function(){o.initReflow()});if(s)for(u in s)Qt(o,u,s[u]);o.xAxis=[],o.yAxis=[],o.animation=ot?!1:p(i.animation,!0),o.pointCount=o.colorCounter=o.symbolCounter=0,o.firstRender()},initSeries:function(e){var t=this.options.chart;return(t=It[e.type||t.type||t.defaultSeriesType])||gt(17,!0),t=new t,t.init(this,e),t},isInsidePlot:function(e,t,n){var r=n?t:e,e=n?e:t;return r>=0&&r<=this.plotWidth&&e>=0&&e<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&Vt(this.axes,function(e){e.adjustTickAmount()}),this.maxTicks=null},redraw:function(t){var n=this.axes,r=this.series,i=this.pointer,s=this.legend,o=this.isDirtyLegend,u,a,f=this.hasCartesianSeries,l=this.isDirtyBox,c=r.length,h=c,p=this.renderer,d=p.isHidden(),v=[];A(t,this),d&&this.cloneRenderTo();for(this.layOutTitles();h--;)if(t=r[h],t.options.stacking&&(u=!0,t.isDirty)){a=!0;break}if(a)for(h=c;h--;)if(t=r[h],t.options.stacking)t.isDirty=!0;Vt(r,function(e){e.isDirty&&e.options.legendType==="point"&&(o=!0)}),o&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1),u&&this.getStacks(),f&&(this.isResizing||(this.maxTicks=null,Vt(n,function(e){e.setScale()})),this.adjustTickAmounts()),this.getMargins(),f&&(Vt(n,function(e){e.isDirty&&(l=!0)}),Vt(n,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,v.push(function(){Yt(t,"afterSetExtremes",e(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(l||u)&&t.redraw()})),l&&this.drawChartBox(),Vt(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),i&&i.reset(!0),p.draw(),Yt(this,"redraw"),d&&this.cloneRenderTo(!0),Vt(v,function(e){e.call()})},get:function(e){var t=this.axes,n=this.series,r,i;for(r=0;r<t.length;r++)if(t[r].options.id===e)return t[r];for(r=0;r<n.length;r++)if(n[r].options.id===e)return n[r];for(r=0;r<n.length;r++){i=n[r].points||[];for(t=0;t<i.length;t++)if(i[t].id===e)return i[t]}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=h(t.xAxis||{}),t=t.yAxis=h(t.yAxis||{});Vt(n,function(e,t){e.index=t,e.isX=!0}),Vt(t,function(e,t){e.index=t}),n=n.concat(t),Vt(n,function(t){new D(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return Vt(this.series,function(t){e=e.concat($t(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return $t(this.series,function(e){return e.selected})},getStacks:function(){var e=this;Vt(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),Vt(e.series,function(t){t.options.stacking&&(t.visible===!0||e.options.chart.ignoreHiddenSeries===!1)&&(t.stackKey=t.type+p(t.options.stack,""))})},setTitle:function(e,n,r){var i,s=this,o=s.options,u;u=o.title=t(o.title,e),i=o.subtitle=t(o.subtitle,n),o=i,Vt([["title",e,u],["subtitle",n,o]],function(e){var t=e[0],n=s[t],r=e[1],e=e[2];n&&r&&(s[t]=n=n.destroy()),e&&e.text&&!n&&(s[t]=s.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),s.layOutTitles(r)},layOutTitles:function(t){var n=0,r=this.title,i=this.subtitle,s=this.options,o=s.title,s=s.subtitle,u=this.renderer,a=this.spacingBox.width-44;r&&(r.css({width:(o.width||a)+"px"}).align(e({y:u.fontMetrics(o.style.fontSize,r).b-3},o),!1,"spacingBox"),!o.floating&&!o.verticalAlign)&&(n=r.getBBox().height),i&&(i.css({width:(s.width||a)+"px"}).align(e({y:n+(o.margin-13)+u.fontMetrics(o.style.fontSize,i).b},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign&&(n=U(n+i.getBBox().height))),r=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&r&&(this.isDirtyBox=r,this.hasRendered&&p(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,n=this.renderToClone||this.renderTo;l(t)||(this.containerWidth=zt(n,"width")),l(e)||(this.containerHeight=zt(n,"height")),this.chartWidth=z(0,t||this.containerWidth||600),this.chartHeight=z(0,p(e,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),k(t),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),d(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),j.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var t,i=this.options.chart,s,o,u;this.renderTo=t=i.renderTo,u="highcharts-"+lt++,r(t)&&(this.renderTo=t=j.getElementById(t)),t||gt(13,!0),s=n(c(t,"data-highcharts-chart")),!isNaN(s)&&bt[s]&&bt[s].hasRendered&&bt[s].destroy(),c(t,"data-highcharts-chart",this.index),t.innerHTML="",!i.skipClone&&!t.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),s=this.chartWidth,o=this.chartHeight,this.container=t=v(Et,{className:"highcharts-container"+(i.className?" "+i.className:""),id:u},e({position:"relative",overflow:"hidden",width:s+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},i.style),this.renderToClone||t),this._cursor=t.style.cursor,this.renderer=i.forExport?new an(t,s,o,i.style,!0):new ut(t,s,o,i.style),ot&&this.renderer.create(this,t,s,o)},getMargins:function(){var e=this.spacing,t,n=this.legend,r=this.margin,i=this.options.legend,s=p(i.margin,20),o=i.x,u=i.y,a=i.align,f=i.verticalAlign,c=this.titleOffset;this.resetMargins(),t=this.axisOffset,c&&!l(r[0])&&(this.plotTop=z(this.plotTop,c+this.options.title.margin+e[0])),n.display&&!i.floating&&(a==="right"?l(r[1])||(this.marginRight=z(this.marginRight,n.legendWidth-o+s+e[1])):a==="left"?l(r[3])||(this.plotLeft=z(this.plotLeft,n.legendWidth+o+s+e[3])):f==="top"?l(r[0])||(this.plotTop=z(this.plotTop,n.legendHeight+u+s+e[0])):f==="bottom"&&!l(r[2])&&(this.marginBottom=z(this.marginBottom,n.legendHeight-u+s+e[2]))),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),this.hasCartesianSeries&&Vt(this.axes,function(e){e.getOffset()}),l(r[3])||(this.plotLeft+=t[3]),l(r[0])||(this.plotTop+=t[0]),l(r[2])||(this.marginBottom+=t[2]),l(r[1])||(this.marginRight+=t[1]),this.setChartSize()},reflow:function(e){var t=this,n=t.options.chart,r=t.renderTo,i=n.width||zt(r,"width"),s=n.height||zt(r,"height"),n=e?e.target:F,r=function(){t.container&&(t.setSize(i,s,!1),t.hasUserSize=null)};if(!t.hasUserSize&&i&&s&&(n===F||n===j)){if(i!==t.containerWidth||s!==t.containerHeight)clearTimeout(t.reflowTimeout),e?t.reflowTimeout=setTimeout(r,100):r();t.containerWidth=i,t.containerHeight=s}},initReflow:function(){var e=this,t=function(t){e.reflow(t)};Qt(F,"resize",t),Qt(e,"destroy",function(){Gt(F,"resize",t)})},setSize:function(e,t,n){var r=this,i,s,o;r.isResizing+=1,o=function(){r&&Yt(r,"endResize",null,function(){r.isResizing-=1})},A(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,l(e)&&(r.chartWidth=i=z(0,q(e)),r.hasUserSize=!!i),l(t)&&(r.chartHeight=s=z(0,q(t))),(dt?en:d)(r.container,{width:i+"px",height:s+"px"},dt),r.setChartSize(!0),r.renderer.setSize(i,s,n),r.maxTicks=null,Vt(r.axes,function(e){e.isDirty=!0,e.setScale()}),Vt(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(n),r.oldChartHeight=null,Yt(r,"resize"),dt===!1?o():setTimeout(o,dt&&dt.duration||500)},setChartSize:function(e){var t=this.inverted,n=this.renderer,r=this.chartWidth,i=this.chartHeight,s=this.options.chart,o=this.spacing,u=this.clipOffset,a,f,l,c;this.plotLeft=a=q(this.plotLeft),this.plotTop=f=q(this.plotTop),this.plotWidth=l=z(0,q(r-a-this.marginRight)),this.plotHeight=c=z(0,q(i-f-this.marginBottom)),this.plotSizeX=t?c:l,this.plotSizeY=t?l:c,this.plotBorderWidth=s.plotBorderWidth||0,this.spacingBox=n.spacingBox={x:o[3],y:o[0],width:r-o[3]-o[1],height:i-o[0]-o[2]},this.plotBox=n.plotBox={x:a,y:f,width:l,height:c},r=2*R(this.plotBorderWidth/2),t=U(z(r,u[3])/2),n=U(z(r,u[0])/2),this.clipBox={x:t,y:n,width:R(this.plotSizeX-z(r,u[1])/2-t),height:z(0,R(this.plotSizeY-z(r,u[2])/2-n))},e||Vt(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this.spacing,t=this.margin;this.plotTop=p(t[0],e[0]),this.marginRight=p(t[1],e[1]),this.marginBottom=p(t[2],e[2]),this.plotLeft=p(t[3],e[3]),this.axisOffset=[0,0,0,0],this.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this.options.chart,t=this.renderer,n=this.chartWidth,r=this.chartHeight,i=this.chartBackground,s=this.plotBackground,o=this.plotBorder,u=this.plotBGImage,a=e.borderWidth||0,f=e.backgroundColor,l=e.plotBackgroundColor,c=e.plotBackgroundImage,h=e.plotBorderWidth||0,p,d=this.plotLeft,v=this.plotTop,m=this.plotWidth,g=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox;p=a+(e.shadow?8:0);if(a||f)i?i.animate(i.crisp({width:n-p,height:r-p})):(i={fill:f||St},a&&(i.stroke=e.borderColor,i["stroke-width"]=a),this.chartBackground=t.rect(p/2,p/2,n-p,r-p,e.borderRadius,a).attr(i).addClass("highcharts-background").add().shadow(e.shadow));l&&(s?s.animate(y):this.plotBackground=t.rect(d,v,m,g,0).attr({fill:l}).add().shadow(e.plotShadow)),c&&(u?u.animate(y):this.plotBGImage=t.image(c,d,v,m,g).add()),b?b.animate({width:w.width,height:w.height}):this.clipRect=t.clipRect(w),h&&(o?o.animate(o.crisp({x:d,y:v,width:m,height:g,strokeWidth:-h})):this.plotBorder=t.rect(d,v,m,g,0,-h).attr({stroke:e.plotBorderColor,"stroke-width":h,fill:St,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;Vt(["inverted","angular","polar"],function(o){n=It[t.type||t.defaultSeriesType],s=e[o]||t[o]||n&&n.prototype[o];for(i=r&&r.length;!s&&i--;)(n=It[r[i].type])&&n.prototype[o]&&(s=!0);e[o]=s})},linkSeries:function(){var e=this,t=e.series;Vt(t,function(e){e.linkedSeries.length=0}),Vt(t,function(t){var n=t.options.linkedTo;r(n)&&(n=n===":previous"?e.series[t.index-1]:e.get(n))&&(n.linkedSeries.push(t),t.linkedParent=n)})},renderSeries:function(){Vt(this.series,function(e){e.translate(),e.setTooltipPoints&&e.setTooltipPoints(),e.render()})},renderLabels:function(){var t=this,r=t.options.labels;r.items&&Vt(r.items,function(i){var s=e(r.style,i.style),o=n(s.left)+t.plotLeft,u=n(s.top)+t.plotTop+12;delete s.left,delete s.top,t.renderer.text(i.html,o,u).attr({zIndex:2}).css(s).add()})},render:function(){var e=this.axes,t=this.renderer,n=this.options;this.setTitle(),this.legend=new bn(this,n.legend),this.getStacks(),Vt(e,function(e){e.setScale()}),this.getMargins(),this.maxTicks=null,Vt(e,function(e){e.setTickPositions(!0),e.setMaxTicks()}),this.adjustTickAmounts(),this.getMargins(),this.drawChartBox(),this.hasCartesianSeries&&Vt(e,function(e){e.render()}),this.seriesGroup||(this.seriesGroup=t.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(n.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var e=this,t=e.axes,n=e.series,r=e.container,i,s=r&&r.parentNode;Yt(e,"destroy"),bt[e.index]=B,wt--,e.renderTo.removeAttribute("data-highcharts-chart"),Gt(e);for(i=t.length;i--;)t[i]=t[i].destroy();for(i=n.length;i--;)n[i]=n[i].destroy();Vt("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())}),r&&(r.innerHTML="",Gt(r),s&&k(r));for(i in e)delete e[i]},isReadyToRender:function(){var e=this;return!it&&F==F.top&&j.readyState!=="complete"||ot&&!F.canvg?(ot?cn.push(function(){e.firstRender()},e.options.global.canvasToolsURL):j.attachEvent("onreadystatechange",function(){j.detachEvent("onreadystatechange",e.firstRender),j.readyState==="complete"&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,n=e.callback;e.isReadyToRender()&&(e.getContainer(),Yt(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),Vt(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),Yt(e,"beforeRender"),qt.Pointer&&(e.pointer=new dn(e,t)),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),Vt(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),Yt(e,"load"))},splashArray:function(e,t){var n=t[e],n=i(n)?n:[n,n,n,n];return[p(t[e+"Top"],n[0]),p(t[e+"Right"],n[1]),p(t[e+"Bottom"],n[2]),p(t[e+"Left"],n[3])]}},P.prototype.callbacks=[],fn=qt.CenteredSeriesMixin={getCenter:function(){var e=this.options,t=this.chart,r=2*(e.slicedOffset||0),i,s=t.plotWidth-2*r,o=t.plotHeight-2*r,t=e.center,e=[p(t[0],"50%"),p(t[1],"50%"),e.size||"100%",e.innerSize||0],u=W(s,o),a;return Kt(e,function(e,t){return a=/%$/.test(e),i=t<2||t===2&&a,(a?[s,o,u,u][t]*n(e)/100:e)+(i?r:0)})}};var wn=function(){};wn.prototype={init:function(e,t,n){return this.series=e,this.applyOptions(t,n),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(t,n){var r=this.series,i=r.options.pointValKey||r.pointValKey,t=wn.prototype.optionsToObject.call(this,t);return e(this,t),this.options=this.options?e(this.options,t):t,i&&(this.y=this[i]),this.x===B&&r&&(this.x=n===B?r.autoIncrement():n),this},optionsToObject:function(e){var t={},n=this.series,r=n.pointArrayMap||["y"],i=r.length,o=0,u=0;if(typeof e=="number"||e===null)t[r[0]]=e;else if(s(e)){e.length>i&&(n=typeof e[0],n==="string"?t.name=e[0]:n==="number"&&(t.x=e[0]),o++);for(;u<i;)t[r[u++]]=e[o++]}else typeof e=="object"&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e=this.series.chart,t=e.hoverPoints,n;e.pointCount--,t&&(this.setState(),f(t,this),!t.length)&&(e.hoverPoints=null),this===e.hoverPoint&&this.onMouseOut();if(this.graphic||this.dataLabel)Gt(this),this.destroyElements();this.legendItem&&e.legend.destroyItem(this);for(n in this)this[n]=null},destroyElements:function(){for(var e="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),t,n=6;n--;)t=e[n],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=p(n.valueDecimals,""),i=n.valuePrefix||"",s=n.valueSuffix||"";return Vt(t.pointArrayMap||["y"],function(t){t="{point."+t;if(i||s)e=e.replace(t+"}",i+t+"}"+s);e=e.replace(t+"}",t+":,."+r+"f}")}),w(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var r=this,i=this.series.options;(i.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),e==="click"&&i.allowPointSelect&&(n=function(e){r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),Yt(this,e,t,n)}};var En=function(){};En.prototype={isCartesian:!0,type:"line",pointClass:wn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,n){var r=this,i,s,o=t.series,u=function(e,t){return p(e.options.index,e._i)-p(t.options.index,t._i)};r.chart=t,r.options=n=r.setOptions(n),r.linkedSeries=[],r.bindAxes(),e(r,{name:n.name,state:"",pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0}),ot&&(n.animation=!1),s=n.events;for(i in s)Qt(r,i,s[i]);if(s&&s.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)t.runTrackerClick=!0;r.getColor(),r.getSymbol(),Vt(r.parallelArrays,function(e){r[e+"Data"]=[]}),r.setData(n.data,!1),r.isCartesian&&(t.hasCartesianSeries=!0),o.push(r),r._i=o.length-1,x(o,u),this.yAxis&&x(this.yAxis.series,u),Vt(o,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e=this,t=e.options,n=e.chart,r;Vt(e.axisTypes||[],function(i){Vt(n[i],function(n){r=n.options;if(t[i]===r.index||t[i]!==B&&t[i]===r.id||t[i]===B&&r.index===0)n.series.push(e),e[i]=n,n.isDirty=!0}),!e[i]&&e.optionalAxis!==i&&gt(18,!0)})},updateParallelArrays:function(e,t){var n=e.series,r=arguments;Vt(n.parallelArrays,typeof t=="number"?function(r){var i=r==="y"&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=i}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))})},autoIncrement:function(){var e=this.options,t=this.xIncrement,t=p(t,e.pointStart,0);return this.pointInterval=p(this.pointInterval,e.pointInterval,1),this.xIncrement=t+this.pointInterval,t},getSegments:function(){var e=-1,t=[],n,r=this.points,i=r.length;if(i)if(this.options.connectNulls){for(n=i;n--;)r[n].y===null&&r.splice(n,1);r.length&&(t=[r])}else Vt(r,function(n,s){n.y===null?(s>e+1&&t.push(r.slice(e+1,s)),e=s):s===i-1&&t.push(r.slice(e+1,s+1))});this.segments=t},setOptions:function(e){var n=this.chart,r=n.options.plotOptions,n=n.userOptions||{},i=n.plotOptions||{},s=r[this.type];return this.userOptions=e,r=t(s,r.series,e),this.tooltipOptions=t(ht.tooltip,ht.plotOptions[this.type].tooltip,n.tooltip,i.series&&i.series.tooltip,i[this.type]&&i[this.type].tooltip,e.tooltip),s.marker===null&&delete r.marker,r},getCyclic:function(e,t,n){var r=this.userOptions,i="_"+e+"Index",s=e+"Counter";t||(l(r[i])?t=r[i]:(r[i]=t=this.chart[s]%n.length,this.chart[s]+=1),t=n[t]),this[e]=t},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||nn[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:Ut.drawLineMarker,setData:function(e,t,n,i){var u=this,a=u.points,f=a&&a.length||0,l,c=u.options,h=u.chart,d=null,v=u.xAxis,m=v&&!!v.categories,g=u.tooltipPoints,y=c.turboThreshold,b=this.xData,w=this.yData,E=(l=u.pointArrayMap)&&l.length,e=e||[];l=e.length,t=p(t,!0);if(i!==!1&&l&&f===l&&!u.cropped&&!u.hasGroupedData)Vt(e,function(e,t){a[t].update(e,!1,null,!1)});else{u.xIncrement=null,u.pointRange=m?1:c.pointRange,u.colorCounter=0,Vt(this.parallelArrays,function(e){u[e+"Data"].length=0});if(y&&l>y){for(n=0;d===null&&n<l;)d=e[n],n++;if(o(d)){m=p(c.pointStart,0),c=p(c.pointInterval,1);for(n=0;n<l;n++)b[n]=m,w[n]=e[n],m+=c;u.xIncrement=m}else if(s(d))if(E)for(n=0;n<l;n++)c=e[n],b[n]=c[0],w[n]=c.slice(1,E+1);else for(n=0;n<l;n++)c=e[n],b[n]=c[0],w[n]=c[1];else gt(12)}else for(n=0;n<l;n++)e[n]!==B&&(c={series:u},u.pointClass.prototype.applyOptions.apply(c,[e[n]]),u.updateParallelArrays(c,n),m&&c.name)&&(v.names[c.x]=c.name);r(w[0])&&gt(14,!0),u.data=[],u.options.data=e;for(n=f;n--;)a[n]&&a[n].destroy&&a[n].destroy();g&&(g.length=0),v&&(v.minRange=v.userMinRange),u.isDirty=u.isDirtyData=h.isDirtyBox=!0,n=!1}t&&h.redraw(n)},processData:function(e){var t=this.xData,n=this.yData,r=t.length,i;i=0;var s,o,u=this.xAxis,a,f=this.options;a=f.cropThreshold;var l=0,c=this.isCartesian,h,p;if(c&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!e)return!1;u&&(h=u.getExtremes(),p=h.min,h=h.max);if(c&&this.sorted&&(!a||r>a||this.forceCrop))if(t[r-1]<p||t[0]>h)t=[],n=[];else if(t[0]<p||t[r-1]>h)i=this.cropData(this.xData,this.yData,p,h),t=i.xData,n=i.yData,i=i.start,s=!0,l=t.length;for(a=t.length-1;a>=0;a--)r=t[a]-t[a-1],!s&&t[a]>p&&t[a]<h&&l++,r>0&&(o===B||r<o)?o=r:r<0&&this.requireSorting&&gt(15);this.cropped=s,this.cropStart=i,this.processedXData=t,this.processedYData=n,this.activePointCount=l,f.pointRange===null&&(this.pointRange=o||1),this.closestPointRange=o},cropData:function(e,t,n,r){var i=e.length,s=0,o=i,u=p(this.cropShoulder,1),a;for(a=0;a<i;a++)if(e[a]>=n){s=z(0,a-u);break}for(;a<i;a++)if(e[a]>r){o=a+u;break}return{xData:e.slice(s,o),yData:t.slice(s,o),start:s,end:o}},generatePoints:function(){var e=this.options.data,t=this.data,n,r=this.processedXData,i=this.processedYData,s=this.pointClass,o=r.length,u=this.cropStart||0,a,f=this.hasGroupedData,l,c=[],p;!t&&!f&&(t=[],t.length=e.length,t=this.data=t);for(p=0;p<o;p++)a=u+p,f?c[p]=(new s).init(this,[r[p]].concat(h(i[p]))):(t[a]?l=t[a]:e[a]!==B&&(t[a]=l=(new s).init(this,e[a],r[p])),c[p]=l),c[p].index=a;if(t&&(o!==(n=t.length)||f))for(p=0;p<n;p++)if(p===u&&!f&&(p+=o),t[p])t[p].destroyElements(),t[p].plotX=B;this.data=t,this.points=c},getExtremes:function(e){var t=this.yAxis,n=this.processedXData,r,i=[],s=0;r=this.xAxis.getExtremes();var o=r.min,u=r.max,a,f,l,c,e=e||this.stackedYData||this.processedYData;r=e.length;for(c=0;c<r;c++)if(f=n[c],l=e[c],a=l!==null&&l!==B&&(!t.isLog||l.length||l>0),f=this.getExtremesFromAll||this.cropped||(n[c+1]||f)>=o&&(n[c-1]||f)<=u,a&&f)if(a=l.length)for(;a--;)l[a]!==null&&(i[s++]=l[a]);else i[s++]=l;this.dataMin=p(void 0,T(i)),this.dataMax=p(void 0,N(i))},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e=this.options,t=e.stacking,n=this.xAxis,r=n.categories,i=this.yAxis,s=this.points,u=s.length,a=!!this.modifyValue,f=e.pointPlacement,c=f==="between"||o(f),h=e.threshold,e=0;e<u;e++){var d=s[e],v=d.x,m=d.y,g=d.low,y=t&&i.stacks[(this.negStacks&&m<h?"-":"")+this.stackKey];i.isLog&&m<=0&&(d.y=m=null,gt(10)),d.plotX=n.translate(v,0,0,0,1,f,this.type==="flags"),t&&this.visible&&y&&y[v]&&(y=y[v],m=y.points[this.index+","+e],g=m[0],m=m[1],g===0&&(g=p(h,i.min)),i.isLog&&g<=0&&(g=null),d.total=d.stackTotal=y.total,d.percentage=y.total&&d.y/y.total*100,d.stackY=m,y.setOffset(this.pointXOffset||0,this.barW||0)),d.yBottom=l(g)?i.translate(g,0,1,0,1):null,a&&(m=this.modifyValue(m,d)),d.plotY=typeof m=="number"&&m!==Infinity?i.translate(m,0,1,0,1):B,d.clientX=c?n.translate(v,0,0,0,1):d.plotX,d.negative=d.y<(h||0),d.category=r&&r[d.x]!==B?r[d.x]:d.x}this.getSegments()},animate:function(t){var n=this.chart,r=n.renderer,s;s=this.options.animation;var o=this.clipBox||n.clipBox,u=n.inverted,a;s&&!i(s)&&(s=nn[this.type].animation),a=["_sharedClip",s.duration,s.easing,o.height].join(","),t?(t=n[a],s=n[a+"m"],t||(n[a]=t=r.clipRect(e(o,{width:0})),n[a+"m"]=s=r.clipRect(-99,u?-n.plotLeft:-n.plotTop,99,u?n.chartWidth:n.chartHeight)),this.group.clip(t),this.markerGroup.clip(s),this.sharedClipKey=a):((t=n[a])&&t.animate({width:n.plotSizeX},s),n[a+"m"]&&n[a+"m"].animate({width:n.plotSizeX+99},s),this.animate=null)},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group,r=this.clipBox;n&&this.options.clip!==!1&&((!t||!r)&&n.clip(r?e.renderer.clipRect(r):e.clipRect),this.markerGroup.clip()),Yt(this,"afterAnimate"),setTimeout(function(){t&&e[t]&&(r||(e[t]=e[t].destroy()),e[t+"m"]&&(e[t+"m"]=e[t+"m"].destroy()))},100)},drawPoints:function(){var t,n=this.points,r=this.chart,i,s,o,u,a,f,l,c,h=this.options.marker,d=this.pointAttr[""],v,m,g,y=this.markerGroup,b=p(h.enabled,!this.requireSorting||this.activePointCount<.5*this.xAxis.len/h.radius);if(h.enabled!==!1||this._hasPointMarkers)for(o=n.length;o--;)(u=n[o],i=R(u.plotX),s=u.plotY,c=u.graphic,v=u.marker||{},m=!!u.marker,t=b&&v.enabled===B||v.enabled,g=r.isInsidePlot(q(i),s,r.inverted),t&&s!==B&&!isNaN(s)&&u.y!==null)?(t=u.pointAttr[u.selected?"select":""]||d,a=t.r,f=p(v.symbol,this.symbol),l=f.indexOf("url")===0,c)?c[g?"show":"hide"](!0).animate(e({x:i-a,y:s-a},c.symbolName?{width:2*a,height:2*a}:{})):g&&(a>0||l)&&(u.graphic=r.renderer.symbol(f,i-a,s-a,2*a,2*a,m?v:h).attr(t).add(y)):c&&(u.graphic=c.destroy())},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={},e=e||{},t=t||{},n=n||{},r=r||{};for(s in i)o=i[s],u[s]=p(e[o],t[s],n[s],r[s]);return u},getAttribs:function(){var t=this,n=t.options,r=nn[t.type].marker?n.marker:n,i=r.states,s=i.hover,o,u=t.color;o={stroke:u,fill:u};var a=t.points||[],f,c=[],h,p=t.pointAttrToOptions;h=t.hasPointSpecificOptions;var d=n.negativeColor,v=r.lineColor,m=r.fillColor;f=n.turboThreshold;var g;n.marker?(s.radius=s.radius||r.radius+s.radiusPlus,s.lineWidth=s.lineWidth||r.lineWidth+s.lineWidthPlus):s.color=s.color||un(s.color||u).brighten(s.brightness).get(),c[""]=t.convertAttribs(r,o),Vt(["hover","select"],function(e){c[e]=t.convertAttribs(i[e],c[""])}),t.pointAttr=c,u=a.length;if(!f||u<f||h)for(;u--;){f=a[u],(r=f.options&&f.options.marker||f.options)&&r.enabled===!1&&(r.radius=0),f.negative&&d&&(f.color=f.fillColor=d),h=n.colorByPoint||f.color;if(f.options)for(g in p)l(r[p[g]])&&(h=!0);h?(r=r||{},h=[],i=r.states||{},o=i.hover=i.hover||{},n.marker||(o.color=o.color||!f.options.color&&s.color||un(f.color).brighten(o.brightness||s.brightness).get()),o={color:f.color},m||(o.fillColor=f.color),v||(o.lineColor=f.color),h[""]=t.convertAttribs(e(o,r),c[""]),h.hover=t.convertAttribs(i.hover,c.hover,h[""]),h.select=t.convertAttribs(i.select,c.select,h[""])):h=c,f.pointAttr=h}},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(Q),r,i,s=e.data||[],o,u,a;Yt(e,"destroy"),Gt(e),Vt(e.axisTypes||[],function(t){if(a=e[t])f(a.series,e),a.isDirty=a.forceRedraw=!0}),e.legendItem&&e.chart.legend.destroyItem(e);for(i=s.length;i--;)(o=s[i])&&o.destroy&&o.destroy();e.points=null,clearTimeout(e.animationTimeout),Vt("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(t){e[t]&&(r=n&&t==="group"?"hide":"destroy",e[t][r]())}),t.hoverSeries===e&&(t.hoverSeries=null),f(t.series,e);for(u in e)delete e[u]},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;return Vt(e,function(i,s){var o=i.plotX,u=i.plotY,a;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,i,s)):(n.push(s?"L":"M"),r&&s&&(a=e[s-1],r==="right"?n.push(a.plotX,u):r==="center"?n.push((a.plotX+o)/2,a.plotY,(a.plotX+o)/2,u):n.push(o,a.plotY)),n.push(i.plotX,i.plotY))}),n},getGraphPath:function(){var e=this,t=[],n,r=[];return Vt(e.segments,function(i){n=e.getSegmentPath(i),i.length>1?t=t.concat(n):r.push(i[0])}),e.singlePoints=r,e.graphPath=t},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color]],r=t.lineWidth,i=t.dashStyle,s=t.linecap!=="square",o=this.getGraphPath(),u=t.negativeColor;u&&n.push(["graphNeg",u]),Vt(n,function(n,u){var a=n[0],f=e[a];f?(tn(f),f.animate({d:o})):r&&o.length&&(f={stroke:n[1],"stroke-width":r,fill:St,zIndex:1},i?f.dashstyle=i:s&&(f["stroke-linecap"]=f["stroke-linejoin"]="round"),e[a]=e.chart.renderer.path(o).attr(f).add(e.group).shadow(!u&&t.shadow))})},clipNeg:function(){var e=this.options,t=this.chart,n=t.renderer,r=e.negativeColor||e.negativeFillColor,i,s=this.graph,o=this.area,u=this.posClip,a=this.negClip;i=t.chartWidth;var f=t.chartHeight,l=z(i,f),c=this.yAxis;r&&(s||o)&&(r=q(c.toPixels(e.threshold||0,!0)),r<0&&(l-=r),e={x:0,y:0,width:l,height:r},l={x:0,y:r,width:l,height:l},t.inverted&&(e.height=l.y=t.plotWidth-r,n.isVML&&(e={x:t.plotWidth-r-t.plotLeft,y:0,width:i,height:f},l={x:r+t.plotLeft-i,y:0,width:t.plotLeft+r,height:i})),c.reversed?(t=l,i=e):(t=e,i=l),u?(u.animate(t),a.animate(i)):(this.posClip=u=n.clipRect(t),this.negClip=a=n.clipRect(i),s&&this.graphNeg&&(s.clip(u),this.graphNeg.clip(a)),o&&(o.clip(u),this.areaNeg.clip(a))))},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};Vt(["group","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;t.xAxis&&(Qt(n,"resize",e),Qt(t,"destroy",function(){Gt(n,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s;return o&&(this[e]=s=this.chart.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i)),s[o?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e=this,t=e.chart,n,r=e.options,i=(n=r.animation)&&!!e.animate&&t.renderer.isSVG&&p(n.duration,500)||0,s=e.visible?"visible":"hidden",o=r.zIndex,u=e.hasRendered,a=t.seriesGroup;n=e.plotGroup("group","series",s,o,a),e.markerGroup=e.plotGroup("markerGroup","markers",s,o,a),i&&e.animate(!0),e.getAttribs(),n.inverted=e.isCartesian?t.inverted:!1,e.drawGraph&&(e.drawGraph(),e.clipNeg()),Vt(e.points,function(e){e.redraw&&e.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),t.inverted&&e.invertGroups(),r.clip!==!1&&!e.sharedClipKey&&!u&&n.clip(t.clipRect),i&&e.animate(),u||(i?e.animationTimeout=setTimeout(function(){e.afterAnimate()},i):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.group,r=this.xAxis,i=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:p(r&&r.left,e.plotLeft),translateY:p(i&&i.top,e.plotTop)})),this.translate(),this.setTooltipPoints&&this.setTooltipPoints(!0),this.render(),t&&Yt(this,"updatedData")}},H.prototype={destroy:function(){C(this,this.axis)},render:function(e){var t=this.options,n=t.format,n=n?w(n,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=this.axis,r=n.chart,i=r.inverted,s=this.isNegative,o=n.translate(n.usePercentage?100:this.total,0,0,0,1),n=n.translate(0),n=X(o-n),u=r.xAxis[0].translate(this.x)+e,a=r.plotHeight,s={x:i?s?o:o-n:u,y:i?a-u-t:s?a-o-n:a-o,width:i?n:t,height:i?t:n};if(i=this.label)i.align(this.alignOptions,null,s),s=i.alignAttr,i[this.options.crop===!1||r.isInsidePlot(s.x,s.y)?"show":"hide"](!0)}},D.prototype.buildStacks=function(){var e=this.series,t=p(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){for(this.usePercentage=!1;n--;)e[t?n:e.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<e.length;n++)e[n].setPercentStacks()}},D.prototype.renderStackTotals=function(){var e=this.chart,t=e.renderer,n=this.stacks,r,i,s=this.stackTotalGroup;s||(this.stackTotalGroup=s=t.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),s.translate(e.plotLeft,e.plotTop);for(r in n)for(i in e=n[r],e)e[i].render(s)},En.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e=this.processedXData,t=this.processedYData,n=[],r=t.length,i=this.options,s=i.threshold,o=i.stack,i=i.stacking,u=this.stackKey,a="-"+u,f=this.negStacks,l=this.yAxis,c=l.stacks,h=l.oldStacks,p,d,v,m,g,y;for(m=0;m<r;m++)g=e[m],y=t[m],v=this.index+","+m,d=(p=f&&y<s)?a:u,c[d]||(c[d]={}),c[d][g]||(h[d]&&h[d][g]?(c[d][g]=h[d][g],c[d][g].total=null):c[d][g]=new H(l,l.options.stackLabels,p,g,o)),d=c[d][g],d.points[v]=[d.cum||0],i==="percent"?(p=p?u:a,f&&c[p]&&c[p][g]?(p=c[p][g],d.total=p.total=z(p.total,d.total)+X(y)||0):d.total=L(d.total+(X(y)||0))):d.total=L(d.total+(y||0)),d.cum=(d.cum||0)+(y||0),d.points[v].push(d.cum),n[m]=d.cum;i==="percent"&&(l.usePercentage=!0),this.stackedYData=n,l.oldStacks={}}},En.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,n=e.yAxis.stacks,r=e.processedXData;Vt([t,"-"+t],function(t){var i;for(var s=r.length,o,u;s--;)if(o=r[s],i=(u=n[t]&&n[t][o])&&u.points[e.index+","+s],o=i)u=u.total?100/u.total:0,o[0]=L(o[0]*u),o[1]=L(o[1]*u),e.stackedYData[s]=o[1]})},e(P.prototype,{addSeries:function(e,t,n){var r,i=this;return e&&(t=p(t,!0),Yt(i,"addSeries",{options:e},function(){r=i.initSeries(e),i.isDirtyLegend=!0,i.linkSeries(),t&&i.redraw(n)})),r},addAxis:function(e,n,r,i){var s=n?"xAxis":"yAxis",o=this.options;new D(this,t(e,{index:this[s].length,isX:n})),o[s]=h(o[s]||{}),o[s].push(e),p(r,!0)&&this.redraw(i)},showLoading:function(t){var n=this,r=n.options,i=n.loadingDiv,s=r.loading,o=function(){i&&d(i,{left:n.plotLeft+"px",top:n.plotTop+"px",width:n.plotWidth+"px",height:n.plotHeight+"px"})};i||(n.loadingDiv=i=v(Et,{className:"highcharts-loading"},e(s.style,{zIndex:10,display:St}),n.container),n.loadingSpan=v("span",null,s.labelStyle,i),Qt(n,"redraw",o)),n.loadingSpan.innerHTML=t||r.lang.loading,n.loadingShown||(d(i,{opacity:0,display:""}),en(i,{opacity:s.style.opacity},{duration:s.showDuration||0}),n.loadingShown=!0),o()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&en(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){d(t,{display:St})}}),this.loadingShown=!1}}),e(wn.prototype,{update:function(e,t,n,r){function o(){u.applyOptions(e),i(e)&&!s(e)&&(u.redraw=function(){f&&(e&&e.marker&&e.marker.symbol?u.graphic=f.destroy():f.attr(u.pointAttr[u.state||""])),e&&e.dataLabels&&u.dataLabel&&(u.dataLabel=u.dataLabel.destroy()),u.redraw=null}),l=u.index,a.updateParallelArrays(u,l),h.data[l]=u.options,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0),h.legendType==="point"&&c.legend.destroyItem(u),t&&c.redraw(n)}var u=this,a=u.series,f=u.graphic,l,c=a.chart,h=a.options,t=p(t,!0);r===!1?o():u.firePointEvent("update",{options:e},o)},remove:function(e,t){var n=this,r=n.series,i=r.points,s=r.chart,o,u=r.data;A(t,s),e=p(e,!0),n.firePointEvent("remove",null,function(){o=Xt(n,u),u.length===i.length&&i.splice(o,1),u.splice(o,1),r.options.data.splice(o,1),r.updateParallelArrays(n,"splice",o,1),n.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&s.redraw()})}}),e(En.prototype,{addPoint:function(e,t,n,r){var i=this.options,s=this.data,o=this.graph,u=this.area,a=this.chart,f=this.xAxis&&this.xAxis.names,l=o&&o.shift||0,c=i.data,h,d=this.xData;A(r,a),n&&Vt([o,u,this.graphNeg,this.areaNeg],function(e){e&&(e.shift=l+1)}),u&&(u.isArea=!0),t=p(t,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[e]),o=r.x,u=d.length;if(this.requireSorting&&o<d[u-1])for(h=!0;u&&d[u-1]>o;)u--;this.updateParallelArrays(r,"splice",u,0,0),this.updateParallelArrays(r,u),f&&r.name&&(f[o]=r.name),c.splice(u,0,e),h&&(this.data.splice(u,0,null),this.processData()),i.legendType==="point"&&this.generatePoints(),n&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),this.updateParallelArrays(r,"shift"),c.shift())),this.isDirtyData=this.isDirty=!0,t&&(this.getAttribs(),a.redraw())},remove:function(e,t){var n=this,r=n.chart,e=p(e,!0);n.isRemoving||(n.isRemoving=!0,Yt(n,"remove",null,function(){n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(),e&&r.redraw(t)})),n.isRemoving=!1},update:function(n,r){var i=this,s=this.chart,o=this.userOptions,u=this.type,a=It[u].prototype,f=["group","markerGroup","dataLabelsGroup"],l;Vt(f,function(e){f[e]=i[e],delete i[e]}),n=t(o,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},n),this.remove(!1);for(l in a)a.hasOwnProperty(l)&&(this[l]=B);e(this,It[n.type||u].prototype),Vt(f,function(e){i[e]=f[e]}),this.init(s,n),s.linkSeries(),p(r,!0)&&s.redraw(!1)}}),e(D.prototype,{update:function(n,r){var i=this.chart,n=i.options[this.coll][this.options.index]=t(this.userOptions,n);this.destroy(!0),this._addedPlotLB=B,this.init(i,e(n,{events:B})),i.isDirtyBox=!0,p(r,!0)&&i.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,r=this.series,i=r.length;i--;)r[i]&&r[i].remove(!1);f(t.axes,this),f(t[n],this),t.options[n].splice(this.options.index,1),Vt(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,p(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}}),ln=m(En),It.line=ln,nn.area=t(Rt,{threshold:0});var Sn=m(En,{type:"area",getSegments:function(){var e=this,t=[],n=[],r=[],i=this.xAxis,s=this.yAxis,o=s.stacks[this.stackKey],u={},a,f,l=this.points,c=this.options.connectNulls,h,p;if(this.options.stacking&&!this.cropped){for(h=0;h<l.length;h++)u[l[h].x]=l[h];for(p in o)o[p].total!==null&&r.push(+p);r.sort(function(e,t){return e-t}),Vt(r,function(t){var r=0,l;if(!c||u[t]&&u[t].y!==null)if(u[t])n.push(u[t]);else{for(h=e.index;h<=s.series.length;h++)if(l=o[t].points[h+","+t]){r=l[1];break}a=i.translate(t),f=s.toPixels(r,!0),n.push({y:null,plotX:a,clientX:a,plotY:f,yBottom:f,onMouseOver:yt})}}),n.length&&t.push(n)}else En.prototype.getSegments.call(this),t=this.segments;this.segments=t},getSegmentPath:function(e){var t=En.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options;r=t.length;var s=this.yAxis.getThreshold(i.threshold),o;r===3&&n.push("L",t[1],t[2]);if(i.stacking&&!this.closedStacks)for(r=e.length-1;r>=0;r--)o=p(e[r].yBottom,s),r<e.length-1&&i.step&&n.push(e[r+1].plotX,o),n.push(e[r].plotX,o);else this.closeSegment(n,e,s);return this.areaPath=this.areaPath.concat(n),t},closeSegment:function(e,t,n){e.push("L",t[t.length-1].plotX,n,"L",t[0].plotX,n)},drawGraph:function(){this.areaPath=[],En.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=n.negativeColor,i=n.negativeFillColor,s=[["area",this.color,n.fillColor]];(r||i)&&s.push(["areaNeg",r,i]),Vt(s,function(r){var i=r[0],s=e[i];s?s.animate({d:t}):e[i]=e.chart.renderer.path(t).attr({fill:p(r[2],un(r[1]).setOpacity(p(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:Ut.drawRectangle});It.area=Sn,nn.spline=t(Rt),ln=m(En,{type:"spline",getPointSpline:function(e,t,n){var r=t.plotX,i=t.plotY,s=e[n-1],o=e[n+1],u,a,f,l;if(s&&o){e=s.plotY,f=o.plotX;var o=o.plotY,c;u=(1.5*r+s.plotX)/2.5,a=(1.5*i+e)/2.5,f=(1.5*r+f)/2.5,l=(1.5*i+o)/2.5,c=(l-a)*(f-r)/(f-u)+i-l,a+=c,l+=c,a>e&&a>i?(a=z(e,i),l=2*i-a):a<e&&a<i&&(a=W(e,i),l=2*i-a),l>o&&l>i?(l=z(o,i),a=2*i-l):l<o&&l<i&&(l=W(o,i),a=2*i-l),t.rightContX=f,t.rightContY=l}return n?(t=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,u||r,a||i,r,i],s.rightContX=s.rightContY=null):t=["M",r,i],t}}),It.spline=ln,nn.areaspline=t(nn.area),Sn=Sn.prototype,ln=m(ln,{type:"areaspline",closedStacks:!0,getSegmentPath:Sn.getSegmentPath,closeSegment:Sn.closeSegment,drawGraph:Sn.drawGraph,drawLegendSymbol:Ut.drawRectangle}),It.areaspline=ln,nn.column=t(Rt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0}),ln=m(En,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){En.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&Vt(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e=this,t=e.options,n=e.xAxis,r=e.yAxis,i=n.reversed,s,o={},u,a=0;t.grouping===!1?a=1:Vt(e.chart.series,function(t){var n=t.options,i=t.yAxis;t.type===e.type&&t.visible&&r.len===i.len&&r.pos===i.pos&&(n.stacking?(s=t.stackKey,o[s]===B&&(o[s]=a++),u=o[s]):n.grouping!==!1&&(u=a++),t.columnIndex=u)});var n=W(X(n.transA)*(n.ordinalSlope||t.pointRange||n.closestPointRange||n.tickInterval||1),n.len),f=n*t.groupPadding,c=(n-2*f)/a,h=t.pointWidth,t=l(h)?(c-h)/2:c*t.pointPadding,h=p(h,c-2*t);return e.columnMetrics={width:h,offset:t+(f+((i?a-(e.columnIndex||0):e.columnIndex)||0)*c-n/2)*(i?-1:1)}},translate:function(){var e=this,t=e.chart,n=e.options,r=e.borderWidth=p(n.borderWidth,e.activePointCount>.5*e.xAxis.len?0:1),i=e.yAxis,s=e.translatedThreshold=i.getThreshold(n.threshold),o=p(n.minPointLength,5),u=e.getColumnMetrics(),a=u.width,f=e.barW=z(a,1+2*r),l=e.pointXOffset=u.offset,c=-(r%2?.5:0),h=r%2?.5:1;t.renderer.isVML&&t.inverted&&(h+=1),n.pointPadding&&(f=U(f)),En.prototype.translate.apply(e),Vt(e.points,function(n){var r=p(n.yBottom,s),u=W(z(-999-r,n.plotY),i.len+999+r),d=n.plotX+l,v=f,m=W(u,r),g;g=z(u,r)-m,X(g)<o&&o&&(g=o,m=q(X(m-s)>o?r-o:s-(i.translate(n.y,0,1,0,1)<=s?o:0))),n.barX=d,n.pointWidth=a,n.tooltipPos=t.inverted?[i.len-u,e.xAxis.len-d-v/2]:[d+v/2,u+i.pos-t.plotTop],v=q(d+v)+c,d=q(d)+c,v-=d,r=X(m)<.5,g=q(m+g)+h,m=q(m)+h,g-=m,r&&(m-=1,g+=1),n.shapeType="rect",n.shapeArgs={x:d,y:m,width:v,height:g}})},getSymbol:yt,drawLegendSymbol:Ut.drawRectangle,drawGraph:yt,drawPoints:function(){var e=this,n=this.chart,r=e.options,i=n.renderer,s=r.animationLimit||250,o,u;Vt(e.points,function(a){var f=a.plotY,c=a.graphic;f!==B&&!isNaN(f)&&a.y!==null?(o=a.shapeArgs,f=l(e.borderWidth)?{"stroke-width":e.borderWidth}:{},u=a.pointAttr[a.selected?"select":""]||e.pointAttr[""],c?(tn(c),c.attr(f)[n.pointCount<s?"animate":"attr"](t(o))):a.graphic=i[a.shapeType](o).attr(u).attr(f).add(e.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius)):c&&(a.graphic=c.destroy())})},animate:function(e){var t=this.yAxis,n=this.options,r=this.chart.inverted,i={};it&&(e?(i.scaleY=.001,e=W(t.pos+t.len,z(t.pos,t.toPixels(n.threshold))),r?i.translateX=e-t.len:i.translateY=e,this.group.attr(i)):(i.scaleY=1,i[r?"translateX":"translateY"]=t.pos,this.group.animate(i,this.options.animation),this.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&Vt(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),En.prototype.remove.apply(e,arguments)}}),It.column=ln,nn.bar=t(nn.column),Sn=m(ln,{type:"bar",inverted:!0}),It.bar=Sn,nn.scatter=t(Rt,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1}),Sn=m(En,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&En.prototype.drawGraph.call(this)}}),It.scatter=Sn,nn.pie=t(Rt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Rt={type:"pie",isCartesian:!1,pointClass:m(wn,{init:function(){wn.prototype.init.apply(this,arguments);var t=this,n;return t.y<0&&(t.y=null),e(t,{visible:t.visible!==!1,name:p(t.name,"Slice")}),n=function(e){t.slice(e.type==="select")},Qt(t,"select",n),Qt(t,"unselect",n),t},setVisible:function(e){var t=this,n=t.series,r=n.chart;t.visible=t.options.visible=e=e===B?!t.visible:e,n.options.data[Xt(t,n.data)]=t.options,Vt(["graphic","dataLabel","connector","shadowGroup"],function(n){t[n]&&t[n][e?"show":"hide"](!0)}),t.legendItem&&r.legend.colorizeItem(t,e),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,r.redraw())},slice:function(e,t,n){var r=this.series;A(n,r.chart),p(t,!0),this.sliced=this.options.sliced=e=l(e)?e:!this.sliced,r.options.data[Xt(this,r.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:yt,animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||(Vt(n,function(e){var n=e.graphic,e=e.shapeArgs;n&&(n.attr({r:t.center[3]/2,start:r,end:r}),n.animate({r:e.r,start:e.start,end:e.end},t.options.animation))}),t.animate=null)},setData:function(e,t,n,r){En.prototype.setData.call(this,e,!1,n,r),this.processData(),this.generatePoints(),p(t,!0)&&this.chart.redraw(n)},generatePoints:function(){var e,t=0,n,r,i,s=this.options.ignoreHiddenPoint;En.prototype.generatePoints.call(this),n=this.points,r=n.length;for(e=0;e<r;e++)i=n[e],t+=s&&!i.visible?0:i.y;this.total=t;for(e=0;e<r;e++)i=n[e],i.percentage=t>0?i.y/t*100:0,i.total=t},translate:function(e){this.generatePoints();var t=0,n=this.options,r=n.slicedOffset,i=r+n.borderWidth,s,o,u,a=n.startAngle||0,f=this.startAngleRad=J/180*(a-90),a=(this.endAngleRad=J/180*(p(n.endAngle,a+360)-90))-f,l=this.points,c=n.dataLabels.distance,n=n.ignoreHiddenPoint,h,d=l.length,v;e||(this.center=e=this.getCenter()),this.getX=function(t,n){return u=I.asin(W((t-e[1])/(e[2]/2+c),1)),e[0]+(n?-1:1)*V(u)*(e[2]/2+c)};for(h=0;h<d;h++){v=l[h],s=f+t*a;if(!n||v.visible)t+=v.percentage/100;o=f+t*a,v.shapeType="arc",v.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:q(s*1e3)/1e3,end:q(o*1e3)/1e3},u=(o+s)/2,u>1.5*J?u-=2*J:u<-J/2&&(u+=2*J),v.slicedTranslation={translateX:q(V(u)*r),translateY:q($(u)*r)},s=V(u)*e[2]/2,o=$(u)*e[2]/2,v.tooltipPos=[e[0]+s*.7,e[1]+o*.7],v.half=u<-J/2||u>J/2?1:0,v.angle=u,i=W(i,c/2),v.labelPos=[e[0]+s+V(u)*c,e[1]+o+$(u)*c,e[0]+s+V(u)*i,e[1]+o+$(u)*i,e[0]+s,e[1]+o,c<0?"center":v.half?"right":"left",u]}},drawGraph:null,drawPoints:function(){var t=this,n=t.chart.renderer,r,i,s=t.options.shadow,o,u;s&&!t.shadowGroup&&(t.shadowGroup=n.g("shadow").add(t.group)),Vt(t.points,function(a){i=a.graphic,u=a.shapeArgs,o=a.shadowGroup,s&&!o&&(o=a.shadowGroup=n.g("shadow").add(t.shadowGroup)),r=a.sliced?a.slicedTranslation:{translateX:0,translateY:0},o&&o.attr(r),i?i.animate(e(u,r)):a.graphic=i=n[a.shapeType](u).setRadialReference(t.center).attr(a.pointAttr[a.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(r).add(t.group).shadow(s,o),a.visible!==void 0&&a.setVisible(a.visible)})},sortByAngle:function(e,t){e.sort(function(e,n){return e.angle!==void 0&&(n.angle-e.angle)*t})},drawLegendSymbol:Ut.drawRectangle,getCenter:fn.getCenter,getSymbol:yt},Rt=m(En,Rt),It.pie=Rt,En.prototype.drawDataLabels=function(){var n=this,r=n.options,i=r.cursor,s=r.dataLabels,o=n.points,u,a,f=n.hasRendered||0,c,h;if(s.enabled||n._hasPointLabels)n.dlProcessOptions&&n.dlProcessOptions(s),h=n.plotGroup("dataLabelsGroup","data-labels",s.defer?"hidden":"visible",s.zIndex||6),p(s.defer,!0)&&(h.attr({opacity:+f}),f||Qt(n,"afterAnimate",function(){n.visible&&h.show(),h[r.animation?"animate":"attr"]({opacity:1},{duration:200})})),a=s,Vt(o,function(r){var o,f=r.dataLabel,d,v,m=r.connector,g=!0;u=r.options&&r.options.dataLabels,o=p(u&&u.enabled,a.enabled);if(f&&!o)r.dataLabel=f.destroy();else if(o){s=t(a,u),o=s.rotation,d=r.getLabelConfig(),c=s.format?w(s.format,d):s.formatter.call(d,s),s.style.color=p(s.color,s.style.color,n.color,"black");if(f){if(l(c))f.attr({text:c}),g=!1;else if(r.dataLabel=f=f.destroy(),m)r.connector=m.destroy()}else if(l(c)){f={fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":s.borderWidth,r:s.borderRadius||0,rotation:o,padding:s.padding,zIndex:1};for(v in f)f[v]===B&&delete f[v];f=r.dataLabel=n.chart.renderer[o?"text":"label"](c,0,-999,null,null,null,s.useHTML).attr(f).css(e(s.style,i&&{cursor:i})).add(h).shadow(s.shadow)}f&&n.alignDataLabel(r,f,s,null,g)}})},En.prototype.alignDataLabel=function(t,n,r,i,s){var o=this.chart,u=o.inverted,a=p(t.plotX,-999),f=p(t.plotY,-999),l=n.getBBox();if(t=this.visible&&(t.series.forceDL||o.isInsidePlot(a,q(f),u)||i&&o.isInsidePlot(a,u?i.x+1:i.y+i.height-1,u)))i=e({x:u?o.plotWidth-f:a,y:q(u?o.plotHeight-a:f),width:0,height:0},i),e(r,{width:l.width,height:l.height}),r.rotation?n[s?"attr":"animate"]({x:i.x+r.x+i.width/2,y:i.y+r.y+i.height/2}).attr({align:r.align}):(n.align(r,null,i),u=n.alignAttr,p(r.overflow,"justify")==="justify"?this.justifyDataLabel(n,r,u,l,i,s):p(r.crop,!0)&&(t=o.isInsidePlot(u.x,u.y)&&o.isInsidePlot(u.x+l.width,u.y+l.height)));t||(n.attr({y:-999}),n.placed=!1)},En.prototype.justifyDataLabel=function(e,t,n,r,i,s){var o=this.chart,u=t.align,a=t.verticalAlign,f,l;f=n.x,f<0&&(u==="right"?t.align="left":t.x=-f,l=!0),f=n.x+r.width,f>o.plotWidth&&(u==="left"?t.align="right":t.x=o.plotWidth-f,l=!0),f=n.y,f<0&&(a==="bottom"?t.verticalAlign="top":t.y=-f,l=!0),f=n.y+r.height,f>o.plotHeight&&(a==="top"?t.verticalAlign="bottom":t.y=o.plotHeight-f,l=!0),l&&(e.placed=!s,e.align(t,null,i))},It.pie&&(It.pie.prototype.drawDataLabels=function(){var e=this,t=e.data,n,r=e.chart,i=e.options.dataLabels,s=p(i.connectorPadding,10),o=p(i.connectorWidth,1),u=r.plotWidth,a=r.plotHeight,f,l,c=p(i.softConnector,!0),h=i.distance,d=e.center,v=d[2]/2,m=d[1],g=h>0,y,b,w,E=[[],[]],S,x,T,C,k,L=[0,0,0,0],A=function(e,t){return t.y-e.y};if(e.visible&&(i.enabled||e._hasPointLabels)){En.prototype.drawDataLabels.apply(e),Vt(t,function(e){e.dataLabel&&e.visible&&E[e.half].push(e)});for(C=2;C--;){var O=[],M=[],_=E[C],D=_.length,P;if(D){e.sortByAngle(_,C-.5);for(k=t=0;!t&&_[k];)t=_[k]&&_[k].dataLabel&&(_[k].dataLabel.getBBox().height||21),k++;if(h>0){b=W(m+v+h,r.plotHeight);for(k=z(0,m-v-h);k<=b;k+=t)O.push(k);b=O.length;if(D>b){n=[].concat(_),n.sort(A);for(k=D;k--;)n[k].rank=k;for(k=D;k--;)_[k].rank>=b&&_.splice(k,1);D=_.length}for(k=0;k<D;k++){n=_[k],w=n.labelPos,n=9999;var H,B;for(B=0;B<b;B++)H=X(O[B]-w[1]),H<n&&(n=H,P=B);if(P<k&&O[k]!==null)P=k;else for(b<D-k+P&&O[k]!==null&&(P=b-D+k);O[P]===null;)P++;M.push({i:P,y:O[P]}),O[P]=null}M.sort(A)}for(k=0;k<D;k++){n=_[k],w=n.labelPos,y=n.dataLabel,T=n.visible===!1?"hidden":"visible",n=w[1];if(h>0){if(b=M.pop(),P=b.i,x=b.y,n>x&&O[P+1]!==null||n<x&&O[P-1]!==null)x=W(z(0,n),r.plotHeight)}else x=n;S=i.justify?d[0]+(C?-1:1)*(v+h):e.getX(x===m-v-h||x===m+v+h?n:x,C),y._attr={visibility:T,align:w[6]},y._pos={x:S+i.x+({left:s,right:-s}[w[6]]||0),y:x+i.y-10},y.connX=S,y.connY=x,this.options.size===null&&(b=y.width,S-b<s?L[3]=z(q(b-S+s),L[3]):S+b>u-s&&(L[1]=z(q(S+b-u+s),L[1])),x-t/2<0?L[0]=z(q(-x+t/2),L[0]):x+t/2>a&&(L[2]=z(q(x+t/2-a),L[2])))}}}if(N(L)===0||this.verifyDataLabelOverflow(L))this.placeDataLabels(),g&&o&&Vt(this.points,function(t){f=t.connector,w=t.labelPos,(y=t.dataLabel)&&y._pos?(T=y._attr.visibility,S=y.connX,x=y.connY,l=c?["M",S+(w[6]==="left"?5:-5),x,"C",S,x,2*w[2]-w[4],2*w[3]-w[5],w[2],w[3],"L",w[4],w[5]]:["M",S+(w[6]==="left"?5:-5),x,"L",w[2],w[3],"L",w[4],w[5]],f?(f.animate({d:l}),f.attr("visibility",T)):t.connector=f=e.chart.renderer.path(l).attr({"stroke-width":o,stroke:i.connectorColor||t.color||"#606060",visibility:T}).add(e.dataLabelsGroup)):f&&(t.connector=f.destroy())})}},It.pie.prototype.placeDataLabels=function(){Vt(this.points,function(e){var e=e.dataLabel,t;e&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-999}))})},It.pie.prototype.alignDataLabel=yt,It.pie.prototype.verifyDataLabelOverflow=function(e){var t=this.center,n=this.options,r=n.center,i=n=n.minSize||80,s;return r[0]!==null?i=z(t[2]-z(e[1],e[3]),n):(i=z(t[2]-e[1]-e[3],n),t[0]+=(e[3]-e[1])/2),r[1]!==null?i=z(W(i,t[2]-z(e[0],e[2])),n):(i=z(W(i,t[2]-e[0]-e[2]),n),t[1]+=(e[0]-e[2])/2),i<t[2]?(t[2]=i,this.translate(t),Vt(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):s=!0,s}),It.column&&(It.column.prototype.alignDataLabel=function(e,n,r,i,s){var o=this.chart,u=o.inverted,a=e.dlBox||e.shapeArgs,f=e.below||e.plotY>p(this.translatedThreshold,o.plotSizeY),l=p(r.inside,!!this.options.stacking);a&&(i=t(a),u&&(i={x:o.plotWidth-i.y-i.height,y:o.plotHeight-i.x-i.width,width:i.height,height:i.width}),!l)&&(u?(i.x+=f?0:i.width,i.width=0):(i.y+=f?i.height:0,i.height=0)),r.align=p(r.align,!u||l?"center":f?"right":"left"),r.verticalAlign=p(r.verticalAlign,u||l?"middle":f?"top":"bottom"),En.prototype.alignDataLabel.call(this,e,n,r,i,s)}),Rt=qt.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,n=t.pointer,r=e.options.cursor,i=r&&{cursor:r},s=function(n){var r=n.target,i;t.hoverSeries!==e&&e.onMouseOver();for(;r&&!i;)i=r.point,r=r.parentNode;i!==B&&i!==t.hoverPoint&&i.onMouseOver(n)};Vt(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||(Vt(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",s).on("mouseout",function(e){n.onTrackerMouseOut(e)}).css(i),at)&&e[t].on("touchstart",s)}),e._hasTracking=!0)},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.pointer,u=s.renderer,a=s.options.tooltip.snap,f=e.tracker,l=t.cursor,c=l&&{cursor:l},l=e.singlePoints,h,p=function(){s.hoverSeries!==e&&e.onMouseOver()},d="rgba(192,192,192,"+(it?1e-4:.002)+")";if(i&&!n)for(h=i+1;h--;)r[h]==="M"&&r.splice(h+1,0,r[h+1]-a,r[h+2],"L"),(h&&r[h]==="M"||h===i)&&r.splice(h,0,"L",r[h-2]+a,r[h-1]);for(h=0;h<l.length;h++)i=l[h],r.push("M",i.plotX-a,i.plotY,"L",i.plotX+a,i.plotY);f?f.attr({d:r}):(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:d,fill:n?d:St,"stroke-width":t.lineWidth+(n?0:2*a),zIndex:2}).add(e.group),Vt([e.tracker,e.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(c),at&&e.on("touchstart",p)}))}},It.column&&(ln.prototype.drawTracker=Rt.drawTrackerPoint),It.pie&&(It.pie.prototype.drawTracker=Rt.drawTrackerPoint),It.scatter&&(Sn.prototype.drawTracker=Rt.drawTrackerPoint),e(bn.prototype,{setItemEvents:function(e,t,n,r,i){var s=this;(n?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),t.css(s.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?r:i),e.setState()}).on("click",function(t){var n=function(){e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):Yt(e,"legendItemClick",t,n)})},createCheckboxForItem:function(e){e.checkbox=v("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),Qt(e.checkbox,"click",function(t){Yt(e,"checkboxClick",{checked:t.target.checked},function(){e.select()})})}}),ht.legend.itemStyle.cursor="pointer",e(P.prototype,{showResetZoom:function(){var e=this,t=ht.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,s)},zoomOut:function(){var e=this;Yt(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,n=this.pointer,r=!1,s;!e||e.resetSelection?Vt(this.axes,function(e){t=e.zoom()}):Vt(e.xAxis.concat(e.yAxis),function(e){var i=e.axis,s=i.isXAxis;if(n[s?"zoomX":"zoomY"]||n[s?"pinchX":"pinchY"])t=i.zoom(e.min,e.max),i.displayBtn&&(r=!0)}),s=this.resetZoomButton,r&&!s?this.showResetZoom():!r&&i(s)&&(this.resetZoomButton=s.destroy()),t&&this.redraw(p(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e,t){var n=this,r=n.hoverPoints,i;r&&Vt(r,function(e){e.setState()}),Vt(t==="xy"?[1,0]:[1],function(t){var r=e[t?"chartX":"chartY"],s=n[t?"xAxis":"yAxis"][0],o=n[t?"mouseDownX":"mouseDownY"],u=(s.pointRange||0)/2,a=s.getExtremes(),f=s.toValue(o-r,!0)+u,o=s.toValue(o+n[t?"plotWidth":"plotHeight"]-r,!0)-u;s.series.length&&f>W(a.dataMin,a.min)&&o<z(a.dataMax,a.max)&&(s.setExtremes(f,o,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=r}),i&&n.redraw(!1),d(n.container,{cursor:"move"})}}),e(wn.prototype,{select:function(e,t){var n=this,r=n.series,i=r.chart,e=p(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,r.options.data[Xt(n,r.data)]=n.options,n.setState(e&&"select"),t||Vt(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,r.options.data[Xt(e,r.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this.series,n=t.chart,r=n.tooltip,i=n.hoverPoint;i&&i!==this&&i.onMouseOut(),this.firePointEvent("mouseOver"),r&&(!r.shared||t.noSharedTooltip)&&r.refresh(this,e),this.setState("hover"),n.hoverPoint=this},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut");if(!t||Xt(this,t)===-1)this.setState(),e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=t(this.series.options.point,this.options).events,n;this.events=e;for(n in e)Qt(this,n,e[n]);this.hasImportedEvents=!0}},setState:function(n,r){var i=this.plotX,s=this.plotY,o=this.series,u=o.options.states,a=nn[o.type].marker&&o.options.marker,f=a&&!a.enabled,l=a&&a.states[n],c=l&&l.enabled===!1,h=o.stateMarkerGraphic,p=this.marker||{},d=o.chart,v=o.halo,m,n=n||"";m=this.pointAttr[n]||o.pointAttr[n],n===this.state&&!r||this.selected&&n!=="select"||u[n]&&u[n].enabled===!1||n&&(c||f&&l.enabled===!1)||n&&p.states&&p.states[n]&&p.states[n].enabled===!1||(this.graphic?(a=a&&this.graphic.symbolName&&m.r,this.graphic.attr(t(m,a?{x:i-a,y:s-a,width:2*a,height:2*a}:{})),h&&h.hide()):(n&&l&&((a=l.radius,p=p.symbol||o.symbol,h&&h.currentSymbol!==p&&(h=h.destroy()),h)?h[r?"animate":"attr"]({x:i-a,y:s-a}):p&&(o.stateMarkerGraphic=h=d.renderer.symbol(p,i-a,s-a,2*a,2*a).attr(m).add(o.markerGroup),h.currentSymbol=p)),h&&h[n&&d.isInsidePlot(i,s,d.inverted)?"show":"hide"]()),(i=u[n]&&u[n].halo)&&i.size?(v||(o.halo=v=d.renderer.path().add(o.seriesGroup)),v.attr(e({fill:un(this.color||o.color).setOpacity(i.opacity).get()},i.attributes))[r?"animate":"attr"]({d:this.haloPath(i.size)})):v&&v.attr({d:[]}),this.state=n)},haloPath:function(e){var t=this.series,n=t.chart,r=t.getPlotBox(),i=n.inverted;return n.renderer.symbols.circle(r.translateX+(i?t.yAxis.len-this.plotY:this.plotX)-e,r.translateY+(i?t.xAxis.len-this.plotX:this.plotY)-e,e*2,e*2)}}),e(En.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&Yt(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,r=t.hoverPoint;r&&r.onMouseOut(),this&&e.events.mouseOut&&Yt(this,"mouseOut"),n&&!e.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide(),this.setState(),t.hoverSeries=null},setState:function(e){var t=this.options,n=this.graph,r=this.graphNeg,i=t.states,t=t.lineWidth,e=e||"";this.state!==e&&(this.state=e,i[e]&&i[e].enabled===!1||(e&&(t=i[e].lineWidth||t+(i[e].lineWidthPlus||0)),n&&!n.dashstyle&&(e={"stroke-width":t},n.attr(e),r&&r.attr(e))))},setVisible:function(e,t){var n=this,r=n.chart,i=n.legendItem,s,o=r.options.chart.ignoreHiddenSeries,u=n.visible;s=(n.visible=e=n.userOptions.visible=e===B?!u:e)?"show":"hide",Vt(["group","dataLabelsGroup","markerGroup","tracker"],function(e){n[e]&&n[e][s]()}),r.hoverSeries===n&&n.onMouseOut(),i&&r.legend.colorizeItem(n,e),n.isDirty=!0,n.options.stacking&&Vt(r.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),Vt(n.linkedSeries,function(t){t.setVisible(e,!1)}),o&&(r.isDirtyBox=!0),t!==!1&&r.redraw(),Yt(n,s)},setTooltipPoints:function(e){var t=[],n,r,i=this.xAxis,s=i&&i.getExtremes(),o=i?i.tooltipLen||i.len:this.chart.plotSizeX,u,a,f=[];if(this.options.enableMouseTracking!==!1&&!this.singularTooltips){e&&(this.tooltipPoints=null),Vt(this.segments||this.points,function(e){t=t.concat(e)}),i&&i.reversed&&(t=t.reverse()),this.orderTooltipPoints&&this.orderTooltipPoints(t),e=t.length;for(a=0;a<e;a++)if(i=t[a],n=i.x,n>=s.min&&n<=s.max){u=t[a+1],n=r===B?0:r+1;for(r=t[a+1]?W(z(0,R((i.clientX+(u?u.wrappedClientX||u.clientX:o))/2)),o):o;n>=0&&n<=r;)f[n++]=i}this.tooltipPoints=f}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===B?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),Yt(this,e?"select":"unselect")},drawTracker:Rt.drawTrackerGraph}),e(qt,{Axis:D,Chart:P,Color:un,Point:wn,Tick:_,Renderer:ut,Series:En,SVGElement:M,SVGRenderer:an,arrayMin:T,arrayMax:N,charts:bt,dateFormat:pt,format:w,pathAnim:vt,getOptions:function(){return ht},hasBidiBug:st,isTouchDevice:nt,numberFormat:g,seriesTypes:It,setOptions:function(e){return ht=t(!0,ht,e),O(),ht},addEvent:Qt,removeEvent:Gt,createElement:v,discardElement:k,css:d,each:Vt,extend:e,map:Kt,merge:t,pick:p,splat:h,extendClass:m,pInt:n,wrap:b,svg:it,canvas:ot,vml:!it&&!ot,product:"Highcharts",version:"4.0.4"})}(),define("libs/external/highcharts",function(){}),function(e,t,n){(function(e){typeof define=="function"&&define.amd?define("datatables",["jquery"],e):typeof exports=="object"?e(require("jquery")):jQuery&&!jQuery.fn.dataTable&&e(jQuery)})(function(r){function k(e){var t="a aa ai ao as b fn i m o s ",n,i,s={};r.each(e,function(r,o){n=r.match(/^([^A-Z]+?)([A-Z])/),n&&t.indexOf(n[1]+" ")!==-1&&(i=r.replace(n[0],n[2].toLowerCase()),s[i]=r,n[1]==="o"&&k(e[r]))}),e._hungarianMap=s}function L(e,t,i){e._hungarianMap||k(e);var s;r.each(t,function(o,u){s=e._hungarianMap[o],s!==n&&(i||t[s]===n)&&(s.charAt(0)==="o"?(t[s]||(t[s]={}),r.extend(!0,t[s],t[o]),L(e[s],t[s],i)):t[s]=t[o])})}function A(e){var t=i.defaults.oLanguage,n=e.sZeroRecords;!e.sEmptyTable&&n&&t.sEmptyTable==="No data available in table"&&pn(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&t.sLoadingRecords==="Loading..."&&pn(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var r=e.sDecimal;r&&Xn(r)}function M(e){O(e,"ordering","bSort"),O(e,"orderMulti","bSortMulti"),O(e,"orderClasses","bSortClasses"),O(e,"orderCellsTop","bSortCellsTop"),O(e,"order","aaSorting"),O(e,"orderFixed","aaSortingFixed"),O(e,"paging","bPaginate"),O(e,"pagingType","sPaginationType"),O(e,"pageLength","iDisplayLength"),O(e,"searching","bFilter");var t=e.aoSearchCols;if(t)for(var n=0,r=t.length;n<r;n++)t[n]&&L(i.models.oSearch,t[n])}function _(e){O(e,"orderable","bSortable"),O(e,"orderData","aDataSort"),O(e,"orderSequence","asSorting"),O(e,"orderDataType","sortDataType")}function D(e){var t=e.oBrowser,n=r("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(r("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(r('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),i=n.find(".test");t.bScrollOversize=i[0].offsetWidth===100,t.bScrollbarLeft=i.offset().left!==1,n.remove()}function P(e,t,r,i,s,o){var u=i,a,f=!1;r!==n&&(a=r,f=!0);while(u!==s){if(!e.hasOwnProperty(u))continue;a=f?t(a,e[u],u,e):e[u],f=!0,u+=o}return a}function H(e,n){var s=i.defaults.column,o=e.aoColumns.length,u=r.extend({},i.models.oColumn,s,{nTh:n?n:t.createElement("th"),sTitle:s.sTitle?s.sTitle:n?n.innerHTML:"",aDataSort:s.aDataSort?s.aDataSort:[o],mData:s.mData?s.mData:o,idx:o});e.aoColumns.push(u);var a=e.aoPreSearchCols;a[o]=r.extend({},i.models.oSearch,a[o]),B(e,o,null)}function B(e,t,s){var o=e.aoColumns[t],u=e.oClasses,a=r(o.nTh);if(!o.sWidthOrig){o.sWidthOrig=a.attr("width")||null;var f=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);f&&(o.sWidthOrig=f[1])}s!==n&&s!==null&&(_(s),L(i.defaults.column,s),s.mDataProp!==n&&!s.mData&&(s.mData=s.mDataProp),s.sType&&(o._sManualType=s.sType),s.className&&!s.sClass&&(s.sClass=s.className),r.extend(o,s),pn(o,s,"sWidth","sWidthOrig"),typeof s.iDataSort=="number"&&(o.aDataSort=[s.iDataSort]),pn(o,s,"aDataSort"));var l=o.mData,c=Z(l),h=o.mRender?Z(o.mRender):null,p=function(e){return typeof e=="string"&&e.indexOf("@")!==-1};o._bAttrSrc=r.isPlainObject(l)&&(p(l.sort)||p(l.type)||p(l.filter)),o.fnGetData=function(e,t,r){var i=c(e,t,n,r);return h&&t?h(i,t,e,r):i},o.fnSetData=function(e,t,n){return et(l)(e,t,n)},e.oFeatures.bSort||(o.bSortable=!1,a.addClass(u.sSortableNone));var d=r.inArray("asc",o.asSorting)!==-1,v=r.inArray("desc",o.asSorting)!==-1;!o.bSortable||!d&&!v?(o.sSortingClass=u.sSortableNone,o.sSortingClassJUI=""):d&&!v?(o.sSortingClass=u.sSortableAsc,o.sSortingClassJUI=u.sSortJUIAscAllowed):!d&&v?(o.sSortingClass=u.sSortableDesc,o.sSortingClassJUI=u.sSortJUIDescAllowed):(o.sSortingClass=u.sSortable,o.sSortingClassJUI=u.sSortJUI)}function j(e){if(e.oFeatures.bAutoWidth!==!1){var t=e.aoColumns;$t(e);for(var n=0,r=t.length;n<r;n++)t[n].nTh.style.width=t[n].sWidth}var i=e.oScroll;(i.sY!==""||i.sX!=="")&&Wt(e),gn(e,null,"column-sizing",[e])}function F(e,t){var n=R(e,"bVisible");return typeof n[t]=="number"?n[t]:null}function I(e,t){var n=R(e,"bVisible"),i=r.inArray(t,n);return i!==-1?i:null}function q(e){return R(e,"bVisible").length}function R(e,t){var n=[];return r.map(e.aoColumns,function(e,r){e[t]&&n.push(r)}),n}function U(e){var t=e.aoColumns,r=e.aoData,s=i.ext.type.detect,o,u,a,f,l,c,h,p,d,v;for(o=0,u=t.length;o<u;o++){h=t[o],v=[];if(!h.sType&&h._sManualType)h.sType=h._sManualType;else if(!h.sType){for(a=0,f=s.length;a<f;a++){for(l=0,c=r.length;l<c;l++){v[l]===n&&(v[l]=J(e,l,o,"type")),d=s[a](v[l],e);if(!d||d==="html")break}if(d){h.sType=d;break}}h.sType||(h.sType="string")}}}function z(e,t,i,s){var o,u,a,f,l,c,h,p=e.aoColumns;if(t)for(o=t.length-1;o>=0;o--){h=t[o];var d=h.targets!==n?h.targets:h.aTargets;r.isArray(d)||(d=[d]);for(a=0,f=d.length;a<f;a++)if(typeof d[a]=="number"&&d[a]>=0){while(p.length<=d[a])H(e);s(d[a],h)}else if(typeof d[a]=="number"&&d[a]<0)s(p.length+d[a],h);else if(typeof d[a]=="string")for(l=0,c=p.length;l<c;l++)(d[a]=="_all"||r(p[l].nTh).hasClass(d[a]))&&s(l,h)}if(i)for(o=0,u=i.length;o<u;o++)s(o,i[o])}function W(e,t,n,s){var o=e.aoData.length,u=r.extend(!0,{},i.models.oRow,{src:n?"dom":"data"});u._aData=t,e.aoData.push(u);var a,f,l=e.aoColumns;for(var c=0,h=l.length;c<h;c++)n&&K(e,o,c,J(e,o,c)),l[c].sType=null;return e.aiDisplayMaster.push(o),(n||!e.oFeatures.bDeferRender)&&ot(e,o,n,s),o}function X(e,t){var n;return t instanceof r||(t=r(t)),t.map(function(t,r){return n=st(e,r),W(e,n.data,r,n.cells)})}function V(e,t){return t._DT_RowIndex!==n?t._DT_RowIndex:null}function $(e,t,n){return r.inArray(n,e.aoData[t].anCells)}function J(e,t,r,i){var s=e.iDraw,o=e.aoColumns[r],u=e.aoData[t]._aData,a=o.sDefaultContent,f=o.fnGetData(u,i,{settings:e,row:t,col:r});if(f===n)return e.iDrawError!=s&&a===null&&(hn(e,0,"Requested unknown parameter "+(typeof o.mData=="function"?"{function}":"'"+o.mData+"'")+" for row "+t,4),e.iDrawError=s),a;if(f!==u&&f!==null||a===null){if(typeof f=="function")return f.call(u)}else f=a;return f===null&&i=="display"?"":f}function K(e,t,n,r){var i=e.aoColumns[n],s=e.aoData[t]._aData;i.fnSetData(s,r,{settings:e,row:t,col:n})}function Y(e){return r.map(e.match(/(\\.|[^\.])+/g),function(e){return e.replace(/\\./g,".")})}function Z(e){if(r.isPlainObject(e)){var t={};return r.each(e,function(e,n){n&&(t[e]=Z(n))}),function(e,r,i,s){var o=t[r]||t._;return o!==n?o(e,r,i,s):e}}if(e===null)return function(e){return e};if(typeof e=="function")return function(t,n,r,i){return e(t,n,r,i)};if(typeof e!="string"||e.indexOf(".")===-1&&e.indexOf("[")===-1&&e.indexOf("(")===-1)return function(t,n){return t[e]};var i=function(e,t,r){var s,o,u,a;if(r!==""){var f=Y(r);for(var l=0,c=f.length;l<c;l++){s=f[l].match(Q),o=f[l].match(G);if(s){f[l]=f[l].replace(Q,""),f[l]!==""&&(e=e[f[l]]),u=[],f.splice(0,l+1),a=f.join(".");for(var h=0,p=e.length;h<p;h++)u.push(i(e[h],t,a));var d=s[0].substring(1,s[0].length-1);e=d===""?u:u.join(d);break}if(o){f[l]=f[l].replace(G,""),e=e[f[l]]();continue}if(e===null||e[f[l]]===n)return n;e=e[f[l]]}}return e};return function(t,n){return i(t,n,e)}}function et(e){if(r.isPlainObject(e))return et(e._);if(e===null)return function(){};if(typeof e=="function")return function(t,n,r){e(t,"set",n,r)};if(typeof e!="string"||e.indexOf(".")===-1&&e.indexOf("[")===-1&&e.indexOf("(")===-1)return function(t,n){t[e]=n};var t=function(e,r,i){var s=Y(i),o,u=s[s.length-1],a,f,l,c;for(var h=0,p=s.length-1;h<p;h++){a=s[h].match(Q),f=s[h].match(G);if(a){s[h]=s[h].replace(Q,""),e[s[h]]=[],o=s.slice(),o.splice(0,h+1),c=o.join(".");for(var d=0,v=r.length;d<v;d++)l={},t(l,r[d],c),e[s[h]].push(l);return}f&&(s[h]=s[h].replace(G,""),e=e[s[h]](r));if(e[s[h]]===null||e[s[h]]===n)e[s[h]]={};e=e[s[h]]}u.match(G)?e=e[u.replace(G,"")](r):e[u.replace(Q,"")]=r};return function(n,r){return t(n,r,e)}}function tt(e){return S(e.aoData,"_aData")}function nt(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0}function rt(e,t,r){var i=-1;for(var s=0,o=e.length;s<o;s++)e[s]==t?i=s:e[s]>t&&e[s]--;i!=-1&&r===n&&e.splice(i,1)}function it(e,t,r,i){var s=e.aoData[t],o,u;if(r==="dom"||(!r||r==="auto")&&s.src==="dom")s._aData=st(e,s).data;else{var a=s.anCells,f;if(a)for(o=0,u=a.length;o<u;o++){f=a[o];while(f.childNodes.length)f.removeChild(f.firstChild);a[o].innerHTML=J(e,t,o,"display")}}s._aSortData=null,s._aFilterData=null;var l=e.aoColumns;if(i!==n)l[i].sType=null;else for(o=0,u=l.length;o<u;o++)l[o].sType=null;ut(s)}function st(e,t){var n=[],i=[],s=t.firstChild,o,u,a,f=0,l,c=e.aoColumns,h=function(e,t,n){if(typeof e=="string"){var r=e.indexOf("@");if(r!==-1){var i=e.substring(r+1);a["@"+i]=n.getAttribute(i)}}},p=function(e){u=c[f],l=r.trim(e.innerHTML),u&&u._bAttrSrc?(a={display:l},h(u.mData.sort,a,e),h(u.mData.type,a,e),h(u.mData.filter,a,e),n.push(a)):n.push(l),f++};if(s)while(s){o=s.nodeName.toUpperCase();if(o=="TD"||o=="TH")p(s),i.push(s);s=s.nextSibling}else{i=t.anCells;for(var d=0,v=i.length;d<v;d++)p(i[d])}return{data:n,cells:i}}function ot(e,n,r,i){var s=e.aoData[n],o=s._aData,u=[],a,f,l,c,h;if(s.nTr===null){a=r||t.createElement("tr"),s.nTr=a,s.anCells=u,a._DT_RowIndex=n,ut(s);for(c=0,h=e.aoColumns.length;c<h;c++){l=e.aoColumns[c],f=r?i[c]:t.createElement(l.sCellType),u.push(f);if(!r||l.mRender||l.mData!==c)f.innerHTML=J(e,n,c,"display");l.sClass&&(f.className+=" "+l.sClass),l.bVisible&&!r?a.appendChild(f):!l.bVisible&&r&&f.parentNode.removeChild(f),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,f,J(e,n,c),o,n,c)}gn(e,"aoRowCreatedCallback",null,[a,o,n])}s.nTr.setAttribute("role","row")}function ut(e){var t=e.nTr,n=e._aData;if(t){n.DT_RowId&&(t.id=n.DT_RowId);if(n.DT_RowClass){var i=n.DT_RowClass.split(" ");e.__rowc=e.__rowc?C(e.__rowc.concat(i)):i,r(t).removeClass(e.__rowc.join(" ")).addClass(n.DT_RowClass)}n.DT_RowData&&r(t).data(n.DT_RowData)}}function at(e){var t,n,i,s,o,u=e.nTHead,a=e.nTFoot,f=r("th, td",u).length===0,l=e.oClasses,c=e.aoColumns;f&&(s=r("<tr/>").appendTo(u));for(t=0,n=c.length;t<n;t++)o=c[t],i=r(o.nTh).addClass(o.sClass),f&&i.appendTo(s),e.oFeatures.bSort&&(i.addClass(o.sSortingClass),o.bSortable!==!1&&(i.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),on(e,o.nTh,t))),o.sTitle!=i.html()&&i.html(o.sTitle),bn(e,"header")(e,i,o,l);f&&pt(e.aoHeader,u),r(u).find(">tr").attr("role","row"),r(u).find(">tr>th, >tr>td").addClass(l.sHeaderTH),r(a).find(">tr>th, >tr>td").addClass(l.sFooterTH);if(a!==null){var h=e.aoFooter[0];for(t=0,n=h.length;t<n;t++)o=c[t],o.nTf=h[t].cell,o.sClass&&r(o.nTf).addClass(o.sClass)}}function ft(e,t,i){var s,o,u,a,f,l,c,h,p=[],d=[],v=e.aoColumns.length,m,g;if(!t)return;i===n&&(i=!1);for(s=0,o=t.length;s<o;s++){p[s]=t[s].slice(),p[s].nTr=t[s].nTr;for(u=v-1;u>=0;u--)!e.aoColumns[u].bVisible&&!i&&p[s].splice(u,1);d.push([])}for(s=0,o=p.length;s<o;s++){h=p[s].nTr;if(h)while(c=h.firstChild)h.removeChild(c);for(u=0,a=p[s].length;u<a;u++){m=1,g=1;if(d[s][u]===n){h.appendChild(p[s][u].cell),d[s][u]=1;while(p[s+m]!==n&&p[s][u].cell==p[s+m][u].cell)d[s+m][u]=1,m++;while(p[s][u+g]!==n&&p[s][u].cell==p[s][u+g].cell){for(f=0;f<m;f++)d[s+f][u+g]=1;g++}r(p[s][u].cell).attr("rowspan",m).attr("colspan",g)}}}}function lt(e){var t=gn(e,"aoPreDrawCallback","preDraw",[e]);if(r.inArray(!1,t)!==-1){Ut(e,!1);return}var i,s,o,u=[],a=0,f=e.asStripeClasses,l=f.length,c=e.aoOpenRows.length,h=e.oLanguage,p=e.iInitDisplayStart,d=wn(e)=="ssp",v=e.aiDisplay;e.bDrawing=!0,p!==n&&p!==-1&&(e._iDisplayStart=d?p:p>=e.fnRecordsDisplay()?0:p,e.iInitDisplayStart=-1);var m=e._iDisplayStart,g=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,Ut(e,!1);else if(!d)e.iDraw++;else if(!e.bDestroying&&!mt(e))return;if(v.length!==0){var y=d?0:m,b=d?e.aoData.length:g;for(var w=y;w<b;w++){var E=v[w],S=e.aoData[E];S.nTr===null&&ot(e,E);var x=S.nTr;if(l!==0){var T=f[a%l];S._sRowStripe!=T&&(r(x).removeClass(S._sRowStripe).addClass(T),S._sRowStripe=T)}gn(e,"aoRowCallback",null,[x,S._aData,a,w]),u.push(x),a++}}else{var N=h.sZeroRecords;e.iDraw==1&&wn(e)=="ajax"?N=h.sLoadingRecords:h.sEmptyTable&&e.fnRecordsTotal()===0&&(N=h.sEmptyTable),u[0]=r("<tr/>",{"class":l?f[0]:""}).append(r("<td />",{valign:"top",colSpan:q(e),"class":e.oClasses.sRowEmpty}).html(N))[0]}gn(e,"aoHeaderCallback","header",[r(e.nTHead).children("tr")[0],tt(e),m,g,v]),gn(e,"aoFooterCallback","footer",[r(e.nTFoot).children("tr")[0],tt(e),m,g,v]);var C=r(e.nTBody);C.children().detach(),C.append(r(u)),gn(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}function ct(e,t){var n=e.oFeatures,r=n.bSort,i=n.bFilter;r&&nn(e),i?Et(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),t!==!0&&(e._iDisplayStart=0),e._drawHold=t,lt(e),e._drawHold=!1}function ht(e){var t=e.oClasses,n=r(e.nTable),s=r("<div/>").insertBefore(n),o=e.oFeatures,u=r("<div/>",{id:e.sTableId+"_wrapper","class":t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=s[0],e.nTableWrapper=u[0],e.nTableReinsertBefore=e.nTable.nextSibling;var a=e.sDom.split(""),f,l,c,h,p,d;for(var v=0;v<a.length;v++){f=null,l=a[v];if(l=="<"){c=r("<div/>")[0],h=a[v+1];if(h=="'"||h=='"'){p="",d=2;while(a[v+d]!=h)p+=a[v+d],d++;p=="H"?p=t.sJUIHeader:p=="F"&&(p=t.sJUIFooter);if(p.indexOf(".")!=-1){var m=p.split(".");c.id=m[0].substr(1,m[0].length-1),c.className=m[1]}else p.charAt(0)=="#"?c.id=p.substr(1,p.length-1):c.className=p;v+=d}u.append(c),u=r(c)}else if(l==">")u=u.parent();else if(l=="l"&&o.bPaginate&&o.bLengthChange)f=Ft(e);else if(l=="f"&&o.bFilter)f=wt(e);else if(l=="r"&&o.bProcessing)f=Rt(e);else if(l=="t")f=zt(e);else if(l=="i"&&o.bInfo)f=_t(e);else if(l=="p"&&o.bPaginate)f=It(e);else if(i.ext.feature.length!==0){var g=i.ext.feature;for(var y=0,b=g.length;y<b;y++)if(l==g[y].cFeature){f=g[y].fnInit(e);break}}if(f){var w=e.aanFeatures;w[l]||(w[l]=[]),w[l].push(f),u.append(f)}}s.replaceWith(u)}function pt(e,t){var n=r(t).children("tr"),i,s,o,u,a,f,l,c,h,p,d,v,m=function(e,t,n){var r=e[t];while(r[n])n++;return n};e.splice(0,e.length);for(o=0,f=n.length;o<f;o++)e.push([]);for(o=0,f=n.length;o<f;o++){i=n[o],h=0,s=i.firstChild;while(s){if(s.nodeName.toUpperCase()=="TD"||s.nodeName.toUpperCase()=="TH"){p=s.getAttribute("colspan")*1,d=s.getAttribute("rowspan")*1,p=!p||p===0||p===1?1:p,d=!d||d===0||d===1?1:d,c=m(e,o,h),v=p===1?!0:!1;for(a=0;a<p;a++)for(u=0;u<d;u++)e[o+u][c+a]={cell:s,unique:v},e[o+u].nTr=i}s=s.nextSibling}}}function dt(e,t,n){var r=[];n||(n=e.aoHeader,t&&(n=[],pt(n,t)));for(var i=0,s=n.length;i<s;i++)for(var o=0,u=n[i].length;o<u;o++)n[i][o].unique&&(!r[o]||!e.bSortCellsTop)&&(r[o]=n[i][o].cell);return r}function vt(e,t,n){gn(e,"aoServerParams","serverParams",[t]);if(t&&r.isArray(t)){var i={},s=/(.*?)\[\]$/;r.each(t,function(e,t){var n=t.name.match(s);if(n){var r=n[0];i[r]||(i[r]=[]),i[r].push(t.value)}else i[t.name]=t.value}),t=i}var o,u=e.ajax,a=e.oInstance;if(r.isPlainObject(u)&&u.data){o=u.data;var f=r.isFunction(o)?o(t):o;t=r.isFunction(o)&&f?f:r.extend(!0,t,f),delete u.data}var l={data:t,success:function(t){var r=t.error||t.sError;r&&e.oApi._fnLog(e,0,r),e.json=t,gn(e,null,"xhr",[e,t]),n(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(t,n,r){var i=e.oApi._fnLog;n=="parsererror"?i(e,0,"Invalid JSON response",1):t.readyState===4&&i(e,0,"Ajax error",7),Ut(e,!1)}};e.oAjaxData=t,gn(e,null,"preXhr",[e,t]),e.fnServerData?e.fnServerData.call(a,e.sAjaxSource,r.map(t,function(e,t){return{name:t,value:e}}),n,e):e.sAjaxSource||typeof u=="string"?e.jqXHR=r.ajax(r.extend(l,{url:u||e.sAjaxSource})):r.isFunction(u)?e.jqXHR=u.call(a,t,n,e):(e.jqXHR=r.ajax(r.extend(l,u)),u.data=o)}function mt(e){return e.bAjaxDataGet?(e.iDraw++,Ut(e,!0),vt(e,gt(e),function(t){yt(e,t)}),!1):!0}function gt(e){var t=e.aoColumns,n=t.length,s=e.oFeatures,o=e.oPreviousSearch,u=e.aoPreSearchCols,a,f=[],l,c,h,p=tn(e),d=e._iDisplayStart,v=s.bPaginate!==!1?e._iDisplayLength:-1,m=function(e,t){f.push({name:e,value:t})};m("sEcho",e.iDraw),m("iColumns",n),m("sColumns",S(t,"sName").join(",")),m("iDisplayStart",d),m("iDisplayLength",v);var g={draw:e.iDraw,columns:[],order:[],start:d,length:v,search:{value:o.sSearch,regex:o.bRegex}};for(a=0;a<n;a++)c=t[a],h=u[a],l=typeof c.mData=="function"?"function":c.mData,g.columns.push({data:l,name:c.sName,searchable:c.bSearchable,orderable:c.bSortable,search:{value:h.sSearch,regex:h.bRegex}}),m("mDataProp_"+a,l),s.bFilter&&(m("sSearch_"+a,h.sSearch),m("bRegex_"+a,h.bRegex),m("bSearchable_"+a,c.bSearchable)),s.bSort&&m("bSortable_"+a,c.bSortable);s.bFilter&&(m("sSearch",o.sSearch),m("bRegex",o.bRegex)),s.bSort&&(r.each(p,function(e,t){g.order.push({column:t.col,dir:t.dir}),m("iSortCol_"+e,t.col),m("sSortDir_"+e,t.dir)}),m("iSortingCols",p.length));var y=i.ext.legacy.ajax;return y===null?e.sAjaxSource?f:g:y?f:g}function yt(e,t){var r=function(e,r){return t[e]!==n?t[e]:t[r]},i=r("sEcho","draw"),s=r("iTotalRecords","recordsTotal"),o=r("iTotalDisplayRecords","recordsFiltered");if(i){if(i*1<e.iDraw)return;e.iDraw=i*1}nt(e),e._iRecordsTotal=parseInt(s,10),e._iRecordsDisplay=parseInt(o,10);var u=bt(e,t);for(var a=0,f=u.length;a<f;a++)W(e,u[a]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,lt(e),e._bInitComplete||Bt(e,t),e.bAjaxDataGet=!0,Ut(e,!1)}function bt(e,t){var i=r.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;return i==="data"?t.aaData||t[i]:i!==""?Z(i)(t):t}function wt(e){var n=e.oClasses,i=e.sTableId,s=e.oLanguage,o=e.oPreviousSearch,u=e.aanFeatures,a='<input type="search" class="'+n.sFilterInput+'"/>',f=s.sSearch;f=f.match(/_INPUT_/)?f.replace("_INPUT_",a):f+a;var l=r("<div/>",{id:u.f?null:i+"_filter","class":n.sFilter}).append(r("<label/>").append(f)),c=function(){var t=u.f,n=this.value?this.value:"";n!=o.sSearch&&(Et(e,{sSearch:n,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive}),e._iDisplayStart=0,lt(e))},h=r("input",l).val(o.sSearch).attr("placeholder",s.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",wn(e)==="ssp"?Jt(c,400):c).bind("keypress.DT",function(e){if(e.keyCode==13)return!1}).attr("aria-controls",i);return r(e.nTable).on("search.dt.DT",function(n,r){if(e===r)try{h[0]!==t.activeElement&&h.val(o.sSearch)}catch(i){}}),l[0]}function Et(e,t,r){var i=e.oPreviousSearch,s=e.aoPreSearchCols,o=function(e){i.sSearch=e.sSearch,i.bRegex=e.bRegex,i.bSmart=e.bSmart,i.bCaseInsensitive=e.bCaseInsensitive},u=function(e){return e.bEscapeRegex!==n?!e.bEscapeRegex:e.bRegex};U(e);if(wn(e)!="ssp"){Tt(e,t.sSearch,r,u(t),t.bSmart,t.bCaseInsensitive),o(t);for(var a=0;a<s.length;a++)xt(e,s[a].sSearch,a,u(s[a]),s[a].bSmart,s[a].bCaseInsensitive);St(e)}else o(t);e.bFiltered=!0,gn(e,null,"search",[e])}function St(e){var t=i.ext.search,n=e.aiDisplay,r,s;for(var o=0,u=t.length;o<u;o++){var a=[];for(var f=0,l=n.length;f<l;f++)s=n[f],r=e.aoData[s],t[o](e,r._aFilterData,s,r._aData,f)&&a.push(s);n.length=0,n.push.apply(n,a)}}function xt(e,t,n,r,i,s){if(t==="")return;var o,u=e.aiDisplay,a=Nt(t,r,i,s);for(var f=u.length-1;f>=0;f--)o=e.aoData[u[f]]._aFilterData[n],a.test(o)||u.splice(f,1)}function Tt(e,t,n,r,s,o){var u=Nt(t,r,s,o),a=e.oPreviousSearch.sSearch,f=e.aiDisplayMaster,l,c,h;i.ext.search.length!==0&&(n=!0),c=At(e);if(t.length<=0)e.aiDisplay=f.slice();else{if(c||n||a.length>t.length||t.indexOf(a)!==0||e.bSorted)e.aiDisplay=f.slice();l=e.aiDisplay;for(h=l.length-1;h>=0;h--)u.test(e.aoData[l[h]]._sFilterRow)||l.splice(h,1)}}function Nt(e,t,n,i){e=t?e:Ct(e);if(n){var s=r.map(e.match(/"[^"]+"|[^ ]+/g)||"",function(e){return e.charAt(0)==='"'?e.match(/^"(.*)"$/)[1]:e});e="^(?=.*?"+s.join(")(?=.*?")+").*$"}return new RegExp(e,i?"i":"")}function Ct(e){return e.replace(d,"\\$1")}function At(e){var t=e.aoColumns,n,r,s,o,u,a,f,l,c=i.ext.type.search,h=!1;for(r=0,o=e.aoData.length;r<o;r++){l=e.aoData[r];if(!l._aFilterData){a=[];for(s=0,u=t.length;s<u;s++)n=t[s],n.bSearchable?(f=J(e,r,s,"filter"),c[n.sType]&&(f=c[n.sType](f)),f===null&&(f=""),typeof f!="string"&&f.toString&&(f=f.toString())):f="",f.indexOf&&f.indexOf("&")!==-1&&(kt.innerHTML=f,f=Lt?kt.textContent:kt.innerText),f.replace&&(f=f.replace(/[\r\n]/g,"")),a.push(f);l._aFilterData=a,l._sFilterRow=a.join("  "),h=!0}}return h}function Ot(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function Mt(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function _t(e){var t=e.sTableId,n=e.aanFeatures.i,i=r("<div/>",{"class":e.oClasses.sInfo,id:n?null:t+"_info"});return n||(e.aoDrawCallback.push({fn:Dt,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),r(e.nTable).attr("aria-describedby",t+"_info")),i[0]}function Dt(e){var t=e.aanFeatures.i;if(t.length===0)return;var n=e.oLanguage,i=e._iDisplayStart+1,s=e.fnDisplayEnd(),o=e.fnRecordsTotal(),u=e.fnRecordsDisplay(),a=u?n.sInfo:n.sInfoEmpty;u!==o&&(a+=" "+n.sInfoFiltered),a+=n.sInfoPostFix,a=Pt(e,a);var f=n.fnInfoCallback;f!==null&&(a=f.call(e.oInstance,e,i,s,o,u,a)),r(t).html(a)}function Pt(e,t){var n=e.fnFormatNumber,r=e._iDisplayStart+1,i=e._iDisplayLength,s=e.fnRecordsDisplay(),o=i===-1;return t.replace(/_START_/g,n.call(e,r)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,s)).replace(/_PAGE_/g,n.call(e,o?1:Math.ceil(r/i))).replace(/_PAGES_/g,n.call(e,o?1:Math.ceil(s/i)))}function Ht(e){var t,n,r=e.iInitDisplayStart,i=e.aoColumns,s,o=e.oFeatures;if(!e.bInitialised){setTimeout(function(){Ht(e)},200);return}ht(e),at(e),ft(e,e.aoHeader),ft(e,e.aoFooter),Ut(e,!0),o.bAutoWidth&&$t(e);for(t=0,n=i.length;t<n;t++)s=i[t],s.sWidth&&(s.nTh.style.width=Zt(s.sWidth));ct(e);var u=wn(e);u!="ssp"&&(u=="ajax"?vt(e,[],function(n){var i=bt(e,n);for(t=0;t<i.length;t++)W(e,i[t]);e.iInitDisplayStart=r,ct(e),Ut(e,!1),Bt(e,n)},e):(Ut(e,!1),Bt(e)))}function Bt(e,t){e._bInitComplete=!0,t&&j(e),gn(e,"aoInitComplete","init",[e,t])}function jt(e,t){var n=parseInt(t,10);e._iDisplayLength=n,yn(e),gn(e,null,"length",[e,n])}function Ft(e){var t=e.oClasses,n=e.sTableId,i=e.aLengthMenu,s=r.isArray(i[0]),o=s?i[0]:i,u=s?i[1]:i,a=r("<select/>",{name:n+"_length","aria-controls":n,"class":t.sLengthSelect});for(var f=0,l=o.length;f<l;f++)a[0][f]=new Option(u[f],o[f]);var c=r("<div><label/></div>").addClass(t.sLength);return e.aanFeatures.l||(c[0].id=n+"_length"),c.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",a[0].outerHTML)),r("select",c).val(e._iDisplayLength).bind("change.DT",function(t){jt(e,r(this).val()),lt(e)}),r(e.nTable).bind("length.dt.DT",function(t,n,i){e===n&&r("select",c).val(i)}),c[0]}function It(e){var t=e.sPaginationType,n=i.ext.pager[t],s=typeof n=="function",o=function(e){lt(e)},u=r("<div/>").addClass(e.oClasses.sPaging+t)[0],a=e.aanFeatures;return s||n.fnInit(e,u,o),a.p||(u.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(e){if(s){var t=e._iDisplayStart,r=e._iDisplayLength,i=e.fnRecordsDisplay(),u=r===-1,f=u?0:Math.ceil(t/r),l=u?1:Math.ceil(i/r),c=n(f,l),h,p;for(h=0,p=a.p.length;h<p;h++)bn(e,"pageButton")(e,a.p[h],h,c,f,l)}else n.fnUpdate(e,o)},sName:"pagination"})),u}function qt(e,t,n){var r=e._iDisplayStart,i=e._iDisplayLength,s=e.fnRecordsDisplay();s===0||i===-1?r=0:typeof t=="number"?(r=t*i,r>s&&(r=0)):t=="first"?r=0:t=="previous"?(r=i>=0?r-i:0,r<0&&(r=0)):t=="next"?r+i<s&&(r+=i):t=="last"?r=Math.floor((s-1)/i)*i:hn(e,0,"Unknown paging action: "+t,5);var o=e._iDisplayStart!==r;return e._iDisplayStart=r,o&&(gn(e,null,"page",[e]),n&&lt(e)),o}function Rt(e){return r("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing","class":e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function Ut(e,t){e.oFeatures.bProcessing&&r(e.aanFeatures.r).css("display",t?"block":"none"),gn(e,null,"processing",[e,t])}function zt(e){var t=r(e.nTable);t.attr("role","grid");var n=e.oScroll;if(n.sX===""&&n.sY==="")return e.nTable;var i=n.sX,s=n.sY,o=e.oClasses,u=t.children("caption"),a=u.length?u[0]._captionSide:null,f=r(t[0].cloneNode(!1)),l=r(t[0].cloneNode(!1)),c=t.children("tfoot"),h="<div/>",p=function(e){return e?Zt(e):null};n.sX&&t.attr("width")==="100%"&&t.removeAttr("width"),c.length||(c=null);var d=r(h,{"class":o.sScrollWrapper}).append(r(h,{"class":o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?p(i):"100%"}).append(r(h,{"class":o.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(f.removeAttr("id").css("margin-left",0).append(t.children("thead")))).append(a==="top"?u:null)).append(r(h,{"class":o.sScrollBody}).css({overflow:"auto",height:p(s),width:p(i)}).append(t));c&&d.append(r(h,{"class":o.sScrollFoot}).css({overflow:"hidden",border:0,width:i?p(i):"100%"}).append(r(h,{"class":o.sScrollFootInner}).append(l.removeAttr("id").css("margin-left",0).append(t.children("tfoot")))).append(a==="bottom"?u:null));var v=d.children(),m=v[0],g=v[1],y=c?v[2]:null;return i&&r(g).scroll(function(e){var t=this.scrollLeft;m.scrollLeft=t,c&&(y.scrollLeft=t)}),e.nScrollHead=m,e.nScrollBody=g,e.nScrollFoot=y,e.aoDrawCallback.push({fn:Wt,sName:"scrolling"}),d[0]}function Wt(e){var t=e.oScroll,n=t.sX,i=t.sXInner,s=t.sY,o=t.iBarWidth,u=r(e.nScrollHead),a=u[0].style,f=u.children("div"),l=f[0].style,c=f.children("table"),h=e.nScrollBody,p=r(h),d=h.style,v=r(e.nScrollFoot),m=v.children("div"),g=m.children("table"),y=r(e.nTHead),b=r(e.nTable),w=b[0],E=w.style,S=e.nTFoot?r(e.nTFoot):null,x=e.oBrowser,T=x.bScrollOversize,N,C,k,L,A,O,M=[],_=[],D=[],P,H,B,j=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};b.children("thead, tfoot").remove(),A=y.clone().prependTo(b),N=y.find("tr"),k=A.find("tr"),A.find("th, td").removeAttr("tabindex"),S&&(O=S.clone().prependTo(b),C=S.find("tr"),L=O.find("tr")),n||(d.width="100%",u[0].style.width="100%"),r.each(dt(e,A),function(t,n){P=F(e,t),n.style.width=e.aoColumns[P].sWidth}),S&&Xt(function(e){e.style.width=""},L),t.bCollapse&&s!==""&&(d.height=p[0].offsetHeight+y[0].offsetHeight+"px"),B=b.outerWidth(),n===""?(E.width="100%",T&&(b.find("tbody").height()>h.offsetHeight||p.css("overflow-y")=="scroll")&&(E.width=Zt(b.outerWidth()-o))):i!==""?E.width=Zt(i):B==p.width()&&p.height()<b.height()?(E.width=Zt(B-o),b.outerWidth()>B-o&&(E.width=Zt(B))):E.width=Zt(B),B=b.outerWidth(),Xt(j,k),Xt(function(e){D.push(e.innerHTML),M.push(Zt(r(e).css("width")))},k),Xt(function(e,t){e.style.width=M[t]},N),r(k).height(0),S&&(Xt(j,L),Xt(function(e){_.push(Zt(r(e).css("width")))},L),Xt(function(e,t){e.style.width=_[t]},C),r(L).height(0)),Xt(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+D[t]+"</div>",e.style.width=M[t]},k),S&&Xt(function(e,t){e.innerHTML="",e.style.width=_[t]},L),b.outerWidth()<B?(H=h.scrollHeight>h.offsetHeight||p.css("overflow-y")=="scroll"?B+o:B,T&&(h.scrollHeight>h.offsetHeight||p.css("overflow-y")=="scroll")&&(E.width=Zt(H-o)),(n===""||i!=="")&&hn(e,1,"Possible column misalignment",6)):H="100%",d.width=Zt(H),a.width=Zt(H),S&&(e.nScrollFoot.style.width=Zt(H)),s||T&&(d.height=Zt(w.offsetHeight+o));if(s&&t.bCollapse){d.height=Zt(s);var I=n&&w.offsetWidth>h.offsetWidth?o:0;w.offsetHeight<h.offsetHeight&&(d.height=Zt(w.offsetHeight+I))}var q=b.outerWidth();c[0].style.width=Zt(q),l.width=Zt(q);var R=b.height()>h.clientHeight||p.css("overflow-y")=="scroll",U="padding"+(x.bScrollbarLeft?"Left":"Right");l[U]=R?o+"px":"0px",S&&(g[0].style.width=Zt(q),m[0].style.width=Zt(q),m[0].style[U]=R?o+"px":"0px"),p.scroll(),(e.bSorted||e.bFiltered)&&!e._drawHold&&(h.scrollTop=0)}function Xt(e,t,n){var r=0,i=0,s=t.length,o,u;while(i<s){o=t[i].firstChild,u=n?n[i].firstChild:null;while(o)o.nodeType===1&&(n?e(o,u,r):e(o,r),r++),o=o.nextSibling,u=n?u.nextSibling:null;i++}}function $t(t){var n=t.nTable,i=t.aoColumns,s=t.oScroll,o=s.sY,u=s.sX,a=s.sXInner,f=i.length,l=R(t,"bVisible"),c=r("th",t.nTHead),h=n.getAttribute("width"),p=n.parentNode,d=!1,v,m,g,y,b;for(v=0;v<l.length;v++)m=i[l[v]],m.sWidth!==null&&(m.sWidth=Kt(m.sWidthOrig,p),d=!0);if(!d&&!u&&!o&&f==q(t)&&f==c.length)for(v=0;v<f;v++)i[v].sWidth=Zt(c.eq(v).width());else{var w=r(n).clone().empty().css("visibility","hidden").removeAttr("id").append(r(t.nTHead).clone(!1)).append(r(t.nTFoot).clone(!1)).append(r("<tbody><tr/></tbody>"));w.find("tfoot th, tfoot td").css("width","");var E=w.find("tbody tr");c=dt(t,w.find("thead")[0]);for(v=0;v<l.length;v++)m=i[l[v]],c[v].style.width=m.sWidthOrig!==null&&m.sWidthOrig!==""?Zt(m.sWidthOrig):"";if(t.aoData.length)for(v=0;v<l.length;v++)g=l[v],m=i[g],r(Gt(t,g)).clone(!1).append(m.sContentPadding).appendTo(E);w.appendTo(p),u&&a?w.width(a):u?(w.css("width","auto"),w.width()<p.offsetWidth&&w.width(p.offsetWidth)):o?w.width(p.offsetWidth):h&&w.width(h),Qt(t,w[0]);if(u){var S=0;for(v=0;v<l.length;v++)m=i[l[v]],b=r(c[v]).outerWidth(),S+=m.sWidthOrig===null?b:parseInt(m.sWidth,10)+b-r(c[v]).width();w.width(Zt(S)),n.style.width=Zt(S)}for(v=0;v<l.length;v++)m=i[l[v]],y=r(c[v]).width(),y&&(m.sWidth=Zt(y));n.style.width=Zt(w.css("width")),w.remove()}h&&(n.style.width=Zt(h)),(h||u)&&!t._reszEvt&&(r(e).bind("resize.DT-"+t.sInstance,Jt(function(){j(t)})),t._reszEvt=!0)}function Jt(e,t){var r=t||200,i,s;return function(){var t=this,o=+(new Date),u=arguments;i&&o<i+r?(clearTimeout(s),s=setTimeout(function(){i=n,e.apply(t,u)},r)):i?(i=o,e.apply(t,u)):i=o}}function Kt(e,n){if(!e)return 0;var i=r("<div/>").css("width",Zt(e)).appendTo(n||t.body),s=i[0].offsetWidth;return i.remove(),s}function Qt(e,t){var n=e.oScroll;if(n.sX||n.sY){var i=n.sX?0:n.iBarWidth;t.style.width=Zt(r(t).outerWidth()-i)}}function Gt(e,t){var n=Yt(e,t);if(n<0)return null;var i=e.aoData[n];return i.nTr?i.anCells[t]:r("<td/>").html(J(e,n,t,"display"))[0]}function Yt(e,t){var n,r=-1,i=-1;for(var s=0,o=e.aoData.length;s<o;s++)n=J(e,s,t,"display")+"",n=n.replace(Vt,""),n.length>r&&(r=n.length,i=s);return i}function Zt(e){return e===null?"0px":typeof e=="number"?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function en(){if(!i.__scrollbarWidth){var e=r("<p/>").css({width:"100%",height:200,padding:0})[0],t=r("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(e).appendTo("body"),n=e.offsetWidth;t.css("overflow","scroll");var s=e.offsetWidth;n===s&&(s=t[0].clientWidth),t.remove(),i.__scrollbarWidth=n-s}return i.__scrollbarWidth}function tn(e){var t,n,s,o,u=[],a=[],f=e.aoColumns,l,c,h,p,d=e.aaSortingFixed,v=r.isPlainObject(d),m=[],g=function(e){e.length&&!r.isArray(e[0])?m.push(e):m.push.apply(m,e)};r.isArray(d)&&g(d),v&&d.pre&&g(d.pre),g(e.aaSorting),v&&d.post&&g(d.post);for(t=0;t<m.length;t++){p=m[t][0],l=f[p].aDataSort;for(s=0,o=l.length;s<o;s++)c=l[s],h=f[c].sType||"string",u.push({src:p,col:c,dir:m[t][1],index:m[t][2],type:h,formatter:i.ext.type.order[h+"-pre"]})}return u}function nn(e){var t,n,r,s,o,u,a,f,l,c=[],h=i.ext.type.order,p=e.aoData,d=e.aoColumns,v,m,g,y,b,w=0,E,S=e.aiDisplayMaster,x;U(e),x=tn(e);for(t=0,n=x.length;t<n;t++)E=x[t],E.formatter&&w++,an(e,E.col);if(wn(e)!="ssp"&&x.length!==0){for(t=0,r=S.length;t<r;t++)c[S[t]]=t;w===x.length?S.sort(function(e,t){var n,r,i,s,o,u=x.length,a=p[e]._aSortData,f=p[t]._aSortData;for(i=0;i<u;i++){o=x[i],n=a[o.col],r=f[o.col],s=n<r?-1:n>r?1:0;if(s!==0)return o.dir==="asc"?s:-s}return n=c[e],r=c[t],n<r?-1:n>r?1:0}):S.sort(function(e,t){var n,r,i,s,o,u,a,f=x.length,l=p[e]._aSortData,d=p[t]._aSortData;for(i=0;i<f;i++){u=x[i],n=l[u.col],r=d[u.col],a=h[u.type+"-"+u.dir]||h["string-"+u.dir],o=a(n,r);if(o!==0)return o}return n=c[e],r=c[t],n<r?-1:n>r?1:0})}e.bSorted=!0}function rn(e){var t,n,r=e.aoColumns,i=tn(e),s=e.oLanguage.oAria;for(var o=0,u=r.length;o<u;o++){var a=r[o],f=a.asSorting,l=a.sTitle.replace(/<.*?>/g,""),c=a.nTh;c.removeAttribute("aria-sort"),a.bSortable?(i.length>0&&i[0].col==o?(c.setAttribute("aria-sort",i[0].dir=="asc"?"ascending":"descending"),n=f[i[0].index+1]||f[0]):n=f[0],t=l+(n==="asc"?s.sSortAscending:s.sSortDescending)):t=l,c.setAttribute("aria-label",t)}}function sn(e,t,i,s){var o=e.aoColumns[t],u=e.aaSorting,a=o.asSorting,f,l=function(e){var t=e._idx;return t===n&&(t=r.inArray(e[1],a)),t+1>=a.length?0:t+1};typeof u[0]=="number"&&(u=e.aaSorting=[u]);if(i&&e.oFeatures.bSortMulti){var c=r.inArray(t,S(u,"0"));c!==-1?(f=l(u[c]),u[c][1]=a[f],u[c]._idx=f):(u.push([t,a[0],0]),u[u.length-1]._idx=0)}else u.length&&u[0][0]==t?(f=l(u[0]),u.length=1,u[0][1]=a[f],u[0]._idx=f):(u.length=0,u.push([t,a[0]]),u[0]._idx=0);ct(e),typeof s=="function"&&s(e)}function on(e,t,n,r){var i=e.aoColumns[n];vn(t,{},function(t){if(i.bSortable===!1)return;e.oFeatures.bProcessing?(Ut(e,!0),setTimeout(function(){sn(e,n,t.shiftKey,r),wn(e)!=="ssp"&&Ut(e,!1)},0)):sn(e,n,t.shiftKey,r)})}function un(e){var t=e.aLastSort,n=e.oClasses.sSortColumn,i=tn(e),s=e.oFeatures,o,u,a;if(s.bSort&&s.bSortClasses){for(o=0,u=t.length;o<u;o++)a=t[o].src,r(S(e.aoData,"anCells",a)).removeClass(n+(o<2?o+1:3));for(o=0,u=i.length;o<u;o++)a=i[o].src,r(S(e.aoData,"anCells",a)).addClass(n+(o<2?o+1:3))}e.aLastSort=i}function an(e,t){var n=e.aoColumns[t],r=i.ext.order[n.sSortDataType],s;r&&(s=r.call(e.oInstance,e,t,I(e,t)));var o,u,a=i.ext.type.order[n.sType+"-pre"];for(var f=0,l=e.aoData.length;f<l;f++){o=e.aoData[f],o._aSortData||(o._aSortData=[]);if(!o._aSortData[t]||r)u=r?s[f]:J(e,f,t,"sort"),o._aSortData[t]=a?a(u):u}}function fn(e){if(!e.oFeatures.bStateSave||e.bDestroying)return;var t={time:+(new Date),start:e._iDisplayStart,length:e._iDisplayLength,order:r.extend(!0,[],e.aaSorting),search:Ot(e.oPreviousSearch),columns:r.map(e.aoColumns,function(t,n){return{visible:t.bVisible,search:Ot(e.aoPreSearchCols[n])}})};gn(e,"aoStateSaveParams","stateSaveParams",[e,t]),e.oSavedState=t,e.fnStateSaveCallback.call(e.oInstance,e,t)}function ln(e,t){var n,i,s=e.aoColumns;if(!e.oFeatures.bStateSave)return;var o=e.fnStateLoadCallback.call(e.oInstance,e);if(!o||!o.time)return;var u=gn(e,"aoStateLoadParams","stateLoadParams",[e,o]);if(r.inArray(!1,u)!==-1)return;var a=e.iStateDuration;if(a>0&&o.time<+(new Date)-a*1e3)return;if(s.length!==o.columns.length)return;e.oLoadedState=r.extend(!0,{},o),e._iDisplayStart=o.start,e.iInitDisplayStart=o.start,e._iDisplayLength=o.length,e.aaSorting=[],r.each(o.order,function(t,n){e.aaSorting.push(n[0]>=s.length?[0,n[1]]:n)}),r.extend(e.oPreviousSearch,Mt(o.search));for(n=0,i=o.columns.length;n<i;n++){var f=o.columns[n];s[n].bVisible=f.visible,r.extend(e.aoPreSearchCols[n],Mt(f.search))}gn(e,"aoStateLoaded","stateLoaded",[e,o])}function cn(e){var t=i.settings,n=r.inArray(e,S(t,"nTable"));return n!==-1?t[n]:null}function hn(t,n,r,s){r="DataTables warning: "+(t!==null?"table id="+t.sTableId+" - ":"")+r,s&&(r+=". For more information about this error, please see http://datatables.net/tn/"+s);if(!n){var o=i.ext,u=o.sErrMode||o.errMode;if(u!="alert")throw new Error(r);alert(r)}else e.console&&console.log&&console.log(r)}function pn(e,t,i,s){if(r.isArray(i)){r.each(i,function(n,i){r.isArray(i)?pn(e,t,i[0],i[1]):pn(e,t,i)});return}s===n&&(s=i),t[i]!==n&&(e[s]=t[i])}function dn(e,t,n){var i;for(var s in t)t.hasOwnProperty(s)&&(i=t[s],r.isPlainObject(i)?(r.isPlainObject(e[s])||(e[s]={}),r.extend(!0,e[s],i)):n&&s!=="data"&&s!=="aaData"&&r.isArray(i)?e[s]=i.slice():e[s]=i);return e}function vn(e,t,n){r(e).bind("click.DT",t,function(t){e.blur(),n(t)}).bind("keypress.DT",t,function(e){e.which===13&&(e.preventDefault(),n(e))}).bind("selectstart.DT",function(){return!1})}function mn(e,t,n,r){n&&e[t].push({fn:n,sName:r})}function gn(e,t,n,i){var s=[];return t&&(s=r.map(e[t].slice().reverse(),function(t,n){return t.fn.apply(e.oInstance,i)})),n!==null&&r(e.nTable).trigger(n+".dt",i),s}function yn(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),r=e._iDisplayLength;n===e.fnRecordsDisplay()&&(t=n-r);if(r===-1||t<0)t=0;e._iDisplayStart=t}function bn(e,t){var n=e.renderer,s=i.ext.renderer[t];return r.isPlainObject(n)&&n[t]?s[n[t]]||s._:typeof n=="string"?s[n]||s._:s._}function wn(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function zn(e,t){var n=[],r=Un.numbers_length,i=Math.floor(r/2),s=1;return t<=r?n=T(0,t):e<=i?(n=T(0,r-2),n.push("ellipsis"),n.push(t-1)):e>=t-1-i?(n=T(t-(r-2),t),n.splice(0,0,"ellipsis"),n.splice(0,0,0)):(n=T(e-1,e+2),n.push("ellipsis"),n.push(t-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function Xn(e){r.each({num:function(t){return Wn(t,e)},"num-fmt":function(t){return Wn(t,e,v)},"html-num":function(t){return Wn(t,e,c)},"html-num-fmt":function(t){return Wn(t,e,c,v)}},function(t,n){s.type.order[t+e+"-pre"]=n})}function Vn(e){return function(){var t=[cn(this[i.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return i.ext.internal[e].apply(this,t)}}var i,s,o,u,a,f={},l=/[\r\n]/g,c=/<.*?>/g,h=/^[\w\+\-]/,p=/[\w\+\-]$/,d=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),v=/[',$£€¥%\u2009\u202F]/g,m=function(e){return!e||e===!0||e==="-"?!0:!1},g=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},y=function(e,t){return f[t]||(f[t]=new RegExp(Ct(t),"g")),typeof e=="string"?e.replace(/\./g,"").replace(f[t],"."):e},b=function(e,t,n){var r=typeof e=="string";return t&&r&&(e=y(e,t)),n&&r&&(e=e.replace(v,"")),m(e)||!isNaN(parseFloat(e))&&isFinite(e)},w=function(e){return m(e)||typeof e=="string"},E=function(e,t,n){if(m(e))return!0;var r=w(e);return r?b(N(e),t,n)?!0:null:null},S=function(e,t,r){var i=[],s=0,o=e.length;if(r!==n)for(;s<o;s++)e[s]&&e[s][t]&&i.push(e[s][t][r]);else for(;s<o;s++)e[s]&&i.push(e[s][t]);return i},x=function(e,t,r,i){var s=[],o=0,u=t.length;if(i!==n)for(;o<u;o++)s.push(e[t[o]][r][i]);else for(;o<u;o++)s.push(e[t[o]][r]);return s},T=function(e,t){var r=[],i;t===n?(t=0,i=e):(i=t,t=e);for(var s=t;s<i;s++)r.push(s);return r},N=function(e){return e.replace(c,"")},C=function(e){var t=[],n,r,i=e.length,s,o=0;e:for(r=0;r<i;r++){n=e[r];for(s=0;s<o;s++)if(t[s]===n)continue e;t.push(n),o++}return t},O=function(e,t,r){e[t]!==n&&(e[r]=e[t])},Q=/\[.*?\]$/,G=/\(\)$/,kt=r("<div>")[0],Lt=kt.textContent!==n,Vt=/<.*?>/g;i=function(e){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return e?new o(cn(this[s.iApiIndex])):new o(this)},this.fnAddData=function(e,t){var i=this.api(!0),s=r.isArray(e)&&(r.isArray(e[0])||r.isPlainObject(e[0]))?i.rows.add(e):i.row.add(e);return(t===n||t)&&i.draw(),s.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),r=t.settings()[0],i=r.oScroll;e===n||e?t.draw(!1):(i.sX!==""||i.sY!=="")&&Wt(r)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===n||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,r){var i=this.api(!0),s=i.rows(e),o=s.settings()[0],u=o.aoData[s[0][0]];return s.remove(),t&&t.call(this,o,u),(r===n||r)&&i.draw(),u},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(!e)},this.fnFilter=function(e,t,r,i,s,o){var u=this.api(!0);t===null||t===n?u.search(e,r,i,o):u.column(t).search(e,r,i,o),u.draw()},this.fnGetData=function(e,t){var r=this.api(!0);if(e!==n){var i=e.nodeName?e.nodeName.toLowerCase():"";return t!==n||i=="td"||i=="th"?r.cell(e,t).data():r.row(e).data()||null}return r.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==n?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if(n=="TR")return t.row(e).index();if(n=="TD"||n=="TH"){var r=t.cell(e).index();return[r.row,r.columnVisible,r.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var r=this.api(!0).page(e);(t===n||t)&&r.draw(!1)},this.fnSetColumnVis=function(e,t,r){var i=this.api(!0).column(e).visible(t);(r===n||r)&&i.columns.adjust().draw()},this.fnSettings=function(){return cn(this[s.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,r,i,s){var o=this.api(!0);return r===n||r===null?o.row(t).data(e):o.cell(t,r).data(e),(s===n||s)&&o.columns.adjust(),(i===n||i)&&o.draw(),0},this.fnVersionCheck=s.fnVersionCheck;var t=this,u=e===n,a=this.length;u&&(e={}),this.oApi=this.internal=s.internal;for(var f in i.ext.internal)f&&(this[f]=Vn(f));return this.each(function(){var s={},o=a>1?dn(s,e,!0):e,f=0,l,c,h,p,d,v=this.getAttribute("id"),m=!1,g=i.defaults;if(this.nodeName.toLowerCase()!="table"){hn(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}M(g),_(g.column),L(g,g,!0),L(g.column,g.column,!0),L(g,o);var y=i.settings;for(f=0,l=y.length;f<l;f++){if(y[f].nTable==this){var b=o.bRetrieve!==n?o.bRetrieve:g.bRetrieve,w=o.bDestroy!==n?o.bDestroy:g.bDestroy;if(u||b)return y[f].oInstance;if(w){y[f].oInstance.fnDestroy();break}hn(y[f],0,"Cannot reinitialise DataTable",3);return}if(y[f].sTableId==this.id){y.splice(f,1);break}}if(v===null||v==="")v="DataTables_Table_"+i.ext._unique++,this.id=v;var E=r.extend(!0,{},i.models.oSettings,{nTable:this,oApi:t.internal,oInit:o,sDestroyWidth:r(this)[0].style.width,sInstance:v,sTableId:v});y.push(E),E.oInstance=t.length===1?t:r(this).dataTable(),M(o),o.oLanguage&&A(o.oLanguage),o.aLengthMenu&&!o.iDisplayLength&&(o.iDisplayLength=r.isArray(o.aLengthMenu[0])?o.aLengthMenu[0][0]:o.aLengthMenu[0]),o=dn(r.extend(!0,{},g),o),pn(E.oFeatures,o,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),pn(E,o,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),pn(E.oScroll,o,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),pn(E.oLanguage,o,"fnInfoCallback"),mn(E,"aoDrawCallback",o.fnDrawCallback,"user"),mn(E,"aoServerParams",o.fnServerParams,"user"),mn(E,"aoStateSaveParams",o.fnStateSaveParams,"user"),mn(E,"aoStateLoadParams",o.fnStateLoadParams,"user"),mn(E,"aoStateLoaded",o.fnStateLoaded,"user"),mn(E,"aoRowCallback",o.fnRowCallback,"user"),mn(E,"aoRowCreatedCallback",o.fnCreatedRow,"user"),mn(E,"aoHeaderCallback",o.fnHeaderCallback,"user"),mn(E,"aoFooterCallback",o.fnFooterCallback,"user"),mn(E,"aoInitComplete",o.fnInitComplete,"user"),mn(E,"aoPreDrawCallback",o.fnPreDrawCallback,"user");var S=E.oClasses;o.bJQueryUI?(r.extend(S,i.ext.oJUIClasses,o.oClasses),o.sDom===g.sDom&&g.sDom==="lfrtip"&&(E.sDom='<"H"lfr>t<"F"ip>'),E.renderer?r.isPlainObject(E.renderer)&&!E.renderer.header&&(E.renderer.header="jqueryui"):E.renderer="jqueryui"):r.extend(S,i.ext.classes,o.oClasses),r(this).addClass(S.sTable);if(E.oScroll.sX!==""||E.oScroll.sY!=="")E.oScroll.iBarWidth=en();E.oScroll.sX===!0&&(E.oScroll.sX="100%"),E.iInitDisplayStart===n&&(E.iInitDisplayStart=o.iDisplayStart,E._iDisplayStart=o.iDisplayStart);if(o.iDeferLoading!==null){E.bDeferLoading=!0;var x=r.isArray(o.iDeferLoading);E._iRecordsDisplay=x?o.iDeferLoading[0]:o.iDeferLoading,E._iRecordsTotal=x?o.iDeferLoading[1]:o.iDeferLoading}o.oLanguage.sUrl!==""?(E.oLanguage.sUrl=o.oLanguage.sUrl,r.getJSON(E.oLanguage.sUrl,null,function(e){A(e),L(g.oLanguage,e),r.extend(!0,E.oLanguage,o.oLanguage,e),Ht(E)}),m=!0):r.extend(!0,E.oLanguage,o.oLanguage),o.asStripeClasses===null&&(E.asStripeClasses=[S.sStripeOdd,S.sStripeEven]);var T=E.asStripeClasses,N=r("tbody tr:eq(0)",this);r.inArray(!0,r.map(T,function(e,t){return N.hasClass(e)}))!==-1&&(r("tbody tr",this).removeClass(T.join(" ")),E.asDestroyStripes=T.slice());var C=[],k,O=this.getElementsByTagName("thead");O.length!==0&&(pt(E.aoHeader,O[0]),C=dt(E));if(o.aoColumns===null){k=[];for(f=0,l=C.length;f<l;f++)k.push(null)}else k=o.aoColumns;for(f=0,l=k.length;f<l;f++)H(E,C?C[f]:null);z(E,o.aoColumnDefs,k,function(e,t){B(E,e,t)});if(N.length){var P=function(e,t){return e.getAttribute("data-"+t)?t:null};r.each(st(E,N[0]).cells,function(e,t){var r=E.aoColumns[e];if(r.mData===e){var i=P(t,"sort")||P(t,"order"),s=P(t,"filter")||P(t,"search");if(i!==null||s!==null)r.mData={_:e+".display",sort:i!==null?e+".@data-"+i:n,type:i!==null?e+".@data-"+i:n,filter:s!==null?e+".@data-"+s:n},B(E,e)}})}var j=E.oFeatures;o.bStateSave&&(j.bStateSave=!0,ln(E,o),mn(E,"aoDrawCallback",fn,"state_save"));if(o.aaSorting===n){var F=E.aaSorting;for(f=0,l=F.length;f<l;f++)F[f][1]=E.aoColumns[f].asSorting[0]}un(E),j.bSort&&mn(E,"aoDrawCallback",function(){if(E.bSorted){var e=tn(E),t={};r.each(e,function(e,n){t[n.src]=n.dir}),gn(E,null,"order",[E,e,t]),rn(E)}}),mn(E,"aoDrawCallback",function(){(E.bSorted||wn(E)==="ssp"||j.bDeferRender)&&un(E)},"sc"),D(E);var I=r(this).children("caption").each(function(){this._captionSide=r(this).css("caption-side")}),q=r(this).children("thead");q.length===0&&(q=r("<thead/>").appendTo(this)),E.nTHead=q[0];var R=r(this).children("tbody");R.length===0&&(R=r("<tbody/>").appendTo(this)),E.nTBody=R[0];var U=r(this).children("tfoot");U.length===0&&I.length>0&&(E.oScroll.sX!==""||E.oScroll.sY!=="")&&(U=r("<tfoot/>").appendTo(this)),U.length===0||U.children().length===0?r(this).addClass(S.sNoFooter):U.length>0&&(E.nTFoot=U[0],pt(E.aoFooter,E.nTFoot));if(o.aaData)for(f=0;f<o.aaData.length;f++)W(E,o.aaData[f]);else(E.bDeferLoading||wn(E)=="dom")&&X(E,r(E.nTBody).children("tr"));E.aiDisplay=E.aiDisplayMaster.slice(),E.bInitialised=!0,m===!1&&Ht(E)}),t=null,this};var En=[],Sn=Array.prototype,xn=function(e){var t,n,s=i.settings,o=r.map(s,function(e,t){return e.nTable});if(!e)return[];if(e.nTable&&e.oApi)return[e];if(e.nodeName&&e.nodeName.toLowerCase()==="table")return t=r.inArray(e,o),t!==-1?[s[t]]:null;if(e&&typeof e.settings=="function")return e.settings().toArray();typeof e=="string"?n=r(e):e instanceof r&&(n=e);if(n)return n.map(function(e){return t=r.inArray(this,o),t!==-1?s[t]:null}).toArray()};o=function(e,t){if(!this instanceof o)throw"DT API must be constructed as a new object";var n=[],i=function(e){var t=xn(e);t&&n.push.apply(n,t)};if(r.isArray(e))for(var s=0,u=e.length;s<u;s++)i(e[s]);else i(e);this.context=C(n),t&&this.push.apply(this,t.toArray?t.toArray():t),this.selector={rows:null,cols:null,opts:null},o.extend(this,this,En)},i.Api=o,o.prototype={concat:Sn.concat,context:[],each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new o(t[e],this[e]):null},filter:function(e){var t=[];if(Sn.filter)t=Sn.filter.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new o(this.context,t)},flatten:function(){var e=[];return new o(this.context,e.concat.apply(e,this.toArray()))},join:Sn.join,indexOf:Sn.indexOf||function(e,t){for(var n=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,r){var i=[],s,u,a,f,l,c=this.context,h,p,d,v=this.selector;typeof e=="string"&&(r=t,t=e,e=!1);for(u=0,a=c.length;u<a;u++)if(t==="table")s=r(c[u],u),s!==n&&i.push(s);else if(t==="columns"||t==="rows")s=r(c[u],this[u],u),s!==n&&i.push(s);else if(t==="column"||t==="column-rows"||t==="row"||t==="cell"){p=this[u],t==="column-rows"&&(h=An(c[u],v.opts));for(f=0,l=p.length;f<l;f++)d=p[f],t==="cell"?s=r(c[u],d.row,d.column,u,f):s=r(c[u],d,u,f,h),s!==n&&i.push(s)}if(i.length){var m=new o(c,e?i.concat.apply([],i):i),g=m.selector;return g.rows=v.rows,g.cols=v.cols,g.opts=v.opts,m}return this},lastIndexOf:Sn.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(Sn.map)t=Sn.map.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)t.push(e.call(this,this[n],n));return new o(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:Sn.pop,push:Sn.push,reduce:Sn.reduce||function(e,t){return P(this,e,t,0,this.length,1)},reduceRight:Sn.reduceRight||function(e,t){return P(this,e,t,this.length-1,-1,-1)},reverse:Sn.reverse,selector:null,shift:Sn.shift,sort:Sn.sort,splice:Sn.splice,toArray:function(){return Sn.slice.call(this)},to$:function(){return r(this)},toJQuery:function(){return r(this)},unique:function(){return new o(this.context,C(this))},unshift:Sn.unshift},o.extend=function(e,t,n){if(!t||!(t instanceof o)&&!t.__dt_wrapper)return;var i,s,u,a,f,l,c=function(e,t,n){return function(){var r=t.apply(e,arguments);return o.extend(r,r,n.methodExt),r}};for(i=0,s=n.length;i<s;i++)f=n[i],t[f.name]=typeof f.val=="function"?c(e,f.val,f):r.isPlainObject(f.val)?{}:f.val,t[f.name].__dt_wrapper=!0,o.extend(e,t[f.name],f.propExt)},o.register=u=function(e,t){if(r.isArray(e)){for(var n=0,i=e.length;n<i;n++)o.register(e[n],t);return}var s,u,a=e.split("."),f=En,l,c,h=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].name===t)return e[n];return null};for(s=0,u=a.length;s<u;s++){c=a[s].indexOf("()")!==-1,l=c?a[s].replace("()",""):a[s];var p=h(f,l);p||(p={name:l,val:{},methodExt:[],propExt:[]},f.push(p)),s===u-1?p.val=t:f=c?p.methodExt:p.propExt}},o.registerPlural=a=function(e,t,i){o.register(e,i),o.register(t,function(){var e=i.apply(this,arguments);return e===this?this:e instanceof o?e.length?r.isArray(e[0])?new o(e.context,e[0]):e[0]:n:e})};var Tn=function(e,t){if(typeof e=="number")return[t[e]];var n=r.map(t,function(e,t){return e.nTable});return r(n).filter(e).map(function(e){var i=r.inArray(this,n);return t[i]}).toArray()};u("tables()",function(e){return e?new o(Tn(e,this.context)):this}),u("table()",function(e){var t=this.tables(e),n=t.context;return n.length?new o(n[0]):t}),a("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable})}),a("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody})}),a("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead})}),a("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot})}),a("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper})}),u("draw()",function(e){return this.iterator("table",function(t){ct(t,e===!1)})}),u("page()",function(e){return e===n?this.page.info().page:this.iterator("table",function(t){qt(t,e)})}),u("page.info()",function(e){if(this.context.length===0)return n;var t=this.context[0],r=t._iDisplayStart,i=t._iDisplayLength,s=t.fnRecordsDisplay(),o=i===-1;return{page:o?0:Math.floor(r/i),pages:o?1:Math.ceil(s/i),start:r,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:s}}),u("page.len()",function(e){return e===n?this.context.length!==0?this.context[0]._iDisplayLength:n:this.iterator("table",function(t){jt(t,e)})});var Nn=function(e,t,n){wn(e)=="ssp"?ct(e,t):(Ut(e,!0),vt(e,[],function(n){nt(e);var r=bt(e,n);for(var i=0,s=r.length;i<s;i++)W(e,r[i]);ct(e,t),Ut(e,!1)}));if(n){var r=new o(e);r.one("draw",function(){n(r.ajax.json())})}};u("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json}),u("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData}),u("ajax.reload()",function(e,t){return this.iterator("table",function(n){Nn(n,t===!1,e)})}),u("ajax.url()",function(e){var t=this.context;return e===n?t.length===0?n:(t=t[0],t.ajax?r.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource):this.iterator("table",function(t){r.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),u("ajax.url().load()",function(e,t){return this.iterator("table",function(n){Nn(n,t===!1,e)})});var Cn=function(e,t){var i=[],s,o,u,a,f,l;if(!e||typeof e=="string"||e.length===n)e=[e];for(u=0,a=e.length;u<a;u++){o=e[u]&&e[u].split?e[u].split(","):[e[u]];for(f=0,l=o.length;f<l;f++)s=t(typeof o[f]=="string"?r.trim(o[f]):o[f]),s&&s.length&&i.push.apply(i,s)}return i},kn=function(e){return e||(e={}),e.filter&&!e.search&&(e.search=e.filter),{search:e.search||"none",order:e.order||"current",page:e.page||"all"}},Ln=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t].length>0)return e[0]=e[t],e.length=1,e.context=[e.context[t]],e;return e.length=0,e},An=function(e,t){var n,i,s,o=[],u=e.aiDisplay,a=e.aiDisplayMaster,f=t.search,l=t.order,c=t.page;if(wn(e)=="ssp")return f==="removed"?[]:T(0,a.length);if(c=="current")for(n=e._iDisplayStart,i=e.fnDisplayEnd();n<i;n++)o.push(u[n]);else if(l=="current"||l=="applied")o=f=="none"?a.slice():f=="applied"?u.slice():r.map(a,function(e,t){return r.inArray(e,u)===-1?e:null});else if(l=="index"||l=="original")for(n=0,i=e.aoData.length;n<i;n++)f=="none"?o.push(n):(s=r.inArray(n,u),(s===-1&&f=="removed"||s>=0&&f=="applied")&&o.push(n));return o},On=function(e,t,n){return Cn(t,function(t){var i=g(t);if(i!==null&&!n)return[i];var s=An(e,n);if(i!==null&&r.inArray(i,s)!==-1)return[i];if(!t)return s;var o=[];for(var u=0,a=s.length;u<a;u++)o.push(e.aoData[s[u]].nTr);return t.nodeName&&r.inArray(t,o)!==-1?[t._DT_RowIndex]:r(o).filter(t).map(function(){return this._DT_RowIndex}).toArray()})};u("rows()",function(e,t){e===n?e="":r.isPlainObject(e)&&(t=e,e=""),t=kn(t);var i=this.iterator("table",function(n){return On(n,e,t)});return i.selector.rows=e,i.selector.opts=t,i}),u("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||n})}),u("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return x(e.aoData,t,"_aData")})}),a("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var r=t.aoData[n];return e==="search"?r._aFilterData:r._aSortData})}),a("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){it(t,n,e)})}),a("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t})}),a("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,i){var s=t.aoData;s.splice(n,1);for(var o=0,u=s.length;o<u;o++)s[o].nTr!==null&&(s[o].nTr._DT_RowIndex=o);var a=r.inArray(n,t.aiDisplay);rt(t.aiDisplayMaster,n),rt(t.aiDisplay,n),rt(e[i],n,!1),yn(t)})}),u("rows.add()",function(e){var t=this.iterator("table",function(t){var n,r,i,s=[];for(r=0,i=e.length;r<i;r++)n=e[r],n.nodeName&&n.nodeName.toUpperCase()==="TR"?s.push(X(t,n)[0]):s.push(W(t,n));return s}),n=this.rows(-1);return n.pop(),n.push.apply(n,t.toArray()),n}),u("row()",function(e,t){return Ln(this.rows(e,t))}),u("row().data()",function(e){var t=this.context;return e===n?t.length&&this.length?t[0].aoData[this[0]]._aData:n:(t[0].aoData[this[0]]._aData=e,it(t[0],this[0],"data"),this)}),u("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),u("row.add()",function(e){e instanceof r&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&e.nodeName.toUpperCase()==="TR"?X(t,e)[0]:W(t,e)});return this.row(t[0])});var Mn=function(e,t,n,i){var s=[],o=function(t,n){if(t.nodeName&&t.nodeName.toLowerCase()==="tr")s.push(t);else{var i=r("<tr><td/></tr>").addClass(n);r("td",i).addClass(n).html(t)[0].colSpan=q(e),s.push(i[0])}};if(r.isArray(n)||n instanceof r)for(var u=0,a=n.length;u<a;u++)o(n[u],i);else o(n,i);t._details&&t._details.remove(),t._details=r(s),t._detailsShow&&t._details.insertAfter(t.nTr)},_n=function(e){var t=e.context;if(t.length&&e.length){var r=t[0].aoData[e[0]];r._details&&(r._details.remove(),r._detailsShow=n,r._details=n)}},Dn=function(e,t){var n=e.context;if(n.length&&e.length){var r=n[0].aoData[e[0]];r._details&&(r._detailsShow=t,t?r._details.insertAfter(r.nTr):r._details.detach(),Pn(n[0]))}},Pn=function(e){var t=new o(e),n=".dt.DT_details",r="draw"+n,i="column-visibility"+n,s="destroy"+n,u=e.aoData;t.off(r+" "+i+" "+s),S(u,"_details").length>0&&(t.on(r,function(n,r){if(e!==r)return;t.rows({page:"current"}).eq(0).each(function(e){var t=u[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),t.on(i,function(t,n,r,i){if(e!==n)return;var s,o=q(n);for(var a=0,f=u.length;a<f;a++)s=u[a],s._details&&s._details.children("td[colspan]").attr("colspan",o)}),t.on(s,function(t,n){if(e!==n)return;for(var r=0,i=u.length;r<i;r++)u[r]._details&&_n(u[r])}))},Hn="",Bn=Hn+"row().child",jn=Bn+"()";u(jn,function(e,t){var r=this.context;return e===n?r.length&&this.length?r[0].aoData[this[0]]._details:n:(e===!0?this.child.show():e===!1?_n(this):r.length&&this.length&&Mn(r[0],r[0].aoData[this[0]],e,t),this)}),u([Bn+".show()",jn+".show()"],function(e){return Dn(this,!0),this}),u([Bn+".hide()",jn+".hide()"],function(){return Dn(this,!1),this}),u([Bn+".remove()",jn+".remove()"],function(){return _n(this),this}),u(Bn+".isShown()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]]._detailsShow||!1:!1});var Fn=/^(.+):(name|visIdx|visible)$/,In=function(e,t,n){var i=e.aoColumns,s=S(i,"sName"),o=S(i,"nTh");return Cn(t,function(t){var n=g(t);if(t==="")return T(i.length);if(n!==null)return[n>=0?n:i.length+n];var u=typeof t=="string"?t.match(Fn):"";if(!u)return r(o).filter(t).map(function(){return r.inArray(this,o)}).toArray();switch(u[2]){case"visIdx":case"visible":var a=parseInt(u[1],10);if(a<0){var f=r.map(i,function(e,t){return e.bVisible?t:null});return[f[f.length+a]]}return[F(e,a)];case"name":return r.map(s,function(e,t){return e===u[1]?t:null})}})},qn=function(e,t,i,s){var o=e.aoColumns,u=o[t],a=e.aoData,f,l,c,h,p;if(i===n)return u.bVisible;if(u.bVisible===i)return;if(i){var d=r.inArray(!0,S(o,"bVisible"),t+1);for(c=0,h=a.length;c<h;c++)p=a[c].nTr,l=a[c].anCells,p&&p.insertBefore(l[t],l[d]||null)}else r(S(e.aoData,"anCells",t)).detach();u.bVisible=i,ft(e,e.aoHeader),ft(e,e.aoFooter);if(s===n||s)j(e),(e.oScroll.sX||e.oScroll.sY)&&Wt(e);gn(e,null,"column-visibility",[e,t,i]),fn(e)};u("columns()",function(e,t){e===n?e="":r.isPlainObject(e)&&(t=e,e=""),t=kn(t);var i=this.iterator("table",function(n){return In(n,e,t)});return i.selector.cols=e,i.selector.opts=t,i}),a("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh})}),a("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf})}),a("columns().data()","column().data()",function(){return this.iterator("column-rows",function(e,t,n,r,i){var s=[];for(var o=0,u=i.length;o<u;o++)s.push(J(e,i[o],t,""));return s})}),a("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,r,i,s){return x(t.aoData,s,e==="search"?"_aFilterData":"_aSortData",n)})}),a("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,r,i){return x(e.aoData,i,"anCells",t)})}),a("columns().visible()","column().visible()",function(e,t){return this.iterator("column",function(r,i){return e===n?r.aoColumns[i].bVisible:qn(r,i,e,t)})}),a("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return e==="visible"?I(t,n):n})}),u("columns.adjust()",function(){return this.iterator("table",function(e){j(e)})}),u("column.index()",function(e,t){if(this.context.length!==0){var n=this.context[0];if(e==="fromVisible"||e==="toData")return F(n,t);if(e==="fromData"||e==="toVisible")return I(n,t)}}),u("column()",function(e,t){return Ln(this.columns(e,t))});var Rn=function(e,t,i){var s=e.aoData,o=An(e,i),u=x(s,o,"anCells"),a=r([].concat.apply([],u)),f,l=e.aoColumns.length,c,h,p,d;return Cn(t,function(e){if(e===null||e===n){c=[];for(h=0,p=o.length;h<p;h++){f=o[h];for(d=0;d<l;d++)c.push({row:f,column:d})}return c}return r.isPlainObject(e)?[e]:a.filter(e).map(function(e,t){return f=t.parentNode._DT_RowIndex,{row:f,column:r.inArray(t,s[f].anCells)}}).toArray()})};u("cells()",function(e,t,i){r.isPlainObject(e)&&(typeof e.row!==n?(i=t,t=null):(i=e,e=null)),r.isPlainObject(t)&&(i=t,t=null);if(t===null||t===n)return this.iterator("table",function(t){return Rn(t,e,kn(i))});var s=this.columns(t,i),o=this.rows(e,i),u,a,f,l,c,h=this.iterator("table",function(e,t){u=[];for(a=0,f=o[t].length;a<f;a++)for(l=0,c=s[t].length;l<c;l++)u.push({row:o[t][a],column:s[t][l]});return u});return r.extend(h.selector,{cols:t,rows:e,opts:i}),h}),a("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){return e.aoData[t].anCells[n]})}),u("cells().data()",function(){return this.iterator("cell",function(e,t,n){return J(e,t,n)})}),a("cells().cache()","cell().cache()",function(e){return e=e==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,r){return t.aoData[n][e][r]})}),a("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:I(e,n)}})}),u(["cells().invalidate()","cell().invalidate()"],function(e){var t=this.selector;return this.rows(t.rows,t.opts).invalidate(e),this}),u("cell()",function(e,t,n){return Ln(this.cells(e,t,n))}),u("cell().data()",function(e){var t=this.context,r=this[0];return e===n?t.length&&r.length?J(t[0],r[0].row,r[0].column):n:(K(t[0],r[0].row,r[0].column,e),it(t[0],r[0].row,"data",r[0].column),this)}),u("order()",function(e,t){var i=this.context;return e===n?i.length!==0?i[0].aaSorting:n:(typeof e=="number"?e=[[e,t]]:r.isArray(e[0])||(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),u("order.listener()",function(e,t,n){return this.iterator("table",function(r){on(r,e,t,n)})}),u(["columns().order()","column().order()"],function(e){var t=this;return this.iterator("table",function(n,i){var s=[];r.each(t[i],function(t,n){s.push([n,e])}),n.aaSorting=s})}),u("search()",function(e,t,i,s){var o=this.context;return e===n?o.length!==0?o[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){if(!n.oFeatures.bFilter)return;Et(n,r.extend({},n.oPreviousSearch,{sSearch:e+"",bRegex:t===null?!1:t,bSmart:i===null?!0:i,bCaseInsensitive:s===null?!0:s}),1)})}),a("columns().search()","column().search()",function(e,t,i,s){return this.iterator("column",function(o,u){var a=o.aoPreSearchCols;if(e===n)return a[u].sSearch;if(!o.oFeatures.bFilter)return;r.extend(a[u],{sSearch:e+"",bRegex:t===null?!1:t,bSmart:i===null?!0:i,bCaseInsensitive:s===null?!0:s}),Et(o,o.oPreviousSearch,1)})}),u("state()",function(){return this.context.length?this.context[0].oSavedState:null}),u("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),u("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),u("state.save()",function(){return this.iterator("table",function(e){fn(e)})}),i.versionCheck=i.fnVersionCheck=function(e){var t=i.version.split("."),n=e.split("."),r,s;for(var o=0,u=n.length;o<u;o++){r=parseInt(t[o],10)||0,s=parseInt(n[o],10)||0;if(r===s)continue;return r>s}return!0},i.isDataTable=i.fnIsDataTable=function(e){var t=r(e).get(0),n=!1;return r.each(i.settings,function(e,r){if(r.nTable===t||r.nScrollHead===t||r.nScrollFoot===t)n=!0}),n},i.tables=i.fnTables=function(e){return jQuery.map(i.settings,function(t){if(!e||e&&r(t.nTable).is(":visible"))return t.nTable})},i.camelToHungarian=L,u("$()",function(e,t){var n=this.rows(t).nodes(),i=r(n);return r([].concat(i.filter(e).toArray(),i.find(e).toArray()))}),r.each(["on","one","off"],function(e,t){u(t+"()",function(){var e=Array.prototype.slice.call(arguments);e[0].match(/\.dt\b/)||(e[0]+=".dt");var n=r(this.tables().nodes());return n[t].apply(n,e),this})}),u("clear()",function(){return this.iterator("table",function(e){nt(e)})}),u("settings()",function(){return new o(this.context,this.context)}),u("data()",function(){return this.iterator("table",function(e){return S(e.aoData,"_aData")}).flatten()}),u("destroy()",function(t){return t=t||!1,this.iterator("table",function(n){var s=n.nTableWrapper.parentNode,u=n.oClasses,a=n.nTable,f=n.nTBody,l=n.nTHead,c=n.nTFoot,h=r(a),p=r(f),d=r(n.nTableWrapper),v=r.map(n.aoData,function(e){return e.nTr}),m,g;n.bDestroying=!0,gn(n,"aoDestroyCallback","destroy",[n]),t||(new o(n)).columns().visible(!0),d.unbind(".DT").find(":not(tbody *)").unbind(".DT"),r(e).unbind(".DT-"+n.sInstance),a!=l.parentNode&&(h.children("thead").detach(),h.append(l)),c&&a!=c.parentNode&&(h.children("tfoot").detach(),h.append(c)),h.detach(),d.detach(),n.aaSorting=[],n.aaSortingFixed=[],un(n),r(v).removeClass(n.asStripeClasses.join(" ")),r("th, td",l).removeClass(u.sSortable+" "+u.sSortableAsc+" "+u.sSortableDesc+" "+u.sSortableNone),n.bJUI&&(r("th span."+u.sSortIcon+", td span."+u.sSortIcon,l).detach(),r("th, td",l).each(function(){var e=r("div."+u.sSortJUIWrapper,this);r(this).append(e.contents()),e.detach()})),!t&&s&&s.insertBefore(a,n.nTableReinsertBefore),p.children().detach(),p.append(v),h.css("width",n.sDestroyWidth).removeClass(u.sTable),g=n.asDestroyStripes.length,g&&p.children().each(function(e){r(this).addClass(n.asDestroyStripes[e%g])});var y=r.inArray(n,i.settings);y!==-1&&i.settings.splice(y,1)})}),i.version="1.10.2",i.settings=[],i.models={},i.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},i.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},i.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},i.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((e.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(e.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:r.extend({},i.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},k(i.defaults),i.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},k(i.defaults.column),i.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return wn(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return wn(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,r=this.aiDisplay.length,i=this.oFeatures,s=i.bPaginate;return i.bServerSide?s===!1||e===-1?t+r:Math.min(t+e,this._iRecordsDisplay):!s||n>r||e===-1?r:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},i.ext=s={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:i.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:i.version},r.extend(s,{afnFiltering:s.search,aTypes:s.type.detect,ofnSearch:s.type.search,oSort:s.type.order,afnSortData:s.order,aoFeatures:s.feature,oApi:s.internal,oStdClasses:s.classes,oPagination:s.pager}),r.extend(i.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var e="";e="";var t=e+"ui-state-default",n=e+"css_right ui-icon ui-icon-",s=e+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";r.extend(i.ext.oJUIClasses,i.ext.classes,{sPageButton:"fg-button ui-button "+t,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:t+" sorting_asc",sSortDesc:t+" sorting_desc",sSortable:t+" sorting",sSortableAsc:t+" sorting_asc_disabled",sSortableDesc:t+" sorting_desc_disabled",sSortableNone:t+" sorting_disabled",sSortJUIAsc:n+"triangle-1-n",sSortJUIDesc:n+"triangle-1-s",sSortJUI:n+"carat-2-n-s",sSortJUIAscAllowed:n+"carat-1-n",sSortJUIDescAllowed:n+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+t,sScrollFoot:"dataTables_scrollFoot "+t,sHeaderTH:t,sFooterTH:t,sJUIHeader:s+" ui-corner-tl ui-corner-tr",sJUIFooter:s+" ui-corner-bl ui-corner-br"})}();var Un=i.ext.pager;r.extend(Un,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},simple_numbers:function(e,t){return["previous",zn(e,t),"next"]},full_numbers:function(e,t){return["first","previous",zn(e,t),"next","last"]},_numbers:zn,numbers_length:7}),r.extend(!0,i.ext.renderer,{pageButton:{_:function(e,n,i,s,o,u){var a=e.oClasses,f=e.oLanguage.oPaginate,l,c,h=0,p=function(t,n){var s,d,v,m,g=function(t){qt(e,t.data.action,!0)};for(s=0,d=n.length;s<d;s++){m=n[s];if(r.isArray(m)){var y=r("<"+(m.DT_el||"div")+"/>").appendTo(t);p(y,m)}else{l="",c="";switch(m){case"ellipsis":t.append("<span>&hellip;</span>");break;case"first":l=f.sFirst,c=m+(o>0?"":" "+a.sPageButtonDisabled);break;case"previous":l=f.sPrevious,c=m+(o>0?"":" "+a.sPageButtonDisabled);break;case"next":l=f.sNext,c=m+(o<u-1?"":" "+a.sPageButtonDisabled);break;case"last":l=f.sLast,c=m+(o<u-1?"":" "+a.sPageButtonDisabled);break;default:l=m+1,c=o===m?a.sPageButtonActive:""}l&&(v=r("<a>",{"class":a.sPageButton+" "+c,"aria-controls":e.sTableId,"data-dt-idx":h,tabindex:e.iTabIndex,id:i===0&&typeof m=="string"?e.sTableId+"_"+m:null}).html(l).appendTo(t),vn(v,{action:m},g),h++)}}};try{var d=r(t.activeElement).data("dt-idx");p(r(n).empty(),s),d!==null&&r(n).find("[data-dt-idx="+d+"]").focus()}catch(v){}}}});var Wn=function(e,t,n,r){return!e||e==="-"?-Infinity:(t&&(e=y(e,t)),e.replace&&(n&&(e=e.replace(n,"")),r&&(e=e.replace(r,""))),e*1)};return r.extend(s.type.order,{"date-pre":function(e){return Date.parse(e)||0},"html-pre":function(e){return m(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return m(e)?"":typeof e=="string"?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),Xn(""),r.extend(i.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return b(e,n)?"num"+n:null},function(e,t){if(e&&(!h.test(e)||!p.test(e)))return null;var n=Date.parse(e);return n!==null&&!isNaN(n)||m(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return b(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return E(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return E(e,n,!0)?"html-num-fmt"+n:null},function(e,t){return m(e)||typeof e=="string"&&e.indexOf("<")!==-1?"html":null}]),r.extend(i.ext.type.search,{html:function(e){return m(e)?e:typeof e=="string"?e.replace(l," ").replace(c,""):""},string:function(e){return m(e)?e:typeof e=="string"?e.replace(l," "):e}}),r.extend(!0,i.ext.renderer,{header:{_:function(e,t,n,i){r(e.nTable).on("order.dt.DT",function(r,s,o,u){if(e!==s)return;var a=n.idx;t.removeClass(n.sSortingClass+" "+i.sSortAsc+" "+i.sSortDesc).addClass(u[a]=="asc"?i.sSortAsc:u[a]=="desc"?i.sSortDesc:n.sSortingClass)})},jqueryui:function(e,t,n,i){var s=n.idx;r("<div/>").addClass(i.sSortJUIWrapper).append(t.contents()).append(r("<span/>").addClass(i.sSortIcon+" "+n.sSortingClassJUI)).appendTo(t),r(e.nTable).on("order.dt.DT",function(r,o,u,a){if(e!==o)return;t.removeClass(i.sSortAsc+" "+i.sSortDesc).addClass(a[s]=="asc"?i.sSortAsc:a[s]=="desc"?i.sSortDesc:n.sSortingClass),t.find("span."+i.sSortIcon).removeClass(i.sSortJUIAsc+" "+i.sSortJUIDesc+" "+i.sSortJUI+" "+i.sSortJUIAscAllowed+" "+i.sSortJUIDescAllowed).addClass(a[s]=="asc"?i.sSortJUIAsc:a[s]=="desc"?i.sSortJUIDesc:n.sSortingClassJUI)})}}}),i.render={number:function(e,t,n,r){return{display:function(i){var s=i<0?"-":"";i=Math.abs(parseFloat(i));var o=parseInt(i,10),u=n?t+(i-o).toFixed(n).substring(2):"";return s+(r||"")+o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+u}}}},r.extend(i.ext.internal,{_fnExternApiFunc:Vn,_fnBuildAjax:vt,_fnAjaxUpdate:mt,_fnAjaxParameters:gt,_fnAjaxUpdateDraw:yt,_fnAjaxDataSrc:bt,_fnAddColumn:H,_fnColumnOptions:B,_fnAdjustColumnSizing:j,_fnVisibleToColumnIndex:F,_fnColumnIndexToVisible:I,_fnVisbleColumns:q,_fnGetColumns:R,_fnColumnTypes:U,_fnApplyColumnDefs:z,_fnHungarianMap:k,_fnCamelToHungarian:L,_fnLanguageCompat:A,_fnBrowserDetect:D,_fnAddData:W,_fnAddTr:X,_fnNodeToDataIndex:V,_fnNodeToColumnIndex:$,_fnGetCellData:J,_fnSetCellData:K,_fnSplitObjNotation:Y,_fnGetObjectDataFn:Z,_fnSetObjectDataFn:et,_fnGetDataMaster:tt,_fnClearTable:nt,_fnDeleteIndex:rt,_fnInvalidateRow:it,_fnGetRowElements:st,_fnCreateTr:ot,_fnBuildHead:at,_fnDrawHead:ft,_fnDraw:lt,_fnReDraw:ct,_fnAddOptionsHtml:ht,_fnDetectHeader:pt,_fnGetUniqueThs:dt,_fnFeatureHtmlFilter:wt,_fnFilterComplete:Et,_fnFilterCustom:St,_fnFilterColumn:xt,_fnFilter:Tt,_fnFilterCreateSearch:Nt,_fnEscapeRegex:Ct,_fnFilterData:At,_fnFeatureHtmlInfo:_t,_fnUpdateInfo:Dt,_fnInfoMacros:Pt,_fnInitialise:Ht,_fnInitComplete:Bt,_fnLengthChange:jt,_fnFeatureHtmlLength:Ft,_fnFeatureHtmlPaginate:It,_fnPageChange:qt,_fnFeatureHtmlProcessing:Rt,_fnProcessingDisplay:Ut,_fnFeatureHtmlTable:zt,_fnScrollDraw:Wt,_fnApplyToChildren:Xt,_fnCalculateColumnWidths:$t,_fnThrottle:Jt,_fnConvertToWidth:Kt,_fnScrollingWidthAdjust:Qt,_fnGetWidestNode:Gt,_fnGetMaxLenString:Yt,_fnStringToCss:Zt,_fnScrollBarWidth:en,_fnSortFlatten:tn,_fnSort:nn,_fnSortAria:rn,_fnSortListener:sn,_fnSortAttachListener:on,_fnSortingClasses:un,_fnSortData:an,_fnSaveState:fn,_fnLoadState:ln,_fnSettingsFromNode:cn,_fnLog:hn,_fnMap:pn,_fnBindAction:vn,_fnCallbackReg:mn,_fnCallbackFire:gn,_fnLengthOverflow:yn,_fnRenderer:bn,_fnDataSource:wn,_fnRowAttributes:ut,_fnCalculateEnd:function(){}}),r.fn.dataTable=i,r.fn.dataTableSettings=i.settings,r.fn.dataTableExt=i.ext,r.fn.DataTable=function(e){return r(this).dataTable(e).api()},r.each(i,function(e,t){r.fn.DataTable[e]=t}),r.fn.dataTable})}(window,document),define("app/libs/DistrictDataFeed",["require","app/libs/DigitalGreenDataFeed","app/libs/DataModel"],function(e){var t=e("app/libs/DigitalGreenDataFeed"),n=e("app/libs/DataModel"),r=t.extend({constructor:function(e){this.base("api/getdistrict/");var t=this._dataModel.addSubModel("district",!0)},fetch:function(e){this.base()},_processData:function(e){this.base(e);var t=this._dataModel,n=t.get("district");return n.set("districtObj",e.district),e.district},setInputParam:function(e,t,n){var r=this.base(e,t);return r&&!n&&this.cleardistrictCache(),r},cleardistrictCache:function(){this._dataModel.get("district").clear()},getDistrict:function(){var e=this._dataModel.get("district"),t=e.get("districtObj");return t?t:(this.fetch(),!1)}});return r}),define("app/libs/BlockDataFeed",["require","app/libs/DigitalGreenDataFeed","app/libs/DataModel"],function(e){var t=e("app/libs/DigitalGreenDataFeed"),n=e("app/libs/DataModel"),r=t.extend({constructor:function(e){this.base("api/getblock/");var t=this._dataModel.addSubModel("block",!0)},fetch:function(e){this.base()},_processData:function(e){this.base(e);var t=this._dataModel,n=t.get("block");return n.set("blockObj",e.block),e.block},setInputParam:function(e,t,n){var r=this.base(e,t);return r&&!n&&this.clearblockCache(),r},clearblockCache:function(){this._dataModel.get("block").clear()},getBlock:function(){var e=this._dataModel.get("block"),t=e.get("blockObj");return t?t:(this.fetch(),!1)}});return r}),define("app/libs/VrpPaymentDataFeed",["require","app/libs/DigitalGreenDataFeed","app/libs/DataModel"],function(e){var t=e("app/libs/DigitalGreenDataFeed"),n=e("app/libs/DataModel"),r=t.extend({constructor:function(e){this.base("api/getReport/");var t=this._dataModel.addSubModel("vrppayment",!0)},fetch:function(e){this.base()},_processData:function(e){this.base(e);var t=this._dataModel,n=t.get("vrppayment");return n.set("vrppaymentObj",e.vrppayment),e.vrppayment},setInputParam:function(e,t,n){var r=this.base(e,t);return r&&!n&&this.clearvrppaymentCache(),r},clearvrppaymentCache:function(){this._dataModel.get("vrppayment").clear()},getReport:function(){var e=this._dataModel.get("vrppayment"),t=e.get("vrppaymentObj");return t?t:(this.fetch(),!1)}});return r});var TableTools;(function(e,t,n){var r=function(r,i){var s={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(e){return typeof e=="string"&&(e=t.getElementById(e)),e.addClass||(e.hide=function(){this.style.display="none"},e.show=function(){this.style.display=""},e.addClass=function(e){this.removeClass(e),this.className+=" "+e},e.removeClass=function(e){this.className=this.className.replace(new RegExp("\\s*"+e+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")},e.hasClass=function(e){return!!this.className.match(new RegExp("\\s*"+e+"\\s*"))}),e},setMoviePath:function(e){this.moviePath=e},dispatch:function(e,t,n){var r=this.clients[e];r&&r.receiveEvent(t,n)},register:function(e,t){this.clients[e]=t},getDOMObjectPosition:function(e){var t={left:0,top:0,width:e.width?e.width:e.offsetWidth,height:e.height?e.height:e.offsetHeight};e.style.width!==""&&(t.width=e.style.width.replace("px","")),e.style.height!==""&&(t.height=e.style.height.replace("px",""));while(e)t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;return t},Client:function(e){this.handlers={},this.id=s.nextId++,this.movieId="ZeroClipboard_TableToolsMovie_"+this.id,s.register(this.id,this),e&&this.glue(e)}};return s.Client.prototype={id:0,ready:!1,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:!0,cssEffects:!0,handlers:null,sized:!1,glue:function(e,n){this.domElement=s.$(e);var r=99;this.domElement.style.zIndex&&(r=parseInt(this.domElement.style.zIndex,10)+1);var i=s.getDOMObjectPosition(this.domElement);this.div=t.createElement("div");var o=this.div.style;o.position="absolute",o.left="0px",o.top="0px",o.width=i.width+"px",o.height=i.height+"px",o.zIndex=r,typeof n!="undefined"&&n!==""&&(this.div.title=n),i.width!==0&&i.height!==0&&(this.sized=!0),this.domElement&&(this.domElement.appendChild(this.div),this.div.innerHTML=this.getHTML(i.width,i.height).replace(/&/g,"&amp;"))},positionElement:function(){var e=s.getDOMObjectPosition(this.domElement),t=this.div.style;t.position="absolute",t.width=e.width+"px",t.height=e.height+"px";if(e.width===0||e.height===0)return;this.sized=!0;var n=this.div.childNodes[0];n.width=e.width,n.height=e.height},getHTML:function(e,t){var n="",r="id="+this.id+"&width="+e+"&height="+t;if(navigator.userAgent.match(/MSIE/)){var i=location.href.match(/^https/i)?"https://":"http://";n+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+i+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+e+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+s.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+r+'"/><param name="wmode" value="transparent"/></object>'}else n+='<embed id="'+this.movieId+'" src="'+s.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+e+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+r+'" wmode="transparent" />';return n},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var e=t.getElementsByTagName("body")[0];try{e.removeChild(this.div)}catch(n){}this.domElement=null,this.div=null}},reposition:function(e){e&&(this.domElement=s.$(e),this.domElement||this.hide());if(this.domElement&&this.div){var t=s.getDOMObjectPosition(this.domElement),n=this.div.style;n.left=""+t.left+"px",n.top=""+t.top+"px"}},clearText:function(){this.clipText="",this.ready&&this.movie.clearText()},appendText:function(e){this.clipText+=e,this.ready&&this.movie.appendText(e)},setText:function(e){this.clipText=e,this.ready&&this.movie.setText(e)},setCharSet:function(e){this.charSet=e,this.ready&&this.movie.setCharSet(e)},setBomInc:function(e){this.incBom=e,this.ready&&this.movie.setBomInc(e)},setFileName:function(e){this.fileName=e,this.ready&&this.movie.setFileName(e)},setAction:function(e){this.action=e,this.ready&&this.movie.setAction(e)},addEventListener:function(e,t){e=e.toString().toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)},setHandCursor:function(e){this.handCursorEnabled=e,this.ready&&this.movie.setHandCursor(e)},setCSSEffects:function(e){this.cssEffects=!!e},receiveEvent:function(n,r){var i;n=n.toString().toLowerCase().replace(/^on/,"");switch(n){case"load":this.movie=t.getElementById(this.movieId);if(!this.movie){i=this,setTimeout(function(){i.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){i=this,setTimeout(function(){i.receiveEvent("load",null)},100),this.ready=!0;return}this.ready=!0,this.movie.clearText(),this.movie.appendText(this.clipText),this.movie.setFileName(this.fileName),this.movie.setAction(this.action),this.movie.setCharSet(this.charSet),this.movie.setBomInc(this.incBom),this.movie.setHandCursor(this.handCursorEnabled);break;case"mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[n])for(var s=0,o=this.handlers[n].length;s<o;s++){var u=this.handlers[n][s];typeof u=="function"?u(this,r):typeof u=="object"&&u.length==2?u[0][u[1]](this,r):typeof u=="string"&&e[u](this,r)}}},e.ZeroClipboard_TableTools=s,function(e,t,r){TableTools=function(t,n){!this instanceof TableTools&&alert("Warning: TableTools must be initialised with the keyword 'new'");var r=e.fn.dataTable.Api?(new e.fn.dataTable.Api(t)).settings()[0]:t.fnSettings();return this.s={that:this,dt:r,print:{saveStart:-1,saveLength:-1,saveScroll:-1,funcEnd:function(){}},buttonCounter:0,select:{type:"",selected:[],preRowSelect:null,postSelected:null,postDeselected:null,all:!1,selectedClass:""},custom:{},swfPath:"",buttonSet:[],master:!1,tags:{}},this.dom={container:null,table:null,print:{hidden:[],message:null},collection:{collection:null,background:null}},this.classes=e.extend(!0,{},TableTools.classes),this.s.dt.bJUI&&e.extend(!0,this.classes,TableTools.classes_themeroller),this.fnSettings=function(){return this.s},typeof n=="undefined"&&(n={}),TableTools._aInstances.push(this),this._fnConstruct(n),this},TableTools.prototype={fnGetSelected:function(e){var t=[],n=this.s.dt.aoData,r=this.s.dt.aiDisplay,i,s;if(e)for(i=0,s=r.length;i<s;i++)n[r[i]]._DTTT_selected&&t.push(n[r[i]].nTr);else for(i=0,s=n.length;i<s;i++)n[i]._DTTT_selected&&t.push(n[i].nTr);return t},fnGetSelectedData:function(){var e=[],t=this.s.dt.aoData,n,r;for(n=0,r=t.length;n<r;n++)t[n]._DTTT_selected&&e.push(this.s.dt.oInstance.fnGetData(n));return e},fnGetSelectedIndexes:function(e){var t=[],n=this.s.dt.aoData,r=this.s.dt.aiDisplay,i,s;if(e)for(i=0,s=r.length;i<s;i++)n[r[i]]._DTTT_selected&&t.push(r[i]);else for(i=0,s=n.length;i<s;i++)n[i]._DTTT_selected&&t.push(i);return t},fnIsSelected:function(e){var t=this.s.dt.oInstance.fnGetPosition(e);return this.s.dt.aoData[t]._DTTT_selected===!0?!0:!1},fnSelectAll:function(e){this._fnRowSelect(e?this.s.dt.aiDisplay:this.s.dt.aoData)},fnSelectNone:function(e){this._fnRowDeselect(this.fnGetSelectedIndexes(e))},fnSelect:function(e){this.s.select.type=="single"?(this.fnSelectNone(),this._fnRowSelect(e)):this._fnRowSelect(e)},fnDeselect:function(e){this._fnRowDeselect(e)},fnGetTitle:function(e){var t="";if(typeof e.sTitle!="undefined"&&e.sTitle!=="")t=e.sTitle;else{var n=r.getElementsByTagName("title");n.length>0&&(t=n[0].innerHTML)}return"¡".toString().length<4?t.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""):t.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g,"")},fnCalcColRatios:function(e){var t=this.s.dt.aoColumns,n=this._fnColumnTargets(e.mColumns),r=[],i=0,s=0,o,u;for(o=0,u=n.length;o<u;o++)n[o]&&(i=t[o].nTh.offsetWidth,s+=i,r.push(i));for(o=0,u=r.length;o<u;o++)r[o]=r[o]/s;return r.join("	")},fnGetTableData:function(e){if(this.s.dt)return this._fnGetDataTablesData(e)},fnSetText:function(e,t){this._fnFlashSetText(e,t)},fnResizeButtons:function(){for(var e in s.clients)if(e){var t=s.clients[e];typeof t.domElement!="undefined"&&t.domElement.parentNode&&t.positionElement()}},fnResizeRequired:function(){for(var e in s.clients)if(e){var t=s.clients[e];if(typeof t.domElement!="undefined"&&t.domElement.parentNode==this.dom.container&&t.sized===!1)return!0}return!1},fnPrint:function(e,t){t===n&&(t={}),e===n||e?this._fnPrintStart(t):this._fnPrintEnd()},fnInfo:function(t,n){var r=e("<div/>").addClass(this.classes.print.info).html(t).appendTo("body");setTimeout(function(){r.fadeOut("normal",function(){r.remove()})},n)},fnContainer:function(){return this.dom.container},_fnConstruct:function(t){var n=this;this._fnCustomiseSettings(t),this.dom.container=r.createElement(this.s.tags.container),this.dom.container.className=this.classes.container,this.s.select.type!="none"&&this._fnRowSelectConfig(),this._fnButtonDefinations(this.s.buttonSet,this.dom.container),this.s.dt.aoDestroyCallback.push({sName:"TableTools",fn:function(){e(n.s.dt.nTBody).off("click.DTTT_Select","tr"),e(n.dom.container).empty();var t=e.inArray(n,TableTools._aInstances);t!==-1&&TableTools._aInstances.splice(t,1)}})},_fnCustomiseSettings:function(t){typeof this.s.dt._TableToolsInit=="undefined"&&(this.s.master=!0,this.s.dt._TableToolsInit=!0),this.dom.table=this.s.dt.nTable,this.s.custom=e.extend({},TableTools.DEFAULTS,t),this.s.swfPath=this.s.custom.sSwfPath,typeof s!="undefined"&&(s.moviePath=this.s.swfPath),this.s.select.type=this.s.custom.sRowSelect,this.s.select.preRowSelect=this.s.custom.fnPreRowSelect,this.s.select.postSelected=this.s.custom.fnRowSelected,this.s.select.postDeselected=this.s.custom.fnRowDeselected,this.s.custom.sSelectedClass&&(this.classes.select.row=this.s.custom.sSelectedClass),this.s.tags=this.s.custom.oTags,this.s.buttonSet=this.s.custom.aButtons},_fnButtonDefinations:function(t,n){var r;for(var i=0,s=t.length;i<s;i++){if(typeof t[i]=="string"){if(typeof TableTools.BUTTONS[t[i]]=="undefined"){alert("TableTools: Warning - unknown button type: "+t[i]);continue}r=e.extend({},TableTools.BUTTONS[t[i]],!0)}else{if(typeof TableTools.BUTTONS[t[i].sExtends]=="undefined"){alert("TableTools: Warning - unknown button type: "+t[i].sExtends);continue}var o=e.extend({},TableTools.BUTTONS[t[i].sExtends],!0);r=e.extend(o,t[i],!0)}var u=this._fnCreateButton(r,e(n).hasClass(this.classes.collection.container));u&&n.appendChild(u)}},_fnCreateButton:function(e,t){var n=this._fnButtonBase(e,t);if(e.sAction.match(/flash/)){if(!this._fnHasFlash())return!1;this._fnFlashConfig(n,e)}else e.sAction=="text"?this._fnTextConfig(n,e):e.sAction=="div"?this._fnTextConfig(n,e):e.sAction=="collection"&&(this._fnTextConfig(n,e),this._fnCollectionConfig(n,e));return n},_fnButtonBase:function(e,t){var n,i,s;t?(n=e.sTag&&e.sTag!=="default"?e.sTag:this.s.tags.collection.button,i=e.sLinerTag&&e.sLinerTag!=="default"?e.sLiner:this.s.tags.collection.liner,s=this.classes.collection.buttons.normal):(n=e.sTag&&e.sTag!=="default"?e.sTag:this.s.tags.button,i=e.sLinerTag&&e.sLinerTag!=="default"?e.sLiner:this.s.tags.liner,s=this.classes.buttons.normal);var o=r.createElement(n),u=r.createElement(i),a=this._fnGetMasterSettings();return o.className=s+" "+e.sButtonClass,o.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+a.buttonCounter),o.appendChild(u),u.innerHTML=e.sButtonText,a.buttonCounter++,o},_fnGetMasterSettings:function(){if(this.s.master)return this.s;var e=TableTools._aInstances;for(var t=0,n=e.length;t<n;t++)if(this.dom.table==e[t].s.dt.nTable)return e[t].s},_fnCollectionConfig:function(e,t){var n=r.createElement(this.s.tags.collection.container);n.style.display="none",n.className=this.classes.collection.container,t._collection=n,r.body.appendChild(n),this._fnButtonDefinations(t.aButtons,n)},_fnCollectionShow:function(n,i){var s=this,o=e(n).offset(),u=i._collection,a=o.left,f=o.top+e(n).outerHeight(),l=e(t).height(),c=e(r).height(),h=e(t).width(),p=e(r).width();u.style.position="absolute",u.style.left=a+"px",u.style.top=f+"px",u.style.display="block",e(u).css("opacity",0);var d=r.createElement("div");d.style.position="absolute",d.style.left="0px",d.style.top="0px",d.style.height=(l>c?l:c)+"px",d.style.width=(h>p?h:p)+"px",d.className=this.classes.collection.background,e(d).css("opacity",0),r.body.appendChild(d),r.body.appendChild(u);var v=e(u).outerWidth(),m=e(u).outerHeight();a+v>p&&(u.style.left=p-v+"px"),f+m>c&&(u.style.top=f-m-e(n).outerHeight()+"px"),this.dom.collection.collection=u,this.dom.collection.background=d,setTimeout(function(){e(u).animate({opacity:1},500),e(d).animate({opacity:.25},500)},10),this.fnResizeButtons(),e(d).click(function(){s._fnCollectionHide.call(s,null,null)})},_fnCollectionHide:function(t,n){if(n!==null&&n.sExtends=="collection")return;this.dom.collection.collection!==null&&(e(this.dom.collection.collection).animate({opacity:0},500,function(e){this.style.display="none"}),e(this.dom.collection.background).animate({opacity:0},500,function(e){this.parentNode.removeChild(this)}),this.dom.collection.collection=null,this.dom.collection.background=null)},_fnRowSelectConfig:function(){if(this.s.master){var t=this,n,r,i=this.s.dt,s=this.s.dt.aoOpenRows;e(i.nTable).addClass(this.classes.select.table),this.s.select.type==="os"&&(e(i.nTBody).on("mousedown.DTTT_Select","tr",function(t){t.shiftKey&&e(i.nTBody).css("-moz-user-select","none").one("selectstart.DTTT_Select","tr",function(){return!1})}),e(i.nTBody).on("mouseup.DTTT_Select","tr",function(t){e(i.nTBody).css("-moz-user-select","")})),e(i.nTBody).on("click.DTTT_Select",this.s.custom.sRowSelector,function(n){var r=this.nodeName.toLowerCase()==="tr"?this:e(this).parents("tr")[0],s=t.s.select,o=t.s.dt.oInstance.fnGetPosition(r);if(r.parentNode!=i.nTBody)return;if(i.oInstance.fnGetData(r)===null)return;if(s.type=="os")if(n.ctrlKey||n.metaKey)t.fnIsSelected(r)?t._fnRowDeselect(r,n):t._fnRowSelect(r,n);else if(n.shiftKey){var u=t.s.dt.aiDisplay.slice(),a=e.inArray(s.lastRow,u),f=e.inArray(o,u);if(t.fnGetSelected().length===0||a===-1)u.splice(e.inArray(o,u)+1,u.length);else{if(a>f){var l=f;f=a,a=l}u.splice(f+1,u.length),u.splice(0,a)}t.fnIsSelected(r)?(u.splice(e.inArray(o,u),1),t._fnRowDeselect(u,n)):t._fnRowSelect(u,n)}else t.fnIsSelected(r)&&t.fnGetSelected().length===1?t._fnRowDeselect(r,n):(t.fnSelectNone(),t._fnRowSelect(r,n));else t.fnIsSelected(r)?t._fnRowDeselect(r,n):s.type=="single"?(t.fnSelectNone(),t._fnRowSelect(r,n)):s.type=="multi"&&t._fnRowSelect(r,n);s.lastRow=o}),i.oApi._fnCallbackReg(i,"aoRowCreatedCallback",function(n,r,s){i.aoData[s]._DTTT_selected&&e(n).addClass(t.classes.select.row)},"TableTools-SelectAll")}},_fnRowSelect:function(t,n){var r=this,i=this._fnSelectData(t),s=i.length===0?null:i[0].nTr,o=[],u,a;for(u=0,a=i.length;u<a;u++)i[u].nTr&&o.push(i[u].nTr);if(this.s.select.preRowSelect!==null&&!this.s.select.preRowSelect.call(this,n,o,!0))return;for(u=0,a=i.length;u<a;u++)i[u]._DTTT_selected=!0,i[u].nTr&&e(i[u].nTr).addClass(r.classes.select.row);this.s.select.postSelected!==null&&this.s.select.postSelected.call(this,o),TableTools._fnEventDispatch(this,"select",o,!0)},_fnRowDeselect:function(t,n){var r=this,i=this._fnSelectData(t),s=i.length===0?null:i[0].nTr,o=[],u,a;for(u=0,a=i.length;u<a;u++)i[u].nTr&&o.push(i[u].nTr);if(this.s.select.preRowSelect!==null&&!this.s.select.preRowSelect.call(this,n,o,!1))return;for(u=0,a=i.length;u<a;u++)i[u]._DTTT_selected=!1,i[u].nTr&&e(i[u].nTr).removeClass(r.classes.select.row);this.s.select.postDeselected!==null&&this.s.select.postDeselected.call(this,o),TableTools._fnEventDispatch(this,"select",o,!1)},_fnSelectData:function(e){var t=[],n,r,i;if(e.nodeName)n=this.s.dt.oInstance.fnGetPosition(e),t.push(this.s.dt.aoData[n]);else{if(typeof e.length!="undefined"){for(r=0,i=e.length;r<i;r++)e[r].nodeName?(n=this.s.dt.oInstance.fnGetPosition(e[r]),t.push(this.s.dt.aoData[n])):typeof e[r]=="number"?t.push(this.s.dt.aoData[e[r]]):t.push(e[r]);return t}t.push(e)}return t},_fnTextConfig:function(t,n){var r=this;n.fnInit!==null&&n.fnInit.call(this,t,n),n.sToolTip!==""&&(t.title=n.sToolTip),e(t).hover(function(){n.fnMouseover!==null&&n.fnMouseover.call(this,t,n,null)},function(){n.fnMouseout!==null&&n.fnMouseout.call(this,t,n,null)}),n.fnSelect!==null&&TableTools._fnEventListen(this,"select",function(e){n.fnSelect.call(r,t,n,e)}),e(t).click(function(e){n.fnClick!==null&&n.fnClick.call(r,t,n,null,e),n.fnComplete!==null&&n.fnComplete.call(r,t,n,null,null),r._fnCollectionHide(t,n)})},_fnHasFlash:function(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]!==n&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0}return!1},_fnFlashConfig:function(e,t){var n=this,r=new s.Client;t.fnInit!==null&&t.fnInit.call(this,e,t),r.setHandCursor(!0),t.sAction=="flash_save"?(r.setAction("save"),r.setCharSet(t.sCharSet=="utf16le"?"UTF16LE":"UTF8"),r.setBomInc(t.bBomInc),r.setFileName(t.sFileName.replace("*",this.fnGetTitle(t)))):t.sAction=="flash_pdf"?(r.setAction("pdf"),r.setFileName(t.sFileName.replace("*",this.fnGetTitle(t)))):r.setAction("copy"),r.addEventListener("mouseOver",function(i){t.fnMouseover!==null&&t.fnMouseover.call(n,e,t,r)}),r.addEventListener("mouseOut",function(i){t.fnMouseout!==null&&t.fnMouseout.call(n,e,t,r)}),r.addEventListener("mouseDown",function(i){t.fnClick!==null&&t.fnClick.call(n,e,t,r)}),r.addEventListener("complete",function(i,s){t.fnComplete!==null&&t.fnComplete.call(n,e,t,r,s),n._fnCollectionHide(e,t)}),this._fnFlashGlue(r,e,t.sToolTip)},_fnFlashGlue:function(e,t,n){var i=this,s=t.getAttribute("id");r.getElementById(s)?e.glue(t,n):setTimeout(function(){i._fnFlashGlue(e,t,n)},100)},_fnFlashSetText:function(e,t){var n=this._fnChunkData(t,8192);e.clearText();for(var r=0,i=n.length;r<i;r++)e.appendText(n[r])},_fnColumnTargets:function(e){var t=[],n=this.s.dt,r,i;if(typeof e=="object"){for(r=0,i=n.aoColumns.length;r<i;r++)t.push(!1);for(r=0,i=e.length;r<i;r++)t[e[r]]=!0}else if(e=="visible")for(r=0,i=n.aoColumns.length;r<i;r++)t.push(n.aoColumns[r].bVisible?!0:!1);else if(e=="hidden")for(r=0,i=n.aoColumns.length;r<i;r++)t.push(n.aoColumns[r].bVisible?!1:!0);else if(e=="sortable")for(r=0,i=n.aoColumns.length;r<i;r++)t.push(n.aoColumns[r].bSortable?!0:!1);else for(r=0,i=n.aoColumns.length;r<i;r++)t.push(!0);return t},_fnNewline:function(e){return e.sNewLine=="auto"?navigator.userAgent.match(/Windows/)?"\r\n":"\n":e.sNewLine},_fnGetDataTablesData:function(t){var n,r,i,s,o,u=[],a="",f,l=this.s.dt,c,h,p=new RegExp(t.sFieldBoundary,"g"),d=this._fnColumnTargets(t.mColumns),v=typeof t.bSelectedOnly!="undefined"?t.bSelectedOnly:!1;if(t.bHeader){o=[];for(n=0,r=l.aoColumns.length;n<r;n++)d[n]&&(a=l.aoColumns[n].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),a=this._fnHtmlDecode(a),o.push(this._fnBoundData(a,t.sFieldBoundary,p)));u.push(o.join(t.sFieldSeperator))}var m=this.fnGetSelected();v=this.s.select.type!=="none"&&v&&m.length!==0;var g=e.fn.dataTable.Api,y=g?(new g(l)).rows(t.oSelectorOpts).indexes().flatten().toArray():l.oInstance.$("tr",t.oSelectorOpts).map(function(t,n){return v&&e.inArray(n,m)===-1?null:l.oInstance.fnGetPosition(n)}).get();for(i=0,s=y.length;i<s;i++){c=l.aoData[y[i]].nTr,o=[];for(n=0,r=l.aoColumns.length;n<r;n++)if(d[n]){var b=l.oApi._fnGetCellData(l,y[i],n,"display");t.fnCellRender?a=t.fnCellRender(b,n,c,y[i])+"":typeof b=="string"?(a=b.replace(/\n/g," "),a=a.replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi,"$1$2$3"),a=a.replace(/<.*?>/g,"")):a=b+"",a=a.replace(/^\s+/,"").replace(/\s+$/,""),a=this._fnHtmlDecode(a),o.push(this._fnBoundData(a,t.sFieldBoundary,p))}u.push(o.join(t.sFieldSeperator)),t.bOpenRows&&(f=e.grep(l.aoOpenRows,function(e){return e.nParent===c}),f.length===1&&(a=this._fnBoundData(e("td",f[0].nTr).html(),t.sFieldBoundary,p),u.push(a)))}if(t.bFooter&&l.nTFoot!==null){o=[];for(n=0,r=l.aoColumns.length;n<r;n++)d[n]&&l.aoColumns[n].nTf!==null&&(a=l.aoColumns[n].nTf.innerHTML.replace(/\n/g," ").replace(/<.*?>/g,""),a=this._fnHtmlDecode(a),o.push(this._fnBoundData(a,t.sFieldBoundary,p)));u.push(o.join(t.sFieldSeperator))}var w=u.join(this._fnNewline(t));return w},_fnBoundData:function(e,t,n){return t===""?e:t+e.replace(n,t+t)+t},_fnChunkData:function(e,t){var n=[],r=e.length;for(var i=0;i<r;i+=t)i+t<r?n.push(e.substring(i,i+t)):n.push(e.substring(i,r));return n},_fnHtmlDecode:function(e){if(e.indexOf("&")===-1)return e;var t=r.createElement("div");return e.replace(/&([^\s]*?);/g,function(e,n){return e.substr(1,1)==="#"?String.fromCharCode(Number(n.substr(1))):(t.innerHTML=e,t.childNodes[0].nodeValue)})},_fnPrintStart:function(n){var i=this,s=this.s.dt;this._fnPrintHideNodes(s.nTable),this.s.print.saveStart=s._iDisplayStart,this.s.print.saveLength=s._iDisplayLength,n.bShowAll&&(s._iDisplayStart=0,s._iDisplayLength=-1,s.oApi._fnCalculateEnd&&s.oApi._fnCalculateEnd(s),s.oApi._fnDraw(s));if(s.oScroll.sX!==""||s.oScroll.sY!=="")this._fnPrintScrollStart(s),e(this.s.dt.nTable).bind("draw.DTTT_Print",function(){i._fnPrintScrollStart(s)});var o=s.aanFeatures;for(var u in o)if(u!="i"&&u!="t"&&u.length==1)for(var a=0,f=o[u].length;a<f;a++)this.dom.print.hidden.push({node:o[u][a],display:"block"}),o[u][a].style.display="none";e(r.body).addClass(this.classes.print.body),n.sInfo!==""&&this.fnInfo(n.sInfo,3e3),n.sMessage&&e("<div/>").addClass(this.classes.print.message).html(n.sMessage).prependTo("body"),this.s.print.saveScroll=e(t).scrollTop(),t.scrollTo(0,0),e(r).bind("keydown.DTTT",function(e){e.keyCode==27&&(e.preventDefault(),i._fnPrintEnd.call(i,e))})},_fnPrintEnd:function(n){var i=this,s=this.s.dt,o=this.s.print,u=this.dom.print;this._fnPrintShowNodes();if(s.oScroll.sX!==""||s.oScroll.sY!=="")e(this.s.dt.nTable).unbind("draw.DTTT_Print"),this._fnPrintScrollEnd();t.scrollTo(0,o.saveScroll),e("div."+this.classes.print.message).remove(),e(r.body).removeClass("DTTT_Print"),s._iDisplayStart=o.saveStart,s._iDisplayLength=o.saveLength,s.oApi._fnCalculateEnd&&s.oApi._fnCalculateEnd(s),s.oApi._fnDraw(s),e(r).unbind("keydown.DTTT")},_fnPrintScrollStart:function(){var t=this.s.dt,n=t.nScrollHead.getElementsByTagName("div")[0],r=n.getElementsByTagName("table")[0],i=t.nTable.parentNode,s,o;s=t.nTable.getElementsByTagName("thead"),s.length>0&&t.nTable.removeChild(s[0]),t.nTFoot!==null&&(o=t.nTable.getElementsByTagName("tfoot"),o.length>0&&t.nTable.removeChild(o[0])),s=t.nTHead.cloneNode(!0),t.nTable.insertBefore(s,t.nTable.childNodes[0]),t.nTFoot!==null&&(o=t.nTFoot.cloneNode(!0),t.nTable.insertBefore(o,t.nTable.childNodes[1])),t.oScroll.sX!==""&&(t.nTable.style.width=e(t.nTable).outerWidth()+"px",i.style.width=e(t.nTable).outerWidth()+"px",i.style.overflow="visible"),t.oScroll.sY!==""&&(i.style.height=e(t.nTable).outerHeight()+"px",i.style.overflow="visible")},_fnPrintScrollEnd:function(){var e=this.s.dt,t=e.nTable.parentNode;e.oScroll.sX!==""&&(t.style.width=e.oApi._fnStringToCss(e.oScroll.sX),t.style.overflow="auto"),e.oScroll.sY!==""&&(t.style.height=e.oApi._fnStringToCss(e.oScroll.sY),t.style.overflow="auto")},_fnPrintShowNodes:function(){var e=this.dom.print.hidden;for(var t=0,n=e.length;t<n;t++)e[t].node.style.display=e[t].display;e.splice(0,e.length)},_fnPrintHideNodes:function(t){var n=this.dom.print.hidden,r=t.parentNode,i=r.childNodes;for(var s=0,o=i.length;s<o;s++)if(i[s]!=t&&i[s].nodeType==1){var u=e(i[s]).css("display");u!="none"&&(n.push({node:i[s],display:u}),i[s].style.display="none")}r.nodeName.toUpperCase()!="BODY"&&this._fnPrintHideNodes(r)}},TableTools._aInstances=[],TableTools._aListeners=[],TableTools.fnGetMasters=function(){var e=[];for(var t=0,n=TableTools._aInstances.length;t<n;t++)TableTools._aInstances[t].s.master&&e.push(TableTools._aInstances[t]);return e},TableTools.fnGetInstance=function(e){typeof e!="object"&&(e=r.getElementById(e));for(var t=0,n=TableTools._aInstances.length;t<n;t++)if(TableTools._aInstances[t].s.master&&TableTools._aInstances[t].dom.table==e)return TableTools._aInstances[t];return null},TableTools._fnEventListen=function(e,t,n){TableTools._aListeners.push({that:e,type:t,fn:n})},TableTools._fnEventDispatch=function(e,t,n,r){var i=TableTools._aListeners;for(var s=0,o=i.length;s<o;s++)e.dom.table==i[s].that.dom.table&&i[s].type==t&&i[s].fn(n,r)},TableTools.buttonBase={sAction:"text",sTag:"default",sLinerTag:"default",sButtonClass:"DTTT_button_text",sButtonText:"Button text",sTitle:"",sToolTip:"",sCharSet:"utf8",bBomInc:!1,sFileName:"*.csv",sFieldBoundary:"",sFieldSeperator:"	",sNewLine:"auto",mColumns:"all",bHeader:!0,bFooter:!0,bOpenRows:!1,bSelectedOnly:!1,oSelectorOpts:n,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null},TableTools.BUTTONS={csv:e.extend({},TableTools.buttonBase,{sAction:"flash_save",sButtonClass:"DTTT_button_csv",sButtonText:"CSV",sFieldBoundary:'"',sFieldSeperator:",",fnClick:function(e,t,n){this.fnSetText(n,this.fnGetTableData(t))}}),xls:e.extend({},TableTools.buttonBase,{sAction:"flash_save",sCharSet:"utf16le",bBomInc:!0,sButtonClass:"DTTT_button_xls",sButtonText:"Excel",fnClick:function(e,t,n){this.fnSetText(n,this.fnGetTableData(t))}}),copy:e.extend({},TableTools.buttonBase,{sAction:"flash_copy",sButtonClass:"DTTT_button_copy",sButtonText:"Copy",fnClick:function(e,t,n){this.fnSetText(n,this.fnGetTableData(t))},fnComplete:function(e,t,n,r){var i=r.split("\n").length;t.bHeader&&i--,this.s.dt.nTFoot!==null&&t.bFooter&&i--;var s=i==1?"":"s";this.fnInfo("<h6>Table copied</h6><p>Copied "+i+" row"+s+" to the clipboard.</p>",1500)}}),pdf:e.extend({},TableTools.buttonBase,{sAction:"flash_pdf",sNewLine:"\n",sFileName:"*.pdf",sButtonClass:"DTTT_button_pdf",sButtonText:"PDF",sPdfOrientation:"portrait",sPdfSize:"A4",sPdfMessage:"",fnClick:function(e,t,n){this.fnSetText(n,"title:"+this.fnGetTitle(t)+"\n"+"message:"+t.sPdfMessage+"\n"+"colWidth:"+this.fnCalcColRatios(t)+"\n"+"orientation:"+t.sPdfOrientation+"\n"+"size:"+t.sPdfSize+"\n"+"--/TableToolsOpts--\n"+this.fnGetTableData(t))}}),print:e.extend({},TableTools.buttonBase,{sInfo:"<h6>Print view</h6><p>Please use your browser's print function to print this table. Press escape when finished.</p>",sMessage:null,bShowAll:!0,sToolTip:"View print view",sButtonClass:"DTTT_button_print",sButtonText:"Print",fnClick:function(e,t){this.fnPrint(!0,t)}}),text:e.extend({},TableTools.buttonBase),select:e.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t,n){this.fnGetSelected().length!==0?e(t).removeClass(this.classes.buttons.disabled):e(t).addClass(this.classes.buttons.disabled)},fnInit:function(t,n){e(t).addClass(this.classes.buttons.disabled)}}),select_single:e.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t,n){var r=this.fnGetSelected().length;r==1?e(t).removeClass(this.classes.buttons.disabled):e(t).addClass(this.classes.buttons.disabled)},fnInit:function(t,n){e(t).addClass(this.classes.buttons.disabled)}}),select_all:e.extend({},TableTools.buttonBase,{sButtonText:"Select all",fnClick:function(e,t){this.fnSelectAll()},fnSelect:function(t,n){this.fnGetSelected().length==this.s.dt.fnRecordsDisplay()?e(t).addClass(this.classes.buttons.disabled):e(t).removeClass(this.classes.buttons.disabled)}}),select_none:e.extend({},TableTools.buttonBase,{sButtonText:"Deselect all",fnClick:function(e,t){this.fnSelectNone()},fnSelect:function(t,n){this.fnGetSelected().length!==0?e(t).removeClass(this.classes.buttons.disabled):e(t).addClass(this.classes.buttons.disabled)},fnInit:function(t,n){e(t).addClass(this.classes.buttons.disabled)}}),ajax:e.extend({},TableTools.buttonBase,{sAjaxUrl:"/xhr.php",sButtonText:"Ajax button",fnClick:function(t,n){var r=this.fnGetTableData(n);e.ajax({url:n.sAjaxUrl,data:[{name:"tableData",value:r}],success:n.fnAjaxComplete,dataType:"json",type:"POST",cache:!1,error:function(){alert("Error detected when sending table data to server")}})},fnAjaxComplete:function(e){alert("Ajax complete")}}),div:e.extend({},TableTools.buttonBase,{sAction:"div",sTag:"div",sButtonClass:"DTTT_nonbutton",sButtonText:"Text button"}),collection:e.extend({},TableTools.buttonBase,{sAction:"collection",sButtonClass:"DTTT_button_collection",sButtonText:"Collection",fnClick:function(e,t){this._fnCollectionShow(e,t)}})},TableTools.buttons=TableTools.BUTTONS,TableTools.classes={container:"DTTT_container",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"},collection:{container:"DTTT_collection",background:"DTTT_collection_background",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"}},select:{table:"DTTT_selectable",row:"DTTT_selected selected"},print:{body:"DTTT_Print",info:"DTTT_print_info",message:"DTTT_PrintMessage"}},TableTools.classes_themeroller={container:"DTTT_container ui-buttonset ui-buttonset-multi",buttons:{normal:"DTTT_button ui-button ui-state-default"},collection:{container:"DTTT_collection ui-buttonset ui-buttonset-multi"}},TableTools.DEFAULTS={sSwfPath:"../swf/copy_csv_xls_pdf.swf",sRowSelect:"none",sRowSelector:"tr",sSelectedClass:null,fnPreRowSelect:null,fnRowSelected:null,fnRowDeselected:null,aButtons:["copy","csv","xls","pdf","print"],oTags:{container:"div",button:"a",liner:"span",collection:{container:"div",button:"a",liner:"span"}}},TableTools.defaults=TableTools.DEFAULTS,TableTools.prototype.CLASS="TableTools",TableTools.version="2.2.2",e.fn.dataTable.Api&&e.fn.dataTable.Api.register("tabletools()",function(){var e=null;return this.context.length>0&&(e=TableTools.fnGetInstance(this.context[0].nTable)),e}),typeof e.fn.dataTable=="function"&&typeof e.fn.dataTableExt.fnVersionCheck=="function"&&e.fn.dataTableExt.fnVersionCheck("1.9.0")?e.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t=e.oInit,n=t?t.tableTools||t.oTableTools||{}:{};return(new TableTools(e.oInstance,n)).dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools requires DataTables 1.9.0 or newer - www.datatables.net/download"),e.fn.DataTable.TableTools=TableTools}(jQuery,e,t),typeof r.fn.dataTable=="function"&&typeof r.fn.dataTableExt.fnVersionCheck=="function"&&r.fn.dataTableExt.fnVersionCheck("1.9.0")?r.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t=typeof e.oInit.oTableTools!="undefined"?e.oInit.oTableTools:{},n=new TableTools(e.oInstance,t);return TableTools._aInstances.push(n),n.dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools 2 requires DataTables 1.9.0 or newer - www.datatables.net/download"),r.fn.dataTable.TableTools=TableTools,r.fn.DataTable.TableTools=TableTools,TableTools};typeof define=="function"&&define.amd?define("TableTools",["jquery","datatables"],r):typeof exports=="object"?r(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.TableTools&&r(jQuery,jQuery.fn.dataTable)})(window,document),function(e){var t={init:function(t){return this.each(function(){var n=e(this),r=n.data("monthpicker"),i=t&&t.year?t.year:(new Date).getFullYear(),s=e.extend({pattern:"mm/yyyy",selectedMonth:null,selectedMonthName:"",selectedYear:i,startYear:i-10,finalYear:i+10,monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],id:"monthpicker_"+(Math.random()*Math.random()).toString().replace(".",""),openOnFocus:!0,disabledMonths:[]},t);s.dateSeparator=s.pattern.replace(/(mmm|mm|m|yyyy|yy|y)/ig,""),r||(e(this).data("monthpicker",{target:n,settings:s}),s.openOnFocus===!0&&n.on("focus",function(){n.monthpicker("show")}),n.monthpicker("parseInputValue",s),n.monthpicker("mountWidget",s),n.on("monthpicker-click-month",function(e,t,r){n.monthpicker("setValue",s),n.monthpicker("hide")}),n.addClass("mtz-monthpicker-widgetcontainer"),e(document).unbind("mousedown.mtzmonthpicker").on("mousedown.mtzmonthpicker",function(t){(!t.target.className||t.target.className.toString().indexOf("mtz-monthpicker")<0)&&e(this).monthpicker("hideAll")}))})},show:function(){e(this).monthpicker("hideAll");var t=e("#"+this.data("monthpicker").settings.id);t.css("top",this.offset().top+this.outerHeight()),e(window).width()>t.width()+this.offset().left?t.css("left",this.offset().left):t.css("left",this.offset().left-t.width()),t.show(),t.find("select").focus(),this.trigger("monthpicker-show")},hide:function(){var t=e("#"+this.data("monthpicker").settings.id);t.is(":visible")&&(t.hide(),this.trigger("monthpicker-hide"))},hideAll:function(){e(".mtz-monthpicker-widgetcontainer").each(function(){typeof e(this).data("monthpicker")!="undefined"&&e(this).monthpicker("hide")})},setValue:function(e){var t=e.selectedMonth,n=e.selectedYear;e.pattern.indexOf("mmm")>=0?t=e.selectedMonthName:e.pattern.indexOf("mm")>=0&&e.selectedMonth<10&&(t="0"+e.selectedMonth),e.pattern.indexOf("yyyy")<0&&(n=n.toString().substr(2,2)),e.pattern.indexOf("y")>e.pattern.indexOf(e.dateSeparator)?this.val(t+e.dateSeparator+n):this.val(n+e.dateSeparator+t),this.change()},disableMonths:function(t){var n=this.data("monthpicker").settings,r=e("#"+n.id);n.disabledMonths=t,r.find(".mtz-monthpicker-month").each(function(){var n=parseInt(e(this).data("month"));e.inArray(n,t)>=0?e(this).addClass("ui-state-disabled"):e(this).removeClass("ui-state-disabled")})},mountWidget:function(t){var n=this,r=e('<div id="'+t.id+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all" />'),i=e('<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix ui-corner-all mtz-monthpicker" />'),s=e('<select class="mtz-monthpicker mtz-monthpicker-year" />'),o=e('<table class="mtz-monthpicker" />'),u=e('<tbody class="mtz-monthpicker" />'),a=e('<tr class="mtz-monthpicker" />'),f="",l=t.selectedYear,c=null,h=e(this).data("selected-year"),p=e(this).data("start-year"),d=e(this).data("final-year");h&&(t.selectedYear=h),p&&(t.startYear=p),d&&(t.finalYear=d),r.css({position:"absolute",zIndex:999999,whiteSpace:"nowrap",width:"250px",overflow:"hidden",textAlign:"center",display:"none",top:n.offset().top+n.outerHeight(),left:n.offset().left}),s.on("change",function(){var r=e(this).parent().parent().find("td[data-month]");r.removeClass("ui-state-active"),e(this).val()==t.selectedYear&&r.filter("td[data-month="+t.selectedMonth+"]").addClass("ui-state-active"),n.trigger("monthpicker-change-year",e(this).val())});for(var v=t.startYear;v<=t.finalYear;v++){var c=e('<option class="mtz-monthpicker" />').attr("value",v).append(v);t.selectedYear==v&&c.attr("selected","selected"),s.append(c)}i.append(s).appendTo(r);for(var v=1;v<=12;v++)f=e('<td class="ui-state-default mtz-monthpicker mtz-monthpicker-month" style="padding:5px;cursor:default;" />').attr("data-month",v),t.selectedMonth==v&&f.addClass("ui-state-active"),f.append(t.monthNames[v-1]),a.append(f).appendTo(u),v%3===0&&(a=e('<tr class="mtz-monthpicker" />'));u.find(".mtz-monthpicker-month").on("click",function(){var r=parseInt(e(this).data("month"));e.inArray(r,t.disabledMonths)<0&&(t.selectedYear=e(this).closest(".ui-datepicker").find(".mtz-monthpicker-year").first().val(),t.selectedMonth=e(this).data("month"),t.selectedMonthName=e(this).text(),n.trigger("monthpicker-click-month",e(this).data("month")),e(this).closest("table").find(".ui-state-active").removeClass("ui-state-active"),e(this).addClass("ui-state-active"))}),o.append(u).appendTo(r),r.appendTo("body")},destroy:function(){return this.each(function(){e(this).removeClass("mtz-monthpicker-widgetcontainer").unbind("focus").removeData("monthpicker")})},getDate:function(){var e=this.data("monthpicker").settings;return e.selectedMonth&&e.selectedYear?new Date(e.selectedYear,e.selectedMonth-1):null},parseInputValue:function(e){if(this.val()&&e.dateSeparator){var t=this.val().toString().split(e.dateSeparator);e.pattern.indexOf("m")===0?(e.selectedMonth=t[0],e.selectedYear=t[1]):(e.selectedMonth=t[1],e.selectedYear=t[0])}}};e.fn.monthpicker=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.mtz.monthpicker")}}(jQuery),define("libs/external/jquery.mtz.monthpicker",function(){}),define("text!app/views/district.html",[],function(){return"                                    <select id = \"districtlist\" class=\"chosen-select js-video-criteria js-districtlist\">\r\n                                        <option value='' selected='selected'>---------</option>\r\n                                        {{#district}}\r\n                                        <option value = {{id}}>{{district_name}}</option>\r\n                                        {{/district}}\r\n                                    </select>\r\n                                    \r\n                                    \r\n                                    \r\n                                    "}),define("text!app/views/block.html",[],function(){return"                                    <select id = \"blocklist\" class=\"chosen-select js-video-criteria js-blocklist\">\r\n                                        <option value='' selected='selected'>---------</option>\r\n                                        {{#block}}\r\n                                        <option value = {{id}}>{{block_name}}</option>\r\n                                        {{/block}}\r\n                                    </select>\r\n                                    \r\n                                    \r\n                                    \r\n                                    "}),define("app/view-controllers/VrpPaymentViewController",["require","framework/controllers/Controller","framework/ViewRenderer","jquery","libs/external/jquery.blockUI","libs/external/select2","libs/external/highcharts","datatables","app/libs/DistrictDataFeed","app/libs/BlockDataFeed","app/libs/VrpPaymentDataFeed","TableTools","libs/external/jquery.mtz.monthpicker","text!app/views/district.html","text!app/views/block.html"],function(e){var t=e("framework/controllers/Controller"),n=e("framework/ViewRenderer"),r=e("jquery"),i=e("libs/external/jquery.blockUI"),s=e("libs/external/select2"),o=e("libs/external/highcharts"),u=e("datatables"),a=e("app/libs/DistrictDataFeed"),f=e("app/libs/BlockDataFeed"),l=e("app/libs/VrpPaymentDataFeed"),c=e("TableTools"),h=e("libs/external/jquery.mtz.monthpicker"),p=e("text!app/views/district.html"),d=e("text!app/views/block.html"),v=t.extend({constructor:function(e){return this.base(e),this.initSelect2(),this},_initReferences:function(e){this.base();var t=this._references;t.districtdataFeed=new a,t.blockdataFeed=new f,t.vrppaymentdataFeed=new l,t.$analyticsWrapper=e,t.$districtContainer=e.find(".js-district-container"),t.$blockContainer=e.find(".js-block-container"),t.$goButton=e.find(".js-go-btn"),t.$partnerList=e.find(".js-partnerlist"),t.$loadingTable=e.find("#loading"),t.$reportTable=e.find("#paymenttable"),t.$startPeriod=e.find(".js-startperiod"),t.$endPeriod=e.find(".js-endperiod"),t.$starExplanation=e.find(".js-explanation")},_initEvents:function(){this.base();var e=this._boundFunctions,t=this._references;e.onDistrictDataProcessed=this._onDistrictDataProcessed.bind(this),t.districtdataFeed.on("dataProcessed",e.onDistrictDataProcessed),e.onBlockDataProcessed=this._onBlockDataProcessed.bind(this),t.blockdataFeed.on("dataProcessed",e.onBlockDataProcessed),e.onVrpPaymentDataProcessed=this._onVrpPaymentDataProcessed.bind(this),t.vrppaymentdataFeed.on("dataProcessed",e.onVrpPaymentDataProcessed),e.onGoBtnClick=this._onGoBtnClick.bind(this),t.$goButton.on("click",e.onGoBtnClick),e.onPartnerChosen=this._onPartnerChosen.bind(this),t.$partnerList.on("change",this._boundFunctions.onPartnerChosen),e.onFromInputClick=this._onFromInputClick.bind(this),t.$startPeriod.on("mouseover",e.onFromInputClick),e.onToInputClick=this._onToInputClick.bind(this),t.$endPeriod.on("mouseover",e.onToInputClick)},getDistrict:function(){var e=this._references.districtdataFeed.getDistrict();if(e==0)return!1;this._renderDistrict(e),this.initSelect2()},getBlock:function(){var e=this._references.blockdataFeed.getBlock();if(e==0)return!1;this._renderBlock(e),this.initSelect2()},_onFromInputClick:function(){this._renderFromInput()},_onToInputClick:function(){this._renderToInput()},_onDistrictDataProcessed:function(){this.getDistrict()},_onBlockDataProcessed:function(){this.getBlock()},_onVrpPaymentDataProcessed:function(){this.makeReport()},_renderFromInput:function(){var e=this._references;e.$startPeriod.monthpicker()},_renderToInput:function(){var e=this._references;e.$endPeriod.monthpicker()},_renderDistrict:function(e){var t=this._references,i={district:e},s=n.render(p,i);this._references.$districtContainer.html(s),t.$districtList=r(".js-districtlist"),this._boundFunctions.onDistrictChosen=this._onDistrictChosen.bind(this),t.$districtList.on("change",this._boundFunctions.onDistrictChosen)},_renderBlock:function(e){var t=this._references,i={block:e},s=n.render(d,i);this._references.$blockContainer.html(s),t.$blockList=r(".js-blocklist")},initSelect2:function(){var e=this._references;try{$(".chosen-select").select2({no_results_text:"No results match",width:"100%",placeholder:"Choose Block"})}catch(t){$("select.chosen-select").select2({no_results_text:"No results match",width:"100%",placeholder:"Choose Block"})}},_onPartnerChosen:function(){var e=this._references;e.$partnerList.val()!=""&&(e.districtdataFeed.addInputParam("limit",!1,0),e.districtdataFeed.setInputParam("limit",0,!1),e.districtdataFeed.addInputParam("partner",!1,e.$partnerList.val()),e.districtdataFeed.setInputParam("partner",e.$partnerList.val(),!1),this.getDistrict())},_onDistrictChosen:function(){var e=this._references;e.$districtList.val()!=""&&(e.blockdataFeed.addInputParam("limit",!1,0),e.blockdataFeed.setInputParam("limit",0,!1),e.blockdataFeed.addInputParam("partner",!1,e.$partnerList.val()),e.blockdataFeed.setInputParam("partner",e.$partnerList.val(),!1),e.blockdataFeed.addInputParam("district",!1,e.$districtList.val()),e.blockdataFeed.setInputParam("district",e.$districtList.val(),!1),this.getBlock())},_onGoBtnClick:function(e){e.preventDefault();var t=this._references;t.$startPeriod.val()==""||t.$endPeriod.val()==""||t.$partnerList.val()==""||t.$districtList.val()==""||t.$blockList.val()==""?alert("Information Incomplete! Please fill missing entries"):($(document).ready(function(){$.blockUI({css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:.5,color:"#ffffff"}})}),t.$blockList.val()!=""&&(t.vrppaymentdataFeed.addInputParam("limit",!1,0),t.vrppaymentdataFeed.setInputParam("limit",0,!1),t.vrppaymentdataFeed.addInputParam("partner",!1,t.$partnerList.val()),t.vrppaymentdataFeed.setInputParam("partner",t.$partnerList.val(),!1),t.vrppaymentdataFeed.addInputParam("district",!1,t.$districtList.val()),t.vrppaymentdataFeed.setInputParam("district",t.$districtList.val(),!1),t.vrppaymentdataFeed.addInputParam("block",!1,t.$blockList.val()),t.vrppaymentdataFeed.setInputParam("block",t.$blockList.val(),!1),t.vrppaymentdataFeed.addInputParam("startperiod",!1,t.$startPeriod.val()),t.vrppaymentdataFeed.setInputParam("startperiod",t.$startPeriod.val(),!1),t.vrppaymentdataFeed.addInputParam("endperiod",!1,t.$endPeriod.val()),t.vrppaymentdataFeed.setInputParam("endperiod",t.$endPeriod.val(),!1),this.makeReport()))},makeReport:function(){var e=this._references.vrppaymentdataFeed.getReport();if(e==0)return!1;this._renderReport(e)},_renderReport:function(e){var t=this._references;$.unblockUI();var n={report:e};r(t.$starExplanation).removeClass("hidden"),t.$reportTable.DataTable({sDom:'T<"clear">lfrtip',destroy:!0,bAutoWidth:!1,aoColumns:[{sTitle:"S.No"},{sTitle:"Name"},{sTitle:"Village"},{sTitle:"Total Screenings"},{sTitle:"Successful Screening *"},{sTitle:"Successful Video Adoptions **"},{sTitle:"Amount"}],aaData:n.report,oTableTools:{sSwfPath:"/media/social_website/scripts/libs/tabletools_media/swf/copy_csv_xls_pdf.swf"}})},setInputParam:function(e,t,n){this._references.dataFeed.setInputParam(e,t,n)},_onInputParamChanged:function(){this.getCollectionDropDown()},destroy:function(){this.base()}});return v}),define("controllers/VrpPaymentController",["require","controllers/DigitalGreenPageController","app/view-controllers/VrpPaymentViewController","jquery"],function(e){var t=e("controllers/DigitalGreenPageController"),n=e("app/view-controllers/VrpPaymentViewController"),r=e("jquery"),i=t.extend({constructor:function(e,t){this.base(e,t);var n=this._references;return this},_initReferences:function(){this.base();var e=this._references,t=r(".js-analytics-outer-wrapper");e.VrpPaymentViewController=new n(t)},_initEvents:function(){this.base();var e=this._references,t=this._boundFunctions},destroy:function(){this.base()}});return i});