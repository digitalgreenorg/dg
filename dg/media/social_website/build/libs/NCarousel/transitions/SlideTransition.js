define(["require","libs/NCarousel/transitions/Transition","libs/NCarousel/transitions/BasicTransition","framework/Util"],function(e){var t=e("libs/NCarousel/transitions/Transition"),n=e("libs/NCarousel/transitions/BasicTransition"),r=e("framework/Util"),i=t.extend({_virtualNumberOfSlidesModifier:2,constructor:function(e){this.base(e),this._basicTransition=new n(this._carouselReference)},_prepareSlides:function(){this.base();var e=this._getDOMReference("carouselList"),t=this._getDOMReference("carouselSlides"),n=t.eq(0);e.prepend(n.clone(!0)),e.prepend(n.clone(!0))},triggerTransition:function(e,t){var n=this._getDOMReference("carouselList"),r=n.find("> li"),i=e%this._getNumberOfSlides();r.eq(0).replaceWith(r.eq(1).clone(!0)),this._changeSlide(0);var s=r.eq(i+2).clone(!0);r.eq(1).replaceWith(s),this._basicTransition.triggerTransition(1,t)}});return i});