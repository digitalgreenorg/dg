define(["require","framework/controllers/Controller","jquery"],function(e){var t=e("framework/controllers/Controller"),n=e("jquery"),r=t.extend({_bootstrapConfig:null,_browserInformation:null,_windowSize:null,_currentSizeRange:null,_globalHelpers:{},constructor:function(e,t,n){return this.base(n),e||(e={}),this._bootstrapConfig=e,this.setGlobalHelpers(t),this.__detectBrowser(),this.__updateWindowSize(),this.__updateSizeRange(),this},setGlobalHelpers:function(e){var t;for(t in e)this.globalHelper(t,e[t]);return this},globalHelper:function(e,t){if(!e||typeof e!="string")return;if(t==null)return this._globalHelpers[e];this._globalHelpers[e]=t},getBrowserInformation:function(){return this._browserInformation},isMobile:function(){return this._browserInformation.isMobile},_onSizeRangeChange:function(){},destroy:function(){this._bootstrapConfig=null,this._bootstrapData=null,this.base()},__detectBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=e.indexOf("iphone"),r=e.indexOf("ipad"),i=e.indexOf("ipod"),s=t>-1||r>-1||i>-1,o=e.indexOf("android")>-1,u=n.browser.msie==1,a=u?parseFloat(n.browser.version,10):undefined,f=this._browserInformation={isIE:u,IEVersion:a,isIOS:s,isAndroid:o,isMobile:s||o,hasTouchEvents:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},l=document.body;f.isMobile&&(l.className+=(l.className!=""?" ":"")+"mobile")},__onWindowResize:function(){this.__updateWindowSize()},__updateWindowSize:function(){var e=this._windowSize;this.__readWindowSize();var t=this._windowSize;if(e!=null&&e.width==t.width&&e.height==t.height)return;this.trigger("windowResized"),this.__updateSizeRange()},__updateSizeRange:function(){var e=this._windowSize,t=this._currentSizeRange,n=this._bootstrapConfig.sizeRanges;if(!(n&&n instanceof Array))return;for(var r=0,i=n.length;r<i;r++){var s=n[r];if(e.width>s.minWidth&&(s.maxWidth==null||e.width<=s.maxWidth)){this._currentSizeRange=s,t!=s&&this.triggerEvent("sizeRangeChanged",s);break}}},__readWindowSize:function(){var e=n(window);this._windowSize={width:e.width(),height:e.height()}}});return r});