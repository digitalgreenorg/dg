define(["require","framework/misc/polyfills","framework/LifecycleBase"],function(e){e("framework/misc/polyfills");var t=e("framework/LifecycleBase"),n=t.extend({_config:null,_globalHelpers:null,_controllerInitialized:!1,constructor:function(e,t){this.base(),e==null&&(e={}),this._config=e,this._globalHelpers={};if(t===!1)return;return this._initController(),this},registerGlobalHelper:function(e,t){if(!e||typeof e!="string"||!t||typeof t!="object")return;return this._globalHelpers[e]=t,this},init:function(){return this._initController(),this},_initController:function(){if(this._controllerInitialized)return;var t=document.body,n=t.getAttribute("data-controller");if(!n)return;n=n.charAt(0).toUpperCase()+n.substr(1);var r=this;e(["controllers/"+n+"Controller"],function(e){r._controller=new e(r._config,r._globalHelpers)}),this._controllerInitialized=!0},destroy:function(){this._controller=null,this.base()}});return n});